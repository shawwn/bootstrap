<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>Bootstrap Engine: GrPolygonBSPArea Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css">
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.8 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="annotated.html"><span>Class&nbsp;List</span></a></li>
      <li><a href="hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&nbsp;Members</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>GrPolygonBSPArea Class Reference</h1><!-- doxytag: class="GrPolygonBSPArea" -->class <a class="el" href="class_gr_polygon_b_s_p_area.html" title="class GrPolygonBSPArea">GrPolygonBSPArea</a>  
<a href="#_details">More...</a>
<p>
<code>#include &lt;<a class="el" href="_gr_polygon_b_s_p_area_8h-source.html">GrPolygonBSPArea.h</a>&gt;</code>
<p>

<p>
<a href="class_gr_polygon_b_s_p_area-members.html">List of all members.</a><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Public Types</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">typedef std::vector&lt; <a class="el" href="class_gr_mesh_inst.html">GrMeshInst</a> * &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_gr_polygon_b_s_p_area.html#b824c31e82278ab2ad80a6401a6e3847">MeshInstVector</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">typedef <a class="el" href="class_u_fast_array.html">UFastArray</a><br class="typebreak">
&lt; <a class="el" href="class_gr_polygon_b_s_p_portal_set.html">GrPolygonBSPPortalSet</a> * &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_gr_polygon_b_s_p_area.html#685afa93a012b1cfa2aba2ed063116b1">PortalSetArray</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">typedef std::vector<br class="typebreak">
&lt; <a class="el" href="class_gr_polygon_b_s_p_area.html">GrPolygonBSPArea</a> * &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_gr_polygon_b_s_p_area.html#38f1607c390fa9072023baccfefd88d1">AreaVector</a></td></tr>

<tr><td colspan="2"><br><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_gr_polygon_b_s_p_area.html#9fdd7b9d43647ca566f1c00b20fc11ba">GrPolygonBSPArea</a> (const <a class="el" href="class_gr_polygon_group.html">GrPolygonGroup</a> &amp;polygons)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">class header.  <a href="#9fdd7b9d43647ca566f1c00b20fc11ba"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_gr_polygon_b_s_p_area.html#c7e3331609edd245efdba8ef8b7e8cc4">GrPolygonBSPArea</a> (<a class="el" href="class_u_reader.html">UReader</a> &amp;reader)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_gr_polygon_b_s_p_area.html#5892b7c346ad8b00b9c384211e9ed12d">~GrPolygonBSPArea</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_gr_polygon_b_s_p_area.html#15324cca2e63613b45d88de81b4f8666">GetVisibilityData</a> (const std::vector&lt; unsigned int &gt; **pvsIndices) const </td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">returns a pointer to the list of visibility info.  <a href="#15324cca2e63613b45d88de81b4f8666"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">const <a class="el" href="class_m_a_a_box.html">MAABox</a> &amp;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_gr_polygon_b_s_p_area.html#dab93dce455697f234e10a72b57806c9">GetBoundingAABox</a> () const </td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">mark the area as visible.  <a href="#dab93dce455697f234e10a72b57806c9"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="class_m_sphere.html">MSphere</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_gr_polygon_b_s_p_area.html#3cc8969be9caa17c5beae9ff355ea462">GetBoundingSphere</a> () const </td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="class_gr_polygon_group.html">GrPolygonGroup</a> &amp;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_gr_polygon_b_s_p_area.html#63247847ab821f68c3c8d6b166ebc419">GetPolygons</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">local polygons.  <a href="#63247847ab821f68c3c8d6b166ebc419"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">const <a class="el" href="class_gr_polygon_group.html">GrPolygonGroup</a> &amp;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_gr_polygon_b_s_p_area.html#bf71c666d5f57293255b47e577b6f757">GetPolygons</a> () const </td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_gr_polygon_b_s_p_area.html#ced30316ed0ae05a05b8b5242ae9cc73">GenUberTexData</a> (float texelsPerMeter)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">generate ubertexture data.  <a href="#ced30316ed0ae05a05b8b5242ae9cc73"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_gr_polygon_b_s_p_area.html#e32bb3ed77dc93651dbbaaf8ae55b5c8">AddPortal</a> (<a class="el" href="class_gr_polygon_b_s_p_portal_set.html">GrPolygonBSPPortalSet</a> *portal)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">adds a portal.  <a href="#e32bb3ed77dc93651dbbaaf8ae55b5c8"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_gr_polygon_b_s_p_area.html#5149561c0870fd83f3a77d3e9b94072e">FindNeighbors</a> (<a class="el" href="class_gr_polygon_b_s_p_split.html">GrPolygonBSPSplit</a> *root)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_gr_polygon_b_s_p_area.html#2d77bc4b77ace5d859713e906db5e295">FixTJuncs</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">checks neighbors for any tjunctions and fixes them.  <a href="#2d77bc4b77ace5d859713e906db5e295"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_gr_polygon_b_s_p_area.html#93c40f74ada66587db01a2c044421d02">CalcPVS</a> (const std::vector&lt; <a class="el" href="class_gr_polygon_b_s_p_area.html">GrPolygonBSPArea</a> * &gt; &amp;leaves)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">builds a list of visible leaves.  <a href="#93c40f74ada66587db01a2c044421d02"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_gr_polygon_b_s_p_area.html#e35cc92d44e0aed14c6b6d3dcc40ea40">CalcPVSAllVisibleIndices</a> (unsigned int leafCount)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">sets PVS to all leaves.  <a href="#e35cc92d44e0aed14c6b6d3dcc40ea40"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_gr_polygon_b_s_p_area.html#1b7856f8931a29e532bb823fe9d0c78f">CompressPVSData</a> (const std::vector&lt; <a class="el" href="class_gr_polygon_b_s_p_area.html">GrPolygonBSPArea</a> * &gt; &amp;leaves)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">compresses PVS data to a list of indices into the array passed in.  <a href="#1b7856f8931a29e532bb823fe9d0c78f"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_gr_polygon_b_s_p_area.html#6e7ef012b866a7d4d69e8fec2aa10ff3">GetIntersect</a> (<a class="el" href="class_m_vec3.html">MVec3</a> &amp;hitPos, const <a class="el" href="class_m_ray.html">MRay</a> &amp;ray, float maxDist)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">checks for an intersection with the ray passed in.  <a href="#6e7ef012b866a7d4d69e8fec2aa10ff3"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">const <a class="el" href="class_u_fast_array.html">PortalSetArray</a> &amp;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_gr_polygon_b_s_p_area.html#925ba1cab922c0cc8985f656f49e22b1">GetPortalSets</a> () const </td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_gr_polygon_b_s_p_area.html#6985c4d6183a19c0bc0df57f8aa2c8fb">GetUberTexData</a> (std::vector&lt; <a class="el" href="class_gr_polygon_uber_patch_group.html">GrPolygonUberPatchGroup</a> * &gt; &amp;dataArray) const </td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">returns the ubertexture data for the current area.  <a href="#6985c4d6183a19c0bc0df57f8aa2c8fb"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="class_gr_polygon_uber_patch_group.html">GrPolygonUberPatchGroup</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_gr_polygon_b_s_p_area.html#655bfe84fb8008826d8bda2eb2d6f482">GetUberTexPatchGroup</a> () const </td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_gr_polygon_b_s_p_area.html#034f884ac7b83c468d3b1d2947950013">Load</a> (<a class="el" href="class_u_reader.html">UReader</a> &amp;reader)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">leaf load/save.  <a href="#034f884ac7b83c468d3b1d2947950013"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_gr_polygon_b_s_p_area.html#22eb539982e6f805ef94c58294940aeb">Save</a> (<a class="el" href="class_u_writer.html">UWriter</a> &amp;writer)</td></tr>

</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
class <a class="el" href="class_gr_polygon_b_s_p_area.html" title="class GrPolygonBSPArea">GrPolygonBSPArea</a> 
<p>Definition at line <a class="el" href="_gr_polygon_b_s_p_area_8h-source.html#l00037">37</a> of file <a class="el" href="_gr_polygon_b_s_p_area_8h-source.html">GrPolygonBSPArea.h</a>.</p>
<hr><h2>Member Typedef Documentation</h2>
<a class="anchor" name="38f1607c390fa9072023baccfefd88d1"></a><!-- doxytag: member="GrPolygonBSPArea::AreaVector" ref="38f1607c390fa9072023baccfefd88d1" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef std::vector&lt; <a class="el" href="class_gr_polygon_b_s_p_area.html">GrPolygonBSPArea</a>* &gt; <a class="el" href="class_gr_polygon_b_s_p_area.html#38f1607c390fa9072023baccfefd88d1">GrPolygonBSPArea::AreaVector</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="_gr_polygon_b_s_p_area_8h-source.html#l00042">42</a> of file <a class="el" href="_gr_polygon_b_s_p_area_8h-source.html">GrPolygonBSPArea.h</a>.</p>

</div>
</div><p>
<a class="anchor" name="b824c31e82278ab2ad80a6401a6e3847"></a><!-- doxytag: member="GrPolygonBSPArea::MeshInstVector" ref="b824c31e82278ab2ad80a6401a6e3847" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef std::vector&lt; <a class="el" href="class_gr_mesh_inst.html">GrMeshInst</a>* &gt; <a class="el" href="class_gr_polygon_b_s_p_area.html#b824c31e82278ab2ad80a6401a6e3847">GrPolygonBSPArea::MeshInstVector</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="_gr_polygon_b_s_p_area_8h-source.html#l00040">40</a> of file <a class="el" href="_gr_polygon_b_s_p_area_8h-source.html">GrPolygonBSPArea.h</a>.</p>

</div>
</div><p>
<a class="anchor" name="685afa93a012b1cfa2aba2ed063116b1"></a><!-- doxytag: member="GrPolygonBSPArea::PortalSetArray" ref="685afa93a012b1cfa2aba2ed063116b1" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef <a class="el" href="class_u_fast_array.html">UFastArray</a>&lt; <a class="el" href="class_gr_polygon_b_s_p_portal_set.html">GrPolygonBSPPortalSet</a>* &gt; <a class="el" href="class_u_fast_array.html">GrPolygonBSPArea::PortalSetArray</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="_gr_polygon_b_s_p_area_8h-source.html#l00041">41</a> of file <a class="el" href="_gr_polygon_b_s_p_area_8h-source.html">GrPolygonBSPArea.h</a>.</p>

</div>
</div><p>
<hr><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" name="9fdd7b9d43647ca566f1c00b20fc11ba"></a><!-- doxytag: member="GrPolygonBSPArea::GrPolygonBSPArea" ref="9fdd7b9d43647ca566f1c00b20fc11ba" args="(const GrPolygonGroup &amp;polygons)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">GrPolygonBSPArea::GrPolygonBSPArea           </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_gr_polygon_group.html">GrPolygonGroup</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>hullPolygons</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
class header. 
<p>
File: <a class="el" href="_gr_polygon_b_s_p_area_8h.html">GrPolygonBSPArea.h</a> Author: Kevin Bray Created: 09-12-06 Copyright © 2004 Bootstrap Studios. All rights reserved. project includes. class <a class="el" href="class_gr_polygon_b_s_p_area.html" title="class GrPolygonBSPArea">GrPolygonBSPArea</a> ctor &amp; dtor 
<p>Definition at line <a class="el" href="_gr_polygon_b_s_p_area_8cpp-source.html#l00034">34</a> of file <a class="el" href="_gr_polygon_b_s_p_area_8cpp-source.html">GrPolygonBSPArea.cpp</a>.</p>

</div>
</div><p>
<a class="anchor" name="c7e3331609edd245efdba8ef8b7e8cc4"></a><!-- doxytag: member="GrPolygonBSPArea::GrPolygonBSPArea" ref="c7e3331609edd245efdba8ef8b7e8cc4" args="(UReader &amp;reader)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">GrPolygonBSPArea::GrPolygonBSPArea           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_u_reader.html">UReader</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>reader</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="_gr_polygon_b_s_p_area_8cpp-source.html#l00043">43</a> of file <a class="el" href="_gr_polygon_b_s_p_area_8cpp-source.html">GrPolygonBSPArea.cpp</a>.</p>

</div>
</div><p>
<a class="anchor" name="5892b7c346ad8b00b9c384211e9ed12d"></a><!-- doxytag: member="GrPolygonBSPArea::~GrPolygonBSPArea" ref="5892b7c346ad8b00b9c384211e9ed12d" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">GrPolygonBSPArea::~GrPolygonBSPArea           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="_gr_polygon_b_s_p_area_8cpp-source.html#l00050">50</a> of file <a class="el" href="_gr_polygon_b_s_p_area_8cpp-source.html">GrPolygonBSPArea.cpp</a>.</p>

</div>
</div><p>
<hr><h2>Member Function Documentation</h2>
<a class="anchor" name="e32bb3ed77dc93651dbbaaf8ae55b5c8"></a><!-- doxytag: member="GrPolygonBSPArea::AddPortal" ref="e32bb3ed77dc93651dbbaaf8ae55b5c8" args="(GrPolygonBSPPortalSet *portal)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void GrPolygonBSPArea::AddPortal           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_gr_polygon_b_s_p_portal_set.html">GrPolygonBSPPortalSet</a> *&nbsp;</td>
          <td class="paramname"> <em>portal</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
adds a portal. 
<p>

<p>
set ourselves as the owner of the portal passed in.<p>
ensure that the portal being added is helping to form a convex hull.<p>
add the new portal only if necessary. 
<p>Definition at line <a class="el" href="_gr_polygon_b_s_p_area_8cpp-source.html#l00093">93</a> of file <a class="el" href="_gr_polygon_b_s_p_area_8cpp-source.html">GrPolygonBSPArea.cpp</a>.</p>

</div>
</div><p>
<a class="anchor" name="93c40f74ada66587db01a2c044421d02"></a><!-- doxytag: member="GrPolygonBSPArea::CalcPVS" ref="93c40f74ada66587db01a2c044421d02" args="(const std::vector&lt; GrPolygonBSPArea * &gt; &amp;leaves)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void GrPolygonBSPArea::CalcPVS           </td>
          <td>(</td>
          <td class="paramtype">const std::vector&lt; <a class="el" href="class_gr_polygon_b_s_p_area.html">GrPolygonBSPArea</a> * &gt; &amp;&nbsp;</td>
          <td class="paramname"> <em>leaves</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
builds a list of visible leaves. 
<p>

<p>
a vector of all potentially visible leaves and add ourselves.<p>
set our flood ID.<p>
now flood all neighbors.<p>
get the neighbor.<p>
we only want to flood into neighbors that have polygons!<p>
get the current portal set.<p>
calculate visibility for each portal in the current set.<p>
flood the neighbor from the current portal.<p>
copy data in the visible set into the visibility array.<p>
increment the flood ID so the next flood can take place. 
<p>Definition at line <a class="el" href="_gr_polygon_b_s_p_area_8cpp-source.html#l00179">179</a> of file <a class="el" href="_gr_polygon_b_s_p_area_8cpp-source.html">GrPolygonBSPArea.cpp</a>.</p>

</div>
</div><p>
<a class="anchor" name="e35cc92d44e0aed14c6b6d3dcc40ea40"></a><!-- doxytag: member="GrPolygonBSPArea::CalcPVSAllVisibleIndices" ref="e35cc92d44e0aed14c6b6d3dcc40ea40" args="(unsigned int leafCount)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void GrPolygonBSPArea::CalcPVSAllVisibleIndices           </td>
          <td>(</td>
          <td class="paramtype">unsigned int&nbsp;</td>
          <td class="paramname"> <em>leafCount</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
sets PVS to all leaves. 
<p>

<p>Definition at line <a class="el" href="_gr_polygon_b_s_p_area_8cpp-source.html#l00252">252</a> of file <a class="el" href="_gr_polygon_b_s_p_area_8cpp-source.html">GrPolygonBSPArea.cpp</a>.</p>

</div>
</div><p>
<a class="anchor" name="1b7856f8931a29e532bb823fe9d0c78f"></a><!-- doxytag: member="GrPolygonBSPArea::CompressPVSData" ref="1b7856f8931a29e532bb823fe9d0c78f" args="(const std::vector&lt; GrPolygonBSPArea * &gt; &amp;leaves)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void GrPolygonBSPArea::CompressPVSData           </td>
          <td>(</td>
          <td class="paramtype">const std::vector&lt; <a class="el" href="class_gr_polygon_b_s_p_area.html">GrPolygonBSPArea</a> * &gt; &amp;&nbsp;</td>
          <td class="paramname"> <em>leaves</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
compresses PVS data to a list of indices into the array passed in. 
<p>

<p>
once we've found the leaf, record it's index. 
<p>Definition at line <a class="el" href="_gr_polygon_b_s_p_area_8cpp-source.html#l00260">260</a> of file <a class="el" href="_gr_polygon_b_s_p_area_8cpp-source.html">GrPolygonBSPArea.cpp</a>.</p>

</div>
</div><p>
<a class="anchor" name="5149561c0870fd83f3a77d3e9b94072e"></a><!-- doxytag: member="GrPolygonBSPArea::FindNeighbors" ref="5149561c0870fd83f3a77d3e9b94072e" args="(GrPolygonBSPSplit *root)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void GrPolygonBSPArea::FindNeighbors           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_gr_polygon_b_s_p_split.html">GrPolygonBSPSplit</a> *&nbsp;</td>
          <td class="paramname"> <em>root</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
checks if the leaf passed in is a neighbor, and if so, adds it to it's neighbor list. 
<p>
take all of our portal sets and re-insert them into the BSP tree. for every leaf we hit where geometry is still left, then we have found a neighbor.<p>
note that FindPortalSetNeighbors will delete the portal passed in.<p>
free all current portals and use the neighbor links instead.<p>
calculate the bounding sphere for all portals 
<p>Definition at line <a class="el" href="_gr_polygon_b_s_p_area_8cpp-source.html#l00133">133</a> of file <a class="el" href="_gr_polygon_b_s_p_area_8cpp-source.html">GrPolygonBSPArea.cpp</a>.</p>

</div>
</div><p>
<a class="anchor" name="2d77bc4b77ace5d859713e906db5e295"></a><!-- doxytag: member="GrPolygonBSPArea::FixTJuncs" ref="2d77bc4b77ace5d859713e906db5e295" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void GrPolygonBSPArea::FixTJuncs           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
checks neighbors for any tjunctions and fixes them. 
<p>

<p>
portal sets are the links to neighbors.<p>
get the current neighbor and make sure it's valid.<p>
fix t-junctions with the current neighbor. 
<p>Definition at line <a class="el" href="_gr_polygon_b_s_p_area_8cpp-source.html#l00162">162</a> of file <a class="el" href="_gr_polygon_b_s_p_area_8cpp-source.html">GrPolygonBSPArea.cpp</a>.</p>

</div>
</div><p>
<a class="anchor" name="ced30316ed0ae05a05b8b5242ae9cc73"></a><!-- doxytag: member="GrPolygonBSPArea::GenUberTexData" ref="ced30316ed0ae05a05b8b5242ae9cc73" args="(float texelsPerMeter)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void GrPolygonBSPArea::GenUberTexData           </td>
          <td>(</td>
          <td class="paramtype">float&nbsp;</td>
          <td class="paramname"> <em>texelsPerMeter</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
generate ubertexture data. 
<p>

<p>
in the future, we need to have a separate geometry group that contains only ubertextured polygons. 
<p>Definition at line <a class="el" href="_gr_polygon_b_s_p_area_8cpp-source.html#l00084">84</a> of file <a class="el" href="_gr_polygon_b_s_p_area_8cpp-source.html">GrPolygonBSPArea.cpp</a>.</p>

</div>
</div><p>
<a class="anchor" name="dab93dce455697f234e10a72b57806c9"></a><!-- doxytag: member="GrPolygonBSPArea::GetBoundingAABox" ref="dab93dce455697f234e10a72b57806c9" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="class_m_a_a_box.html">MAABox</a> &amp; GrPolygonBSPArea::GetBoundingAABox           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
mark the area as visible. 
<p>

<p>Definition at line <a class="el" href="_gr_polygon_b_s_p_area_8cpp-source.html#l00070">70</a> of file <a class="el" href="_gr_polygon_b_s_p_area_8cpp-source.html">GrPolygonBSPArea.cpp</a>.</p>

</div>
</div><p>
<a class="anchor" name="3cc8969be9caa17c5beae9ff355ea462"></a><!-- doxytag: member="GrPolygonBSPArea::GetBoundingSphere" ref="3cc8969be9caa17c5beae9ff355ea462" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_m_sphere.html">MSphere</a> GrPolygonBSPArea::GetBoundingSphere           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="_gr_polygon_b_s_p_area_8cpp-source.html#l00077">77</a> of file <a class="el" href="_gr_polygon_b_s_p_area_8cpp-source.html">GrPolygonBSPArea.cpp</a>.</p>

</div>
</div><p>
<a class="anchor" name="6e7ef012b866a7d4d69e8fec2aa10ff3"></a><!-- doxytag: member="GrPolygonBSPArea::GetIntersect" ref="6e7ef012b866a7d4d69e8fec2aa10ff3" args="(MVec3 &amp;hitPos, const MRay &amp;ray, float maxDist)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool GrPolygonBSPArea::GetIntersect           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_m_vec3.html">MVec3</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>hitPos</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="class_m_ray.html">MRay</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>ray</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&nbsp;</td>
          <td class="paramname"> <em>maxDist</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
checks for an intersection with the ray passed in. 
<p>

<p>
ignore if we don't hit the AABB.<p>
check all polygons for a collision.<p>
now check all polygons for ray intersection.<p>
perform the intersection test. 
<p>Definition at line <a class="el" href="_gr_polygon_b_s_p_area_8cpp-source.html#l00287">287</a> of file <a class="el" href="_gr_polygon_b_s_p_area_8cpp-source.html">GrPolygonBSPArea.cpp</a>.</p>

</div>
</div><p>
<a class="anchor" name="bf71c666d5f57293255b47e577b6f757"></a><!-- doxytag: member="GrPolygonBSPArea::GetPolygons" ref="bf71c666d5f57293255b47e577b6f757" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="class_gr_polygon_group.html">GrPolygonGroup</a>&amp; GrPolygonBSPArea::GetPolygons           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td> const<code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="_gr_polygon_b_s_p_area_8h-source.html#l00057">57</a> of file <a class="el" href="_gr_polygon_b_s_p_area_8h-source.html">GrPolygonBSPArea.h</a>.</p>

</div>
</div><p>
<a class="anchor" name="63247847ab821f68c3c8d6b166ebc419"></a><!-- doxytag: member="GrPolygonBSPArea::GetPolygons" ref="63247847ab821f68c3c8d6b166ebc419" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_gr_polygon_group.html">GrPolygonGroup</a>&amp; GrPolygonBSPArea::GetPolygons           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
local polygons. 
<p>

<p>Definition at line <a class="el" href="_gr_polygon_b_s_p_area_8h-source.html#l00056">56</a> of file <a class="el" href="_gr_polygon_b_s_p_area_8h-source.html">GrPolygonBSPArea.h</a>.</p>

</div>
</div><p>
<a class="anchor" name="925ba1cab922c0cc8985f656f49e22b1"></a><!-- doxytag: member="GrPolygonBSPArea::GetPortalSets" ref="925ba1cab922c0cc8985f656f49e22b1" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="class_u_fast_array.html">PortalSetArray</a>&amp; GrPolygonBSPArea::GetPortalSets           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td> const<code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
returns the list of portal sets. Note that each portal set contains a pointer to the neighbor the portals in it connect to. 
<p>Definition at line <a class="el" href="_gr_polygon_b_s_p_area_8h-source.html#l00086">86</a> of file <a class="el" href="_gr_polygon_b_s_p_area_8h-source.html">GrPolygonBSPArea.h</a>.</p>

</div>
</div><p>
<a class="anchor" name="6985c4d6183a19c0bc0df57f8aa2c8fb"></a><!-- doxytag: member="GrPolygonBSPArea::GetUberTexData" ref="6985c4d6183a19c0bc0df57f8aa2c8fb" args="(std::vector&lt; GrPolygonUberPatchGroup * &gt; &amp;dataArray) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void GrPolygonBSPArea::GetUberTexData           </td>
          <td>(</td>
          <td class="paramtype">std::vector&lt; <a class="el" href="class_gr_polygon_uber_patch_group.html">GrPolygonUberPatchGroup</a> * &gt; &amp;&nbsp;</td>
          <td class="paramname"> <em>dataArray</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
returns the ubertexture data for the current area. 
<p>

<p>Definition at line <a class="el" href="_gr_polygon_b_s_p_area_8cpp-source.html#l00320">320</a> of file <a class="el" href="_gr_polygon_b_s_p_area_8cpp-source.html">GrPolygonBSPArea.cpp</a>.</p>

</div>
</div><p>
<a class="anchor" name="655bfe84fb8008826d8bda2eb2d6f482"></a><!-- doxytag: member="GrPolygonBSPArea::GetUberTexPatchGroup" ref="655bfe84fb8008826d8bda2eb2d6f482" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_gr_polygon_uber_patch_group.html">GrPolygonUberPatchGroup</a>* GrPolygonBSPArea::GetUberTexPatchGroup           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td> const<code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="_gr_polygon_b_s_p_area_8h-source.html#l00090">90</a> of file <a class="el" href="_gr_polygon_b_s_p_area_8h-source.html">GrPolygonBSPArea.h</a>.</p>

</div>
</div><p>
<a class="anchor" name="15324cca2e63613b45d88de81b4f8666"></a><!-- doxytag: member="GrPolygonBSPArea::GetVisibilityData" ref="15324cca2e63613b45d88de81b4f8666" args="(const std::vector&lt; unsigned int &gt; **pvsIndices) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void GrPolygonBSPArea::GetVisibilityData           </td>
          <td>(</td>
          <td class="paramtype">const std::vector&lt; unsigned int &gt; **&nbsp;</td>
          <td class="paramname"> <em>pvsIndices</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
returns a pointer to the list of visibility info. 
<p>
public methods 
<p>Definition at line <a class="el" href="_gr_polygon_b_s_p_area_8cpp-source.html#l00062">62</a> of file <a class="el" href="_gr_polygon_b_s_p_area_8cpp-source.html">GrPolygonBSPArea.cpp</a>.</p>

</div>
</div><p>
<a class="anchor" name="034f884ac7b83c468d3b1d2947950013"></a><!-- doxytag: member="GrPolygonBSPArea::Load" ref="034f884ac7b83c468d3b1d2947950013" args="(UReader &amp;reader)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void GrPolygonBSPArea::Load           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_u_reader.html">UReader</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>reader</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
leaf load/save. 
<p>

<p>
read in polygons.<p>
read in PVS data. 
<p>Definition at line <a class="el" href="_gr_polygon_b_s_p_area_8cpp-source.html#l00328">328</a> of file <a class="el" href="_gr_polygon_b_s_p_area_8cpp-source.html">GrPolygonBSPArea.cpp</a>.</p>

</div>
</div><p>
<a class="anchor" name="22eb539982e6f805ef94c58294940aeb"></a><!-- doxytag: member="GrPolygonBSPArea::Save" ref="22eb539982e6f805ef94c58294940aeb" args="(UWriter &amp;writer)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void GrPolygonBSPArea::Save           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_u_writer.html">UWriter</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>writer</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>
write out polygons.<p>
write out PVS data. 
<p>Definition at line <a class="el" href="_gr_polygon_b_s_p_area_8cpp-source.html#l00345">345</a> of file <a class="el" href="_gr_polygon_b_s_p_area_8cpp-source.html">GrPolygonBSPArea.cpp</a>.</p>

</div>
</div><p>
<hr>The documentation for this class was generated from the following files:<ul>
<li>C:/Bootstrap/ProjectBX/Documentation/Code/Engine/Graphics/<a class="el" href="_gr_polygon_b_s_p_area_8h-source.html">GrPolygonBSPArea.h</a><li>C:/Bootstrap/ProjectBX/Documentation/Code/Engine/Graphics/<a class="el" href="_gr_polygon_b_s_p_area_8cpp-source.html">GrPolygonBSPArea.cpp</a></ul>
</div>
<hr size="1"><address style="text-align: right;"><small>Generated on Fri Feb 13 17:20:05 2009 for Bootstrap Engine by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.8 </small></address>
</body>
</html>
