<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>Bootstrap Engine: GrModel Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css">
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.8 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="annotated.html"><span>Class&nbsp;List</span></a></li>
      <li><a href="hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&nbsp;Members</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>GrModel Class Reference</h1><!-- doxytag: class="GrModel" --><!-- doxytag: inherits="URefCount" -->class <a class="el" href="class_gr_model.html" title="class GrModel">GrModel</a>  
<a href="#_details">More...</a>
<p>
<code>#include &lt;<a class="el" href="_gr_model_8h-source.html">GrModel.h</a>&gt;</code>
<p>
<div class="dynheader">
Inheritance diagram for GrModel:</div>
<div class="dynsection">

<p><center><img src="class_gr_model.png" usemap="#GrModel_map" border="0" alt=""></center>
<map name="GrModel_map">
<area href="class_u_ref_count.html" alt="URefCount" shape="rect" coords="0,0,72,24">
</map>
</div>

<p>
<a href="class_gr_model-members.html">List of all members.</a><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Classes</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><b>SLightAttachment</b></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">light attachment. <br></td></tr>
<tr><td colspan="2"><br><h2>Public Types</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">typedef <a class="el" href="class_u_fast_array.html">UFastArray</a>&lt; <a class="el" href="class_u_ref.html">URef</a><br class="typebreak">
&lt; <a class="el" href="class_gr_model.html">GrModel</a> &gt; &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_gr_model.html#1bc87aacfe8601c9096280a5257679cd">ModelArray</a></td></tr>

<tr><td colspan="2"><br><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_gr_model.html#4def572ffb7a4575939f3286d566ac4a">GrModel</a> (const <a class="el" href="common__afx_8h.html#816fa58fd77499b0edb2c69ebe803d5c">tstring</a> &amp;<a class="el" href="glext__bak_8h.html#bb62efe59ccdd153ce42e1a418352209">name</a>)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">this is a special constructor reserved for use by the scene only.  <a href="#4def572ffb7a4575939f3286d566ac4a"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_gr_model.html#15d52f8774a7781ad079f8bf3604226f">GrModel</a> (const <a class="el" href="class_u_path.html">UPath</a> &amp;instName, <a class="el" href="class_gr_polygon_node.html">GrPolygonNode</a> *root)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">constructs a model out of the node tree passed in.  <a href="#15d52f8774a7781ad079f8bf3604226f"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_gr_model.html#2cf8487be82f62f575f549e0081435ae">GrModel</a> (const <a class="el" href="class_u_path.html">UPath</a> &amp;fileName, const <a class="el" href="class_u_path.html">UPath</a> &amp;instName, <a class="el" href="class_u_reader.html">UReader</a> &amp;reader)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_gr_model.html#e48b47449f463e0b0a7b42943db1310c">~GrModel</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">const <a class="el" href="class_u_path.html">UPath</a> &amp;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_gr_model.html#390da9636c9c396d1fa3241b72ff6166">GetFileName</a> () const </td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">returns information about the model's name.  <a href="#390da9636c9c396d1fa3241b72ff6166"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">const <a class="el" href="class_u_path.html">UPath</a> &amp;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_gr_model.html#e8a075163c88d6bf6623db37d65cd17a">GetInstName</a> () const </td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_gr_model.html#155e00b717c10f201168f4dfc1f2c141">SetPickable</a> (bool pickable)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_gr_model.html#fa97c9215a2c2dcee2df132561f03698">GetPickable</a> () const </td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="class_gr_model.html">GrModel</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_gr_model.html#29d55ee007063d294ee9097c56d9f453">Clone</a> (const <a class="el" href="class_u_path.html">UPath</a> &amp;instName, bool deep=false, bool lights=false) const </td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">public methods  <a href="#29d55ee007063d294ee9097c56d9f453"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="class_gr_model.html">GrModel</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_gr_model.html#fe7a05f880c1d67b55ef8130971836d6">CloneFile</a> (const <a class="el" href="class_u_path.html">UPath</a> &amp;fileName, const <a class="el" href="class_u_path.html">UPath</a> &amp;instName) const </td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="class_gr_model.html">GrModel</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_gr_model.html#ad017a6434f66a1051a57920b0561098">GetParent</a> () const </td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="class_gr_model_node.html">GrModelNode</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_gr_model.html#3497944f601c7427a96f66cafc3a151e">GetParentNode</a> () const </td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="class_gr_anim_player.html">GrAnimPlayer</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_gr_model.html#1d20cf8034ee3a0bd2fe1506fe81f73d">GetAnimPlayer</a> (bool create=false)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="class_gr_anim_player.html">GrAnimPlayer</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_gr_model.html#1759e9f0d11efd39892411dc80fd3312">GetAnimPlayer</a> () const </td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_gr_model.html#8ae2497533c112953c1b4d4cc0e72cad">SetDefaultAnim</a> (<a class="el" href="class_gr_k_f_anim.html">GrKFAnim</a> *anim)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">ambient animation.  <a href="#8ae2497533c112953c1b4d4cc0e72cad"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="class_gr_k_f_anim.html">GrKFAnim</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_gr_model.html#a9b644ea4efa86b73299934940c8b155">GetDefaultAnim</a> () const </td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_gr_model.html#e99405dcb83200626b7c715755f70836">SetLocal</a> (const <a class="el" href="class_m_mat4x4.html">MMat4x4</a> &amp;<a class="el" href="glext__bak_8h.html#07993c0d92c1aeeb357ba0495c8b5325">transform</a>)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">local transform.  <a href="#e99405dcb83200626b7c715755f70836"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">const <a class="el" href="class_m_mat4x4.html">MMat4x4</a> &amp;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_gr_model.html#539780a5145b366b29e97a480846f67d">GetLocal</a> () const </td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_gr_model.html#a3f1827d34de5f0c67d20103cf0d97bc">SetWorld</a> (const <a class="el" href="class_m_mat4x4.html">MMat4x4</a> &amp;<a class="el" href="glext__bak_8h.html#07993c0d92c1aeeb357ba0495c8b5325">transform</a>)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="class_m_mat4x4.html">MMat4x4</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_gr_model.html#624ce6372c1bdd5a077e51c16adb9242">GetWorld</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">const <a class="el" href="class_m_a_a_box.html">MAABox</a> &amp;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_gr_model.html#3667043cfbdca6e413d4de9d0449aa5f">GetBounds</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">returns the current bounds of the model.  <a href="#3667043cfbdca6e413d4de9d0449aa5f"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="class_gr_model_node.html">GrModelNode</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_gr_model.html#c5dbd78174e81a8cd4c64782d9b21bc9">GetRootNode</a> () const </td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">node manipulation.  <a href="#c5dbd78174e81a8cd4c64782d9b21bc9"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_gr_model.html#c232d8ab1c8c5e6349acd53eebc9db61">AddChild</a> (<a class="el" href="class_u_ref.html">URef</a>&lt; <a class="el" href="class_gr_model.html">GrModel</a> &gt; model, <a class="el" href="class_gr_model_node.html">GrModelNode</a> *attachTo=0)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">child models.  <a href="#c232d8ab1c8c5e6349acd53eebc9db61"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">unsigned int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_gr_model.html#0d67f658382989a2dc3744dc88b28c22">GetChildCount</a> () const </td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="class_u_ref.html">URef</a>&lt; <a class="el" href="class_gr_model.html">GrModel</a> &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_gr_model.html#462d3723b7fe4909bc9a92b3fcb0028c">GetChild</a> (unsigned int idx)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_gr_model.html#9148b455251ccd009790f95c126ec936">RemoveChild</a> (<a class="el" href="class_gr_model.html">GrModel</a> *model)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_gr_model.html#79e3bfacd56b97bf810b971f064d4a91">RemoveChildren</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_gr_model.html#4d7fbb62dd1022da5a5fd25c6cb0e1fc">AddLight</a> (<a class="el" href="class_u_ref.html">URef</a>&lt; <a class="el" href="class_gr_light.html">GrLight</a> &gt; light, <a class="el" href="class_gr_model_node.html">GrModelNode</a> *attachTo=0)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">child lights.  <a href="#4d7fbb62dd1022da5a5fd25c6cb0e1fc"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">unsigned int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_gr_model.html#fbd44f70a2b06c82884eac31c40baeab">GetLightCount</a> () const </td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="class_u_ref.html">URef</a>&lt; <a class="el" href="class_gr_light.html">GrLight</a> &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_gr_model.html#6f9177f0b2648997f0cb8dd4da0a481b">GetLight</a> (unsigned int idx)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="class_gr_model_node.html">GrModelNode</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_gr_model.html#7ff4ed21e0a840da8ce5570b31b68a15">GetLightParent</a> (unsigned int idx)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_gr_model.html#931e8f832b0858244d75b1dda2d5a70d">RemoveLight</a> (<a class="el" href="class_gr_light.html">GrLight</a> *light)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_gr_model.html#95abd2705120c297a44287fe1d173224">RemoveLights</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="class_u_ref.html">URef</a>&lt; <a class="el" href="class_gr_model.html">GrModel</a> &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_gr_model.html#edeff0285708b660e0c21e2cb65da360">FindModelByInstName</a> (const <a class="el" href="class_u_path.html">UPath</a> &amp;instName)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">recursively finds a model by its instance name or its file name.  <a href="#edeff0285708b660e0c21e2cb65da360"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_gr_model.html#51f1bc0e7546b45969e3d40f600f7690">FindModelsByFileName</a> (<a class="el" href="class_u_fast_array.html">UFastArray</a>&lt; <a class="el" href="class_u_ref.html">URef</a>&lt; <a class="el" href="class_gr_model.html">GrModel</a> &gt; &gt; &amp;models, const <a class="el" href="class_u_path.html">UPath</a> &amp;fileName)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_gr_model.html#0b9f56be2def3c655a5a37ed425539c4">GetMeshInsts</a> (<a class="el" href="class_u_fast_array.html">UFastArray</a>&lt; <a class="el" href="class_gr_mesh_inst.html">GrMeshInst</a> * &gt; &amp;meshInsts)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">retreives all of the mesh instances from the model.  <a href="#0b9f56be2def3c655a5a37ed425539c4"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_gr_model.html#2c9c76c4d7715ab154fb9f89dd62d4d0">GetAllMeshInsts</a> (<a class="el" href="class_u_fast_array.html">UFastArray</a>&lt; <a class="el" href="class_gr_mesh_inst.html">GrMeshInst</a> * &gt; &amp;meshInsts)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">retrieves all of the mesh instances from the model and from each of its children.  <a href="#2c9c76c4d7715ab154fb9f89dd62d4d0"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_gr_model.html#dbb1580e4409efde8590f9a6feacd0c9">Update</a> (bool forceXFormUpdate=false)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_gr_model.html#fbc38dc0bd373a8b199535d55a06fc84">UpdateXForms</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">updates transforms. This is should usually only be called internally.  <a href="#fbc38dc0bd373a8b199535d55a06fc84"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_gr_model.html#12002759a1e3c55bf2ec71d21f197a0d">EnsureUpdated</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_gr_model.html#fbbc5426863525467f35ff2df3cca3ce">Pick</a> (float &amp;dist, const <a class="el" href="class_m_ray.html">MRay</a> &amp;ray)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">pick against the mesh.  <a href="#fbbc5426863525467f35ff2df3cca3ce"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_gr_model.html#525915234ad6fe9e03ee62e699d27fad">Pick</a> (<a class="el" href="class_gr_model.html">GrModel</a> *&amp;model, <a class="el" href="class_gr_mesh_inst.html">GrMeshInst</a> *&amp;meshInst, <a class="el" href="struct_gr_mesh_1_1_s_tri_collision.html">GrMesh::STriCollision</a> &amp;hit, const <a class="el" href="class_m_ray.html">MRay</a> &amp;ray)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_gr_model.html#89501566d6de6f63cda4527fb7cae760">Traverse</a> (<a class="el" href="class_gr_scene_traverser.html">GrSceneTraverser</a> *traverser)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">traverses meshes in the model higherarchy.  <a href="#89501566d6de6f63cda4527fb7cae760"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_gr_model.html#a125d73b384a3353dfbac65a93588282">DbgDrawHierarchy</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">debug functionality.  <a href="#a125d73b384a3353dfbac65a93588282"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_gr_model.html#d3a2e4287aebf5351e971b9b64dbbe11">Cache</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">caches and evicts meshes.  <a href="#d3a2e4287aebf5351e971b9b64dbbe11"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_gr_model.html#2b4b150bcaf7982b1e70cb80549bc704">Evict</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_gr_model.html#c6e775a1ef9fd0321916e99a2de5db2d">GetLitObjectsAndMarkVisible</a> (<a class="el" href="class_gr_render_list.html">GrRenderList</a> &amp;lightReceivers, const <a class="el" href="class_gr_frustum.html">GrFrustum</a> &amp;frustum, unsigned int frameId) const </td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">rendering services.  <a href="#c6e775a1ef9fd0321916e99a2de5db2d"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_gr_model.html#4dbbe93eef470aa2339ae8921535780a">GetLitObjects</a> (<a class="el" href="class_gr_render_list.html">GrRenderList</a> &amp;lightReceivers, <a class="el" href="class_gr_render_list.html">GrRenderList</a> *shadowCasters, const <a class="el" href="class_m_sphere.html">MSphere</a> &amp;sphere, unsigned int frameId) const </td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_gr_model.html#6533ef543b8238ce8434256f02be5f07">GetLitObjects</a> (<a class="el" href="class_gr_render_list.html">GrRenderList</a> &amp;lightReceivers, <a class="el" href="class_gr_render_list.html">GrRenderList</a> *shadowCasters, const <a class="el" href="class_gr_frustum.html">GrFrustum</a> &amp;frustum, unsigned int frameId) const </td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_gr_model.html#d152158878fd8ee7d0f4f07915c54d01">GetObjectsInFrustum</a> (<a class="el" href="class_gr_render_list.html">GrRenderList</a> &amp;objects, const <a class="el" href="class_gr_frustum.html">GrFrustum</a> &amp;frustum) const </td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">query services.  <a href="#d152158878fd8ee7d0f4f07915c54d01"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_gr_model.html#94605ad2262faa9e3e858cd2f9b5d9d1">Save</a> (<a class="el" href="class_u_writer.html">UWriter</a> &amp;writer) const </td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">load and save the model. This does not save children.  <a href="#94605ad2262faa9e3e858cd2f9b5d9d1"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_gr_model.html#b29ae276eab8a6460d09a0f727765c40">MarkAsDirty</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">forces transforms/bounds to be updated. Internal use only.  <a href="#b29ae276eab8a6460d09a0f727765c40"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_gr_model.html#905a993701b32fe30d1370deb32e35d2">SetSceneModel</a> (bool sceneModel)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">is this the scene model? This should only be called from the scene.  <a href="#905a993701b32fe30d1370deb32e35d2"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_gr_model.html#2c82df629316012566ad43ae802e1ed9">IsInScene</a> () const </td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">returns true if this model is currently in the scene.  <a href="#2c82df629316012566ad43ae802e1ed9"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_gr_model.html#7eb54cf62bdaf0cf4e32ef5628b54bc8">SetUserPtr</a> (void *<a class="el" href="glext__bak_8h.html#6a4f8a1a444e9080b297963b3db29fe0">value</a>)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_gr_model.html#32d18da9318a7541316adaa52e8e2b99">GetUserPtr</a> () const </td></tr>

</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
class <a class="el" href="class_gr_model.html" title="class GrModel">GrModel</a> 
<p>Definition at line <a class="el" href="_gr_model_8h-source.html#l00046">46</a> of file <a class="el" href="_gr_model_8h-source.html">GrModel.h</a>.</p>
<hr><h2>Member Typedef Documentation</h2>
<a class="anchor" name="1bc87aacfe8601c9096280a5257679cd"></a><!-- doxytag: member="GrModel::ModelArray" ref="1bc87aacfe8601c9096280a5257679cd" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef <a class="el" href="class_u_fast_array.html">UFastArray</a>&lt; <a class="el" href="class_u_ref.html">URef</a>&lt; <a class="el" href="class_gr_model.html">GrModel</a> &gt; &gt; <a class="el" href="class_u_fast_array.html">GrModel::ModelArray</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="_gr_model_8h-source.html#l00049">49</a> of file <a class="el" href="_gr_model_8h-source.html">GrModel.h</a>.</p>

</div>
</div><p>
<hr><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" name="4def572ffb7a4575939f3286d566ac4a"></a><!-- doxytag: member="GrModel::GrModel" ref="4def572ffb7a4575939f3286d566ac4a" args="(const tstring &amp;name)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">GrModel::GrModel           </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="common__afx_8h.html#816fa58fd77499b0edb2c69ebe803d5c">tstring</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>name</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
this is a special constructor reserved for use by the scene only. 
<p>
class <a class="el" href="class_gr_model.html" title="class GrModel">GrModel</a><p>
ctor &amp; dtor 
<p>
store this model as the root model.<p>
build the model node tree from the polygon node tree.<p>
create the skin controllers. 
<p>Definition at line <a class="el" href="_gr_model_8cpp-source.html#l00051">51</a> of file <a class="el" href="_gr_model_8cpp-source.html">GrModel.cpp</a>.</p>

</div>
</div><p>
<a class="anchor" name="15d52f8774a7781ad079f8bf3604226f"></a><!-- doxytag: member="GrModel::GrModel" ref="15d52f8774a7781ad079f8bf3604226f" args="(const UPath &amp;instName, GrPolygonNode *root)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">GrModel::GrModel           </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_u_path.html">UPath</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>instName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_gr_polygon_node.html">GrPolygonNode</a> *&nbsp;</td>
          <td class="paramname"> <em>root</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
constructs a model out of the node tree passed in. 
<p>

<p>
build the model node tree from the polygon node tree.<p>
create the skin controllers. 
<p>Definition at line <a class="el" href="_gr_model_8cpp-source.html#l00078">78</a> of file <a class="el" href="_gr_model_8cpp-source.html">GrModel.cpp</a>.</p>

</div>
</div><p>
<a class="anchor" name="2cf8487be82f62f575f549e0081435ae"></a><!-- doxytag: member="GrModel::GrModel" ref="2cf8487be82f62f575f549e0081435ae" args="(const UPath &amp;fileName, const UPath &amp;instName, UReader &amp;reader)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">GrModel::GrModel           </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_u_path.html">UPath</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>fileName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="class_u_path.html">UPath</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>instName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_u_reader.html">UReader</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>reader</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="_gr_model_8cpp-source.html#l00122">122</a> of file <a class="el" href="_gr_model_8cpp-source.html">GrModel.cpp</a>.</p>

</div>
</div><p>
<a class="anchor" name="e48b47449f463e0b0a7b42943db1310c"></a><!-- doxytag: member="GrModel::~GrModel" ref="e48b47449f463e0b0a7b42943db1310c" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">GrModel::~GrModel           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>
detach from the parent if we're deleted. 
<p>Definition at line <a class="el" href="_gr_model_8cpp-source.html#l00142">142</a> of file <a class="el" href="_gr_model_8cpp-source.html">GrModel.cpp</a>.</p>

</div>
</div><p>
<hr><h2>Member Function Documentation</h2>
<a class="anchor" name="c232d8ab1c8c5e6349acd53eebc9db61"></a><!-- doxytag: member="GrModel::AddChild" ref="c232d8ab1c8c5e6349acd53eebc9db61" args="(URef&lt; GrModel &gt; model, GrModelNode *attachTo=0)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void GrModel::AddChild           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_u_ref.html">URef</a>&lt; <a class="el" href="class_gr_model.html">GrModel</a> &gt;&nbsp;</td>
          <td class="paramname"> <em>model</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_gr_model_node.html">GrModelNode</a> *&nbsp;</td>
          <td class="paramname"> <em>attachTo</em> = <code>0</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
child models. 
<p>

<p>
if no node was specified, then use the root node.<p>
the node the child is being attached to must be owned by this model! also ensure that we're not trying to attach to ourselves!<p>
set the parent information on the child.<p>
add the child node to our child list. 
<p>Definition at line <a class="el" href="_gr_model_8cpp-source.html#l00322">322</a> of file <a class="el" href="_gr_model_8cpp-source.html">GrModel.cpp</a>.</p>

</div>
</div><p>
<a class="anchor" name="4d7fbb62dd1022da5a5fd25c6cb0e1fc"></a><!-- doxytag: member="GrModel::AddLight" ref="4d7fbb62dd1022da5a5fd25c6cb0e1fc" args="(URef&lt; GrLight &gt; light, GrModelNode *attachTo=0)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void GrModel::AddLight           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_u_ref.html">URef</a>&lt; <a class="el" href="class_gr_light.html">GrLight</a> &gt;&nbsp;</td>
          <td class="paramname"> <em>light</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_gr_model_node.html">GrModelNode</a> *&nbsp;</td>
          <td class="paramname"> <em>attachTo</em> = <code>0</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
child lights. 
<p>

<p>
if the light is invalid, skip it. This can happen when a model file references an undefined light. 
<p>Definition at line <a class="el" href="_gr_model_8cpp-source.html#l00419">419</a> of file <a class="el" href="_gr_model_8cpp-source.html">GrModel.cpp</a>.</p>

</div>
</div><p>
<a class="anchor" name="d3a2e4287aebf5351e971b9b64dbbe11"></a><!-- doxytag: member="GrModel::Cache" ref="d3a2e4287aebf5351e971b9b64dbbe11" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void GrModel::Cache           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
caches and evicts meshes. 
<p>

<p>Definition at line <a class="el" href="_gr_model_8cpp-source.html#l00734">734</a> of file <a class="el" href="_gr_model_8cpp-source.html">GrModel.cpp</a>.</p>

</div>
</div><p>
<a class="anchor" name="29d55ee007063d294ee9097c56d9f453"></a><!-- doxytag: member="GrModel::Clone" ref="29d55ee007063d294ee9097c56d9f453" args="(const UPath &amp;instName, bool deep=false, bool lights=false) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_gr_model.html">GrModel</a> * GrModel::Clone           </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_u_path.html">UPath</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>instName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&nbsp;</td>
          <td class="paramname"> <em>deep</em> = <code>false</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&nbsp;</td>
          <td class="paramname"> <em>lights</em> = <code>false</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
public methods 
<p>
clones the model. If deep is true, then the geometry is cloned as well and the object is treated as an original, not a clone. 
<p>
there shouldn't be any reason to clone the root model.<p>
create a new model.<p>
copy the settings.<p>
clone the node tree.<p>
clone the default animation.<p>
clone the default animation.<p>
now create a new animation player with the default animation and get it started.<p>
store the new animation player to the new model.<p>
clone the lights.<p>
get or clone the current light.<p>
now get the current light's parent name.<p>
add the light to the new model.<p>
return the newly created model. 
<p>Definition at line <a class="el" href="_gr_model_8cpp-source.html#l00157">157</a> of file <a class="el" href="_gr_model_8cpp-source.html">GrModel.cpp</a>.</p>

</div>
</div><p>
<a class="anchor" name="fe7a05f880c1d67b55ef8130971836d6"></a><!-- doxytag: member="GrModel::CloneFile" ref="fe7a05f880c1d67b55ef8130971836d6" args="(const UPath &amp;fileName, const UPath &amp;instName) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_gr_model.html">GrModel</a> * GrModel::CloneFile           </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_u_path.html">UPath</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>fileName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="class_u_path.html">UPath</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>instName</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>
clone the model.<p>
fill out the model's file information.<p>
save the file.<p>
get the file for writing.<p>
delete the model and return null to indicate failure.<p>
write the data to the disk.<p>
add the new model to the model manager.<p>
return the newly created model. 
<p>Definition at line <a class="el" href="_gr_model_8cpp-source.html#l00222">222</a> of file <a class="el" href="_gr_model_8cpp-source.html">GrModel.cpp</a>.</p>

</div>
</div><p>
<a class="anchor" name="a125d73b384a3353dfbac65a93588282"></a><!-- doxytag: member="GrModel::DbgDrawHierarchy" ref="a125d73b384a3353dfbac65a93588282" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void GrModel::DbgDrawHierarchy           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
debug functionality. 
<p>

<p>Definition at line <a class="el" href="_gr_model_8cpp-source.html#l00721">721</a> of file <a class="el" href="_gr_model_8cpp-source.html">GrModel.cpp</a>.</p>

</div>
</div><p>
<a class="anchor" name="12002759a1e3c55bf2ec71d21f197a0d"></a><!-- doxytag: member="GrModel::EnsureUpdated" ref="12002759a1e3c55bf2ec71d21f197a0d" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void GrModel::EnsureUpdated           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
ensures that this model and any parent models / modelnodes are up-to-date. This should usually only be called internally. 
<p>
if we have a parent, update it; otherwise, update ourselves. 
<p>Definition at line <a class="el" href="_gr_model_8cpp-source.html#l00625">625</a> of file <a class="el" href="_gr_model_8cpp-source.html">GrModel.cpp</a>.</p>

</div>
</div><p>
<a class="anchor" name="2b4b150bcaf7982b1e70cb80549bc704"></a><!-- doxytag: member="GrModel::Evict" ref="2b4b150bcaf7982b1e70cb80549bc704" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void GrModel::Evict           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="_gr_model_8cpp-source.html#l00741">741</a> of file <a class="el" href="_gr_model_8cpp-source.html">GrModel.cpp</a>.</p>

</div>
</div><p>
<a class="anchor" name="edeff0285708b660e0c21e2cb65da360"></a><!-- doxytag: member="GrModel::FindModelByInstName" ref="edeff0285708b660e0c21e2cb65da360" args="(const UPath &amp;instName)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_u_ref.html">URef</a>&lt; <a class="el" href="class_gr_model.html">GrModel</a> &gt; GrModel::FindModelByInstName           </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_u_path.html">UPath</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>instName</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
recursively finds a model by its instance name or its file name. 
<p>

<p>
try to find the child and remove it from our child list.<p>
is the current model the one we're looking for?<p>
recurse.<p>
not found! 
<p>Definition at line <a class="el" href="_gr_model_8cpp-source.html#l00499">499</a> of file <a class="el" href="_gr_model_8cpp-source.html">GrModel.cpp</a>.</p>

</div>
</div><p>
<a class="anchor" name="51f1bc0e7546b45969e3d40f600f7690"></a><!-- doxytag: member="GrModel::FindModelsByFileName" ref="51f1bc0e7546b45969e3d40f600f7690" args="(UFastArray&lt; URef&lt; GrModel &gt; &gt; &amp;models, const UPath &amp;fileName)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void GrModel::FindModelsByFileName           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_u_fast_array.html">UFastArray</a>&lt; <a class="el" href="class_u_ref.html">URef</a>&lt; <a class="el" href="class_gr_model.html">GrModel</a> &gt; &gt; &amp;&nbsp;</td>
          <td class="paramname"> <em>models</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="class_u_path.html">UPath</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>fileName</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>
try to find the child and remove it from our child list.<p>
is the current model the one we're looking for?<p>
recurse. 
<p>Definition at line <a class="el" href="_gr_model_8cpp-source.html#l00519">519</a> of file <a class="el" href="_gr_model_8cpp-source.html">GrModel.cpp</a>.</p>

</div>
</div><p>
<a class="anchor" name="2c9c76c4d7715ab154fb9f89dd62d4d0"></a><!-- doxytag: member="GrModel::GetAllMeshInsts" ref="2c9c76c4d7715ab154fb9f89dd62d4d0" args="(UFastArray&lt; GrMeshInst * &gt; &amp;meshInsts)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void GrModel::GetAllMeshInsts           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_u_fast_array.html">UFastArray</a>&lt; <a class="el" href="class_gr_mesh_inst.html">GrMeshInst</a> * &gt; &amp;&nbsp;</td>
          <td class="paramname"> <em>meshInsts</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
retrieves all of the mesh instances from the model and from each of its children. 
<p>

<p>
gather our meshinsts.<p>
recurse to children. 
<p>Definition at line <a class="el" href="_gr_model_8cpp-source.html#l00543">543</a> of file <a class="el" href="_gr_model_8cpp-source.html">GrModel.cpp</a>.</p>

</div>
</div><p>
<a class="anchor" name="1759e9f0d11efd39892411dc80fd3312"></a><!-- doxytag: member="GrModel::GetAnimPlayer" ref="1759e9f0d11efd39892411dc80fd3312" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_gr_anim_player.html">GrAnimPlayer</a> * GrModel::GetAnimPlayer           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="_gr_model_8cpp-source.html#l00264">264</a> of file <a class="el" href="_gr_model_8cpp-source.html">GrModel.cpp</a>.</p>

</div>
</div><p>
<a class="anchor" name="1d20cf8034ee3a0bd2fe1506fe81f73d"></a><!-- doxytag: member="GrModel::GetAnimPlayer" ref="1d20cf8034ee3a0bd2fe1506fe81f73d" args="(bool create=false)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_gr_anim_player.html">GrAnimPlayer</a> * GrModel::GetAnimPlayer           </td>
          <td>(</td>
          <td class="paramtype">bool&nbsp;</td>
          <td class="paramname"> <em>create</em> = <code>false</code>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
animation. If the create flag is set to true, this will create an animation player if one does not exist. 
<p>Definition at line <a class="el" href="_gr_model_8cpp-source.html#l00255">255</a> of file <a class="el" href="_gr_model_8cpp-source.html">GrModel.cpp</a>.</p>

</div>
</div><p>
<a class="anchor" name="3667043cfbdca6e413d4de9d0449aa5f"></a><!-- doxytag: member="GrModel::GetBounds" ref="3667043cfbdca6e413d4de9d0449aa5f" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="class_m_a_a_box.html">MAABox</a>&amp; GrModel::GetBounds           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
returns the current bounds of the model. 
<p>

<p>Definition at line <a class="el" href="_gr_model_8h-source.html#l00093">93</a> of file <a class="el" href="_gr_model_8h-source.html">GrModel.h</a>.</p>

</div>
</div><p>
<a class="anchor" name="462d3723b7fe4909bc9a92b3fcb0028c"></a><!-- doxytag: member="GrModel::GetChild" ref="462d3723b7fe4909bc9a92b3fcb0028c" args="(unsigned int idx)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_u_ref.html">URef</a>&lt; <a class="el" href="class_gr_model.html">GrModel</a> &gt; GrModel::GetChild           </td>
          <td>(</td>
          <td class="paramtype">unsigned int&nbsp;</td>
          <td class="paramname"> <em>idx</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="_gr_model_8cpp-source.html#l00355">355</a> of file <a class="el" href="_gr_model_8cpp-source.html">GrModel.cpp</a>.</p>

</div>
</div><p>
<a class="anchor" name="0d67f658382989a2dc3744dc88b28c22"></a><!-- doxytag: member="GrModel::GetChildCount" ref="0d67f658382989a2dc3744dc88b28c22" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned int GrModel::GetChildCount           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="_gr_model_8cpp-source.html#l00348">348</a> of file <a class="el" href="_gr_model_8cpp-source.html">GrModel.cpp</a>.</p>

</div>
</div><p>
<a class="anchor" name="a9b644ea4efa86b73299934940c8b155"></a><!-- doxytag: member="GrModel::GetDefaultAnim" ref="a9b644ea4efa86b73299934940c8b155" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_gr_k_f_anim.html">GrKFAnim</a>* GrModel::GetDefaultAnim           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td> const<code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="_gr_model_8h-source.html#l00081">81</a> of file <a class="el" href="_gr_model_8h-source.html">GrModel.h</a>.</p>

</div>
</div><p>
<a class="anchor" name="390da9636c9c396d1fa3241b72ff6166"></a><!-- doxytag: member="GrModel::GetFileName" ref="390da9636c9c396d1fa3241b72ff6166" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="class_u_path.html">UPath</a>&amp; GrModel::GetFileName           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td> const<code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
returns information about the model's name. 
<p>

<p>Definition at line <a class="el" href="_gr_model_8h-source.html#l00060">60</a> of file <a class="el" href="_gr_model_8h-source.html">GrModel.h</a>.</p>

</div>
</div><p>
<a class="anchor" name="e8a075163c88d6bf6623db37d65cd17a"></a><!-- doxytag: member="GrModel::GetInstName" ref="e8a075163c88d6bf6623db37d65cd17a" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="class_u_path.html">UPath</a>&amp; GrModel::GetInstName           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td> const<code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="_gr_model_8h-source.html#l00061">61</a> of file <a class="el" href="_gr_model_8h-source.html">GrModel.h</a>.</p>

</div>
</div><p>
<a class="anchor" name="6f9177f0b2648997f0cb8dd4da0a481b"></a><!-- doxytag: member="GrModel::GetLight" ref="6f9177f0b2648997f0cb8dd4da0a481b" args="(unsigned int idx)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_u_ref.html">URef</a>&lt; <a class="el" href="class_gr_light.html">GrLight</a> &gt; GrModel::GetLight           </td>
          <td>(</td>
          <td class="paramtype">unsigned int&nbsp;</td>
          <td class="paramname"> <em>idx</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="_gr_model_8cpp-source.html#l00447">447</a> of file <a class="el" href="_gr_model_8cpp-source.html">GrModel.cpp</a>.</p>

</div>
</div><p>
<a class="anchor" name="fbd44f70a2b06c82884eac31c40baeab"></a><!-- doxytag: member="GrModel::GetLightCount" ref="fbd44f70a2b06c82884eac31c40baeab" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned int GrModel::GetLightCount           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="_gr_model_8cpp-source.html#l00440">440</a> of file <a class="el" href="_gr_model_8cpp-source.html">GrModel.cpp</a>.</p>

</div>
</div><p>
<a class="anchor" name="7ff4ed21e0a840da8ce5570b31b68a15"></a><!-- doxytag: member="GrModel::GetLightParent" ref="7ff4ed21e0a840da8ce5570b31b68a15" args="(unsigned int idx)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_gr_model_node.html">GrModelNode</a> * GrModel::GetLightParent           </td>
          <td>(</td>
          <td class="paramtype">unsigned int&nbsp;</td>
          <td class="paramname"> <em>idx</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="_gr_model_8cpp-source.html#l00454">454</a> of file <a class="el" href="_gr_model_8cpp-source.html">GrModel.cpp</a>.</p>

</div>
</div><p>
<a class="anchor" name="6533ef543b8238ce8434256f02be5f07"></a><!-- doxytag: member="GrModel::GetLitObjects" ref="6533ef543b8238ce8434256f02be5f07" args="(GrRenderList &amp;lightReceivers, GrRenderList *shadowCasters, const GrFrustum &amp;frustum, unsigned int frameId) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void GrModel::GetLitObjects           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_gr_render_list.html">GrRenderList</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>lightReceivers</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_gr_render_list.html">GrRenderList</a> *&nbsp;</td>
          <td class="paramname"> <em>shadowCasters</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="class_gr_frustum.html">GrFrustum</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>frustum</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&nbsp;</td>
          <td class="paramname"> <em>frameId</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>
are we inside of the sphere?<p>
add all meshes objects to the renderer.<p>
recurse children. 
<p>Definition at line <a class="el" href="_gr_model_8cpp-source.html#l00792">792</a> of file <a class="el" href="_gr_model_8cpp-source.html">GrModel.cpp</a>.</p>

</div>
</div><p>
<a class="anchor" name="4dbbe93eef470aa2339ae8921535780a"></a><!-- doxytag: member="GrModel::GetLitObjects" ref="4dbbe93eef470aa2339ae8921535780a" args="(GrRenderList &amp;lightReceivers, GrRenderList *shadowCasters, const MSphere &amp;sphere, unsigned int frameId) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void GrModel::GetLitObjects           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_gr_render_list.html">GrRenderList</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>lightReceivers</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_gr_render_list.html">GrRenderList</a> *&nbsp;</td>
          <td class="paramname"> <em>shadowCasters</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="class_m_sphere.html">MSphere</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>sphere</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&nbsp;</td>
          <td class="paramname"> <em>frameId</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>
add lit objects to the renderer.<p>
recurse children. 
<p>Definition at line <a class="el" href="_gr_model_8cpp-source.html#l00769">769</a> of file <a class="el" href="_gr_model_8cpp-source.html">GrModel.cpp</a>.</p>

</div>
</div><p>
<a class="anchor" name="c6e775a1ef9fd0321916e99a2de5db2d"></a><!-- doxytag: member="GrModel::GetLitObjectsAndMarkVisible" ref="c6e775a1ef9fd0321916e99a2de5db2d" args="(GrRenderList &amp;lightReceivers, const GrFrustum &amp;frustum, unsigned int frameId) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void GrModel::GetLitObjectsAndMarkVisible           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_gr_render_list.html">GrRenderList</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>lightReceivers</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="class_gr_frustum.html">GrFrustum</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>frustum</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&nbsp;</td>
          <td class="paramname"> <em>frameId</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
rendering services. 
<p>

<p>
if we're not inside of the frustum passed in, then we're not visible.<p>
set the last visible frame ID and add nodes to the renderer.<p>
recurse children. 
<p>Definition at line <a class="el" href="_gr_model_8cpp-source.html#l00748">748</a> of file <a class="el" href="_gr_model_8cpp-source.html">GrModel.cpp</a>.</p>

</div>
</div><p>
<a class="anchor" name="539780a5145b366b29e97a480846f67d"></a><!-- doxytag: member="GrModel::GetLocal" ref="539780a5145b366b29e97a480846f67d" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="class_m_mat4x4.html">MMat4x4</a>&amp; GrModel::GetLocal           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td> const<code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="_gr_model_8h-source.html#l00085">85</a> of file <a class="el" href="_gr_model_8h-source.html">GrModel.h</a>.</p>

</div>
</div><p>
<a class="anchor" name="0b9f56be2def3c655a5a37ed425539c4"></a><!-- doxytag: member="GrModel::GetMeshInsts" ref="0b9f56be2def3c655a5a37ed425539c4" args="(UFastArray&lt; GrMeshInst * &gt; &amp;meshInsts)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void GrModel::GetMeshInsts           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_u_fast_array.html">UFastArray</a>&lt; <a class="el" href="class_gr_mesh_inst.html">GrMeshInst</a> * &gt; &amp;&nbsp;</td>
          <td class="paramname"> <em>meshInsts</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
retreives all of the mesh instances from the model. 
<p>

<p>Definition at line <a class="el" href="_gr_model_8cpp-source.html#l00536">536</a> of file <a class="el" href="_gr_model_8cpp-source.html">GrModel.cpp</a>.</p>

</div>
</div><p>
<a class="anchor" name="d152158878fd8ee7d0f4f07915c54d01"></a><!-- doxytag: member="GrModel::GetObjectsInFrustum" ref="d152158878fd8ee7d0f4f07915c54d01" args="(GrRenderList &amp;objects, const GrFrustum &amp;frustum) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void GrModel::GetObjectsInFrustum           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_gr_render_list.html">GrRenderList</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>objects</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="class_gr_frustum.html">GrFrustum</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>frustum</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
query services. 
<p>

<p>
if the model needs to be updated, abort.<p>
are we inside of the sphere?<p>
add all meshes objects to the renderer.<p>
recurse children. 
<p>Definition at line <a class="el" href="_gr_model_8cpp-source.html#l00816">816</a> of file <a class="el" href="_gr_model_8cpp-source.html">GrModel.cpp</a>.</p>

</div>
</div><p>
<a class="anchor" name="ad017a6434f66a1051a57920b0561098"></a><!-- doxytag: member="GrModel::GetParent" ref="ad017a6434f66a1051a57920b0561098" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_gr_model.html">GrModel</a>* GrModel::GetParent           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td> const<code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="_gr_model_8h-source.html#l00071">71</a> of file <a class="el" href="_gr_model_8h-source.html">GrModel.h</a>.</p>

</div>
</div><p>
<a class="anchor" name="3497944f601c7427a96f66cafc3a151e"></a><!-- doxytag: member="GrModel::GetParentNode" ref="3497944f601c7427a96f66cafc3a151e" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_gr_model_node.html">GrModelNode</a>* GrModel::GetParentNode           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td> const<code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="_gr_model_8h-source.html#l00072">72</a> of file <a class="el" href="_gr_model_8h-source.html">GrModel.h</a>.</p>

</div>
</div><p>
<a class="anchor" name="fa97c9215a2c2dcee2df132561f03698"></a><!-- doxytag: member="GrModel::GetPickable" ref="fa97c9215a2c2dcee2df132561f03698" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool GrModel::GetPickable           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td> const<code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="_gr_model_8h-source.html#l00064">64</a> of file <a class="el" href="_gr_model_8h-source.html">GrModel.h</a>.</p>

</div>
</div><p>
<a class="anchor" name="c5dbd78174e81a8cd4c64782d9b21bc9"></a><!-- doxytag: member="GrModel::GetRootNode" ref="c5dbd78174e81a8cd4c64782d9b21bc9" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_gr_model_node.html">GrModelNode</a>* GrModel::GetRootNode           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td> const<code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
node manipulation. 
<p>

<p>Definition at line <a class="el" href="_gr_model_8h-source.html#l00096">96</a> of file <a class="el" href="_gr_model_8h-source.html">GrModel.h</a>.</p>

</div>
</div><p>
<a class="anchor" name="32d18da9318a7541316adaa52e8e2b99"></a><!-- doxytag: member="GrModel::GetUserPtr" ref="32d18da9318a7541316adaa52e8e2b99" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void* GrModel::GetUserPtr           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td> const<code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="_gr_model_8h-source.html#l00173">173</a> of file <a class="el" href="_gr_model_8h-source.html">GrModel.h</a>.</p>

</div>
</div><p>
<a class="anchor" name="624ce6372c1bdd5a077e51c16adb9242"></a><!-- doxytag: member="GrModel::GetWorld" ref="624ce6372c1bdd5a077e51c16adb9242" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_m_mat4x4.html">MMat4x4</a> GrModel::GetWorld           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>
ensure that our transforms are up-to-date.<p>
if we have a parent node, multiply our transform by it.<p>
if we have a parent model, multiply our transform by it.<p>
otherwise, we have no parent, so return our local transform since it's also our worldspace transform. 
<p>Definition at line <a class="el" href="_gr_model_8cpp-source.html#l00302">302</a> of file <a class="el" href="_gr_model_8cpp-source.html">GrModel.cpp</a>.</p>

</div>
</div><p>
<a class="anchor" name="2c82df629316012566ad43ae802e1ed9"></a><!-- doxytag: member="GrModel::IsInScene" ref="2c82df629316012566ad43ae802e1ed9" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool GrModel::IsInScene           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td> const<code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
returns true if this model is currently in the scene. 
<p>

<p>Definition at line <a class="el" href="_gr_model_8h-source.html#l00168">168</a> of file <a class="el" href="_gr_model_8h-source.html">GrModel.h</a>.</p>

</div>
</div><p>
<a class="anchor" name="b29ae276eab8a6460d09a0f727765c40"></a><!-- doxytag: member="GrModel::MarkAsDirty" ref="b29ae276eab8a6460d09a0f727765c40" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void GrModel::MarkAsDirty           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
forces transforms/bounds to be updated. Internal use only. 
<p>

<p>
flag this model as dirty, as well as all of it's child models. 
<p>Definition at line <a class="el" href="_gr_model_8cpp-source.html#l00906">906</a> of file <a class="el" href="_gr_model_8cpp-source.html">GrModel.cpp</a>.</p>

</div>
</div><p>
<a class="anchor" name="525915234ad6fe9e03ee62e699d27fad"></a><!-- doxytag: member="GrModel::Pick" ref="525915234ad6fe9e03ee62e699d27fad" args="(GrModel *&amp;model, GrMeshInst *&amp;meshInst, GrMesh::STriCollision &amp;hit, const MRay &amp;ray)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool GrModel::Pick           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_gr_model.html">GrModel</a> *&amp;&nbsp;</td>
          <td class="paramname"> <em>model</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_gr_mesh_inst.html">GrMeshInst</a> *&amp;&nbsp;</td>
          <td class="paramname"> <em>meshInst</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_gr_mesh_1_1_s_tri_collision.html">GrMesh::STriCollision</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>hit</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="class_m_ray.html">MRay</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>ray</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>
make sure the model is up to date with regards to it's transforms.<p>
check the intersection of the ray and the bounds. If the bounds doesn't intersect with the bounds, we can simply return false.<p>
useful vars.<p>
do we need to pick against meshes?<p>
recurse children.<p>
get the current child and pick.<p>
return true if the ray hit something. 
<p>Definition at line <a class="el" href="_gr_model_8cpp-source.html#l00654">654</a> of file <a class="el" href="_gr_model_8cpp-source.html">GrModel.cpp</a>.</p>

</div>
</div><p>
<a class="anchor" name="fbbc5426863525467f35ff2df3cca3ce"></a><!-- doxytag: member="GrModel::Pick" ref="fbbc5426863525467f35ff2df3cca3ce" args="(float &amp;dist, const MRay &amp;ray)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool GrModel::Pick           </td>
          <td>(</td>
          <td class="paramtype">float &amp;&nbsp;</td>
          <td class="paramname"> <em>dist</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="class_m_ray.html">MRay</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>ray</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
pick against the mesh. 
<p>

<p>
try to hit against this model.<p>
calculate the hit distance.<p>
return true to indicate a hit. 
<p>Definition at line <a class="el" href="_gr_model_8cpp-source.html#l00636">636</a> of file <a class="el" href="_gr_model_8cpp-source.html">GrModel.cpp</a>.</p>

</div>
</div><p>
<a class="anchor" name="9148b455251ccd009790f95c126ec936"></a><!-- doxytag: member="GrModel::RemoveChild" ref="9148b455251ccd009790f95c126ec936" args="(GrModel *model)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool GrModel::RemoveChild           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_gr_model.html">GrModel</a> *&nbsp;</td>
          <td class="paramname"> <em>model</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>
the root model cannot have any parents. Therefor, it can't possibly be in our list and this call is unnecessary.<p>
try to find the child and remove it from our child list.<p>
if we're in the scene, then we need to tell the child model that it's being removed from the scene.<p>
clear all of the parent related stuff.<p>
remove the child from our list.<p>
the child wasn't found. 
<p>Definition at line <a class="el" href="_gr_model_8cpp-source.html#l00363">363</a> of file <a class="el" href="_gr_model_8cpp-source.html">GrModel.cpp</a>.</p>

</div>
</div><p>
<a class="anchor" name="79e3bfacd56b97bf810b971f064d4a91"></a><!-- doxytag: member="GrModel::RemoveChildren" ref="79e3bfacd56b97bf810b971f064d4a91" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void GrModel::RemoveChildren           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>
try to find the child and remove it from our child list.<p>
get the current model.<p>
if we're in the scene, then we need to tell the child model that it's being removed from the scene.<p>
clear the current model's parent info. 
<p>Definition at line <a class="el" href="_gr_model_8cpp-source.html#l00396">396</a> of file <a class="el" href="_gr_model_8cpp-source.html">GrModel.cpp</a>.</p>

</div>
</div><p>
<a class="anchor" name="931e8f832b0858244d75b1dda2d5a70d"></a><!-- doxytag: member="GrModel::RemoveLight" ref="931e8f832b0858244d75b1dda2d5a70d" args="(GrLight *light)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool GrModel::RemoveLight           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_gr_light.html">GrLight</a> *&nbsp;</td>
          <td class="paramname"> <em>light</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>
try to find the light specified and remove it from the light attachment array.<p>
return false to indicate failure. 
<p>Definition at line <a class="el" href="_gr_model_8cpp-source.html#l00461">461</a> of file <a class="el" href="_gr_model_8cpp-source.html">GrModel.cpp</a>.</p>

</div>
</div><p>
<a class="anchor" name="95abd2705120c297a44287fe1d173224"></a><!-- doxytag: member="GrModel::RemoveLights" ref="95abd2705120c297a44287fe1d173224" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void GrModel::RemoveLights           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="_gr_model_8cpp-source.html#l00485">485</a> of file <a class="el" href="_gr_model_8cpp-source.html">GrModel.cpp</a>.</p>

</div>
</div><p>
<a class="anchor" name="94605ad2262faa9e3e858cd2f9b5d9d1"></a><!-- doxytag: member="GrModel::Save" ref="94605ad2262faa9e3e858cd2f9b5d9d1" args="(UWriter &amp;writer) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void GrModel::Save           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_u_writer.html">UWriter</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>writer</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
load and save the model. This does not save children. 
<p>

<p>
model tag.<p>
MDL<p>
save misc info.<p>
version.<p>
source file.<p>
author.<p>
save the model transform.<p>
write out the ambient animation path.<p>
get all meshes so we can save them out.<p>
build a list of all skins.<p>
now save out skins.<p>
save out meshes.<p>
save the node tree.<p>
save out instanceable lights 
<p>Definition at line <a class="el" href="_gr_model_8cpp-source.html#l00841">841</a> of file <a class="el" href="_gr_model_8cpp-source.html">GrModel.cpp</a>.</p>

</div>
</div><p>
<a class="anchor" name="8ae2497533c112953c1b4d4cc0e72cad"></a><!-- doxytag: member="GrModel::SetDefaultAnim" ref="8ae2497533c112953c1b4d4cc0e72cad" args="(GrKFAnim *anim)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void GrModel::SetDefaultAnim           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_gr_k_f_anim.html">GrKFAnim</a> *&nbsp;</td>
          <td class="paramname"> <em>anim</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
ambient animation. 
<p>

<p>Definition at line <a class="el" href="_gr_model_8h-source.html#l00080">80</a> of file <a class="el" href="_gr_model_8h-source.html">GrModel.h</a>.</p>

</div>
</div><p>
<a class="anchor" name="e99405dcb83200626b7c715755f70836"></a><!-- doxytag: member="GrModel::SetLocal" ref="e99405dcb83200626b7c715755f70836" args="(const MMat4x4 &amp;transform)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void GrModel::SetLocal           </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_m_mat4x4.html">MMat4x4</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>transform</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
local transform. 
<p>

<p>Definition at line <a class="el" href="_gr_model_8cpp-source.html#l00271">271</a> of file <a class="el" href="_gr_model_8cpp-source.html">GrModel.cpp</a>.</p>

</div>
</div><p>
<a class="anchor" name="155e00b717c10f201168f4dfc1f2c141"></a><!-- doxytag: member="GrModel::SetPickable" ref="155e00b717c10f201168f4dfc1f2c141" args="(bool pickable)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void GrModel::SetPickable           </td>
          <td>(</td>
          <td class="paramtype">bool&nbsp;</td>
          <td class="paramname"> <em>pickable</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="_gr_model_8h-source.html#l00063">63</a> of file <a class="el" href="_gr_model_8h-source.html">GrModel.h</a>.</p>

</div>
</div><p>
<a class="anchor" name="905a993701b32fe30d1370deb32e35d2"></a><!-- doxytag: member="GrModel::SetSceneModel" ref="905a993701b32fe30d1370deb32e35d2" args="(bool sceneModel)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void GrModel::SetSceneModel           </td>
          <td>(</td>
          <td class="paramtype">bool&nbsp;</td>
          <td class="paramname"> <em>sceneModel</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
is this the scene model? This should only be called from the scene. 
<p>

</div>
</div><p>
<a class="anchor" name="7eb54cf62bdaf0cf4e32ef5628b54bc8"></a><!-- doxytag: member="GrModel::SetUserPtr" ref="7eb54cf62bdaf0cf4e32ef5628b54bc8" args="(void *value)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void GrModel::SetUserPtr           </td>
          <td>(</td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>value</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
user pointer value that can be set on models by someone other than the graphics engine. 
<p>Definition at line <a class="el" href="_gr_model_8h-source.html#l00172">172</a> of file <a class="el" href="_gr_model_8h-source.html">GrModel.h</a>.</p>

</div>
</div><p>
<a class="anchor" name="a3f1827d34de5f0c67d20103cf0d97bc"></a><!-- doxytag: member="GrModel::SetWorld" ref="a3f1827d34de5f0c67d20103cf0d97bc" args="(const MMat4x4 &amp;transform)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void GrModel::SetWorld           </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_m_mat4x4.html">MMat4x4</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>transform</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
world transform. Avoid calling these in performance-critical code. They aren't terribly expensive, but they aren't free. 
<p>
grab our parent's worldspace transform.<p>
invert it.<p>
transform the incoming matrix into localspace and store it. 
<p>Definition at line <a class="el" href="_gr_model_8cpp-source.html#l00279">279</a> of file <a class="el" href="_gr_model_8cpp-source.html">GrModel.cpp</a>.</p>

</div>
</div><p>
<a class="anchor" name="89501566d6de6f63cda4527fb7cae760"></a><!-- doxytag: member="GrModel::Traverse" ref="89501566d6de6f63cda4527fb7cae760" args="(GrSceneTraverser *traverser)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void GrModel::Traverse           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_gr_scene_traverser.html">GrSceneTraverser</a> *&nbsp;</td>
          <td class="paramname"> <em>traverser</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
traverses meshes in the model higherarchy. 
<p>

<p>
check to see if we should even traverse this model.<p>
check all meshes in the node higherarchy.<p>
recurse. 
<p>Definition at line <a class="el" href="_gr_model_8cpp-source.html#l00704">704</a> of file <a class="el" href="_gr_model_8cpp-source.html">GrModel.cpp</a>.</p>

</div>
</div><p>
<a class="anchor" name="dbb1580e4409efde8590f9a6feacd0c9"></a><!-- doxytag: member="GrModel::Update" ref="dbb1580e4409efde8590f9a6feacd0c9" args="(bool forceXFormUpdate=false)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool GrModel::Update           </td>
          <td>(</td>
          <td class="paramtype">bool&nbsp;</td>
          <td class="paramname"> <em>forceXFormUpdate</em> = <code>false</code>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
a once per frame update that must be called before rendering occurs. This should only be called if the model is in the scene. 
<p>
update and apply animations if any exist.<p>
update animation if necessary.<p>
update transforms.<p>
update skin instances.<p>
calculate a new bounds if necessary.<p>
update children.<p>
update the child and adjust our bounds if necessary.<p>
update lights.<p>
return whether or not the bounds has changed. 
<p>Definition at line <a class="el" href="_gr_model_8cpp-source.html#l00559">559</a> of file <a class="el" href="_gr_model_8cpp-source.html">GrModel.cpp</a>.</p>

</div>
</div><p>
<a class="anchor" name="fbc38dc0bd373a8b199535d55a06fc84"></a><!-- doxytag: member="GrModel::UpdateXForms" ref="fbc38dc0bd373a8b199535d55a06fc84" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void GrModel::UpdateXForms           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
updates transforms. This is should usually only be called internally. 
<p>

<p>
clear the dirty flag.<p>
update the node tree. 
<p>Definition at line <a class="el" href="_gr_model_8cpp-source.html#l00611">611</a> of file <a class="el" href="_gr_model_8cpp-source.html">GrModel.cpp</a>.</p>

</div>
</div><p>
<hr>The documentation for this class was generated from the following files:<ul>
<li>C:/Bootstrap/ProjectBX/Documentation/Code/Engine/Graphics/<a class="el" href="_gr_model_8h-source.html">GrModel.h</a><li>C:/Bootstrap/ProjectBX/Documentation/Code/Engine/Graphics/<a class="el" href="_gr_model_8cpp-source.html">GrModel.cpp</a></ul>
</div>
<hr size="1"><address style="text-align: right;"><small>Generated on Fri Feb 13 17:20:05 2009 for Bootstrap Engine by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.8 </small></address>
</body>
</html>
