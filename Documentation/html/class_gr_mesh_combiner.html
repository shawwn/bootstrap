<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>Bootstrap Engine: GrMeshCombiner Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css">
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.8 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="annotated.html"><span>Class&nbsp;List</span></a></li>
      <li><a href="hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&nbsp;Members</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>GrMeshCombiner Class Reference</h1><!-- doxytag: class="GrMeshCombiner" -->class <a class="el" href="class_gr_mesh_combiner.html" title="class GrMeshCombiner">GrMeshCombiner</a>  
<a href="#_details">More...</a>
<p>
<code>#include &lt;<a class="el" href="_gr_mesh_combiner_8h-source.html">GrMeshCombiner.h</a>&gt;</code>
<p>

<p>
<a href="class_gr_mesh_combiner-members.html">List of all members.</a><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_gr_mesh_combiner.html#f3db6fcdfe186371c14c8a175081392b">GrMeshCombiner</a> (unsigned int maxIndexCount=65536, unsigned int maxVertexCount=32767)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">class header.  <a href="#f3db6fcdfe186371c14c8a175081392b"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_gr_mesh_combiner.html#58fea974a680d1ce4b5038138d92db61">~GrMeshCombiner</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_gr_mesh_combiner.html#1291e59a1c23b3cc1204b48a8728ad1f">CanAddMesh</a> (const <a class="el" href="class_gr_mesh_inst.html">GrMeshInst</a> *meshInst)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">returns true if the mesh can be added.  <a href="#1291e59a1c23b3cc1204b48a8728ad1f"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">unsigned int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_gr_mesh_combiner.html#35a035d950b95e8a291fe2e333bb4e8a">AddMesh</a> (const <a class="el" href="class_gr_mesh_inst.html">GrMeshInst</a> *meshInst)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">unsigned int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_gr_mesh_combiner.html#1d2955c0b2ff844c687ec467a713e1bd">GetRangeCount</a> () const </td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">unsigned int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_gr_mesh_combiner.html#f5879bfc1bcd54c7e5ce7e7d73a3f4f5">GetVertexCount</a> () const </td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="class_gr_mesh_inst.html">GrMeshInst</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_gr_mesh_combiner.html#ec10305f0381d0eea825e5352bd48874">BuildFinalMesh</a> (const <a class="el" href="common__afx_8h.html#816fa58fd77499b0edb2c69ebe803d5c">tstring</a> &amp;<a class="el" href="glext__bak_8h.html#bb62efe59ccdd153ce42e1a418352209">name</a>)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">builds the final mesh.  <a href="#ec10305f0381d0eea825e5352bd48874"></a><br></td></tr>
</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
class <a class="el" href="class_gr_mesh_combiner.html" title="class GrMeshCombiner">GrMeshCombiner</a> 
<p>Definition at line <a class="el" href="_gr_mesh_combiner_8h-source.html#l00026">26</a> of file <a class="el" href="_gr_mesh_combiner_8h-source.html">GrMeshCombiner.h</a>.</p>
<hr><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" name="f3db6fcdfe186371c14c8a175081392b"></a><!-- doxytag: member="GrMeshCombiner::GrMeshCombiner" ref="f3db6fcdfe186371c14c8a175081392b" args="(unsigned int maxIndexCount=65536, unsigned int maxVertexCount=32767)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">GrMeshCombiner::GrMeshCombiner           </td>
          <td>(</td>
          <td class="paramtype">unsigned int&nbsp;</td>
          <td class="paramname"> <em>maxIndexCount</em> = <code>65536</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&nbsp;</td>
          <td class="paramname"> <em>maxVertexCount</em> = <code>32767</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
class header. 
<p>
File: <a class="el" href="_gr_mesh_combiner_8cpp.html">GrMeshCombiner.cpp</a> Author: Kevin Bray Created: 12-13-06 Copyright © 2004 Bootstrap Studios. All rights reserved. project includes. class <a class="el" href="class_gr_mesh_combiner.html" title="class GrMeshCombiner">GrMeshCombiner</a> ctor &amp; dtor 
<p>Definition at line <a class="el" href="_gr_mesh_combiner_8cpp-source.html#l00028">28</a> of file <a class="el" href="_gr_mesh_combiner_8cpp-source.html">GrMeshCombiner.cpp</a>.</p>

</div>
</div><p>
<a class="anchor" name="58fea974a680d1ce4b5038138d92db61"></a><!-- doxytag: member="GrMeshCombiner::~GrMeshCombiner" ref="58fea974a680d1ce4b5038138d92db61" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">GrMeshCombiner::~GrMeshCombiner           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="_gr_mesh_combiner_8cpp-source.html#l00038">38</a> of file <a class="el" href="_gr_mesh_combiner_8cpp-source.html">GrMeshCombiner.cpp</a>.</p>

</div>
</div><p>
<hr><h2>Member Function Documentation</h2>
<a class="anchor" name="35a035d950b95e8a291fe2e333bb4e8a"></a><!-- doxytag: member="GrMeshCombiner::AddMesh" ref="35a035d950b95e8a291fe2e333bb4e8a" args="(const GrMeshInst *meshInst)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned int GrMeshCombiner::AddMesh           </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_gr_mesh_inst.html">GrMeshInst</a> *&nbsp;</td>
          <td class="paramname"> <em>meshInst</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
adds a mesh instance... returns the first range that the mesh being added will reside. Basically, the ranges in the instance passed in are all preserved; they're simply added to a single mesh. Note that the transform in the mesh instance is ignored (and lost). 
<p>
ensure that a valid mesh was passed in.<p>
get the range that the new mesh will start on.<p>
get the mesh we're working with.<p>
add all of the ranges to our list.<p>
get the current range from the mesh.<p>
fill out the range info.<p>
store material information.<p>
add the range to our vector of ranges.<p>
add the mesh to our list.<p>
make sure that all ranges have been accounted for.<p>
return the range that the mesh starts on. 
<p>Definition at line <a class="el" href="_gr_mesh_combiner_8cpp-source.html#l00081">81</a> of file <a class="el" href="_gr_mesh_combiner_8cpp-source.html">GrMeshCombiner.cpp</a>.</p>

</div>
</div><p>
<a class="anchor" name="ec10305f0381d0eea825e5352bd48874"></a><!-- doxytag: member="GrMeshCombiner::BuildFinalMesh" ref="ec10305f0381d0eea825e5352bd48874" args="(const tstring &amp;name)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_gr_mesh_inst.html">GrMeshInst</a> * GrMeshCombiner::BuildFinalMesh           </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="common__afx_8h.html#816fa58fd77499b0edb2c69ebe803d5c">tstring</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>name</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
builds the final mesh. 
<p>

<p>
if there aren't any meshes to combine, simply return null.<p>
get the vertex components that the meshes need.<p>
allocate a new mesh.<p>
get the vertex/index buffers that we need to copy to.<p>
add all of the vertex data to the mesh.<p>
get the source vertex/index buffers.<p>
copy vertex data.<p>
copy index data.<p>
advance the write offsets.<p>
check that we got all ranges.<p>
make sure we've written every vertex!<p>
create and return a new mesh instance. 
<p>Definition at line <a class="el" href="_gr_mesh_combiner_8cpp-source.html#l00138">138</a> of file <a class="el" href="_gr_mesh_combiner_8cpp-source.html">GrMeshCombiner.cpp</a>.</p>

</div>
</div><p>
<a class="anchor" name="1291e59a1c23b3cc1204b48a8728ad1f"></a><!-- doxytag: member="GrMeshCombiner::CanAddMesh" ref="1291e59a1c23b3cc1204b48a8728ad1f" args="(const GrMeshInst *meshInst)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool GrMeshCombiner::CanAddMesh           </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_gr_mesh_inst.html">GrMeshInst</a> *&nbsp;</td>
          <td class="paramname"> <em>meshInst</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
returns true if the mesh can be added. 
<p>
public methods 
<p>
it doesn't make any sense to batch meshes that aren't indexed.<p>
if there are no meshes added, then any mesh can be added.<p>
check the vertex count.<p>
check the index count.<p>
check the uber-textures.<p>
get our mesh components and the new mesh's components.<p>
return true if the mesh components match up. 
<p>Definition at line <a class="el" href="_gr_mesh_combiner_8cpp-source.html#l00050">50</a> of file <a class="el" href="_gr_mesh_combiner_8cpp-source.html">GrMeshCombiner.cpp</a>.</p>

</div>
</div><p>
<a class="anchor" name="1d2955c0b2ff844c687ec467a713e1bd"></a><!-- doxytag: member="GrMeshCombiner::GetRangeCount" ref="1d2955c0b2ff844c687ec467a713e1bd" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned int GrMeshCombiner::GetRangeCount           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td> const<code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
returns the number of ranges in all of the meshes that have been added to the meshes so far. 
<p>Definition at line <a class="el" href="_gr_mesh_combiner_8h-source.html#l00043">43</a> of file <a class="el" href="_gr_mesh_combiner_8h-source.html">GrMeshCombiner.h</a>.</p>

</div>
</div><p>
<a class="anchor" name="f5879bfc1bcd54c7e5ce7e7d73a3f4f5"></a><!-- doxytag: member="GrMeshCombiner::GetVertexCount" ref="f5879bfc1bcd54c7e5ce7e7d73a3f4f5" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned int GrMeshCombiner::GetVertexCount           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td> const<code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
returns the number of vertices in all of the meshes that have been added to the combiner. 
<p>Definition at line <a class="el" href="_gr_mesh_combiner_8h-source.html#l00047">47</a> of file <a class="el" href="_gr_mesh_combiner_8h-source.html">GrMeshCombiner.h</a>.</p>

</div>
</div><p>
<hr>The documentation for this class was generated from the following files:<ul>
<li>C:/Bootstrap/ProjectBX/Documentation/Code/Engine/Graphics/<a class="el" href="_gr_mesh_combiner_8h-source.html">GrMeshCombiner.h</a><li>C:/Bootstrap/ProjectBX/Documentation/Code/Engine/Graphics/<a class="el" href="_gr_mesh_combiner_8cpp-source.html">GrMeshCombiner.cpp</a></ul>
</div>
<hr size="1"><address style="text-align: right;"><small>Generated on Fri Feb 13 17:20:05 2009 for Bootstrap Engine by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.8 </small></address>
</body>
</html>
