<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>Bootstrap Engine: C:/Bootstrap/ProjectBX/Documentation/Code/Engine/Graphics/GrRenderUtil.cpp Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css">
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.8 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
      <li><a href="globals.html"><span>File&nbsp;Members</span></a></li>
    </ul>
  </div>
<h1>C:/Bootstrap/ProjectBX/Documentation/Code/Engine/Graphics/GrRenderUtil.cpp</h1><a href="_gr_render_util_8cpp.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="comment">//----------------------------------------------------------</span>
<a name="l00006"></a>00006 <span class="comment"></span><span class="comment">//----------------------------------------------------------</span>
<a name="l00007"></a>00007 <span class="preprocessor">#include "<a class="code" href="graphics__afx_8h.html">graphics_afx.h</a>"</span>
<a name="l00008"></a>00008 
<a name="l00010"></a>00010 <span class="preprocessor">#include "<a class="code" href="_gr_render_util_8h.html">GrRenderUtil.h</a>"</span>
<a name="l00011"></a>00011 
<a name="l00013"></a>00013 <span class="preprocessor">#include "<a class="code" href="_gr_mesh_buffer_mgr_8h.html">GrMeshBufferMgr.h</a>"</span>
<a name="l00014"></a>00014 <span class="preprocessor">#include "<a class="code" href="_gr_mesh_v_b_8h.html">GrMeshVB.h</a>"</span>
<a name="l00015"></a>00015 <span class="preprocessor">#include "<a class="code" href="_gr_types_8h.html">GrTypes.h</a>"</span>
<a name="l00016"></a>00016 <span class="preprocessor">#include "<a class="code" href="_gr_camera_8h.html">GrCamera.h</a>"</span>
<a name="l00017"></a>00017 <span class="preprocessor">#include "<a class="code" href="_gr_color_8h.html">GrColor.h</a>"</span>
<a name="l00018"></a>00018 <span class="preprocessor">#include "<a class="code" href="_gr_shader_8h.html">GrShader.h</a>"</span>
<a name="l00019"></a>00019 <span class="preprocessor">#include "<a class="code" href="_gr_shader_mgr_8h.html">GrShaderMgr.h</a>"</span>
<a name="l00020"></a>00020 <span class="preprocessor">#include "<a class="code" href="_gr_config_8h.html">GrConfig.h</a>"</span>
<a name="l00021"></a>00021 <span class="preprocessor">#include "<a class="code" href="_m_a_a_box_8h.html">MAABox.h</a>"</span>
<a name="l00022"></a>00022 <span class="preprocessor">#include "<a class="code" href="_m_o_box_8h.html">MOBox.h</a>"</span>
<a name="l00023"></a>00023 
<a name="l00025"></a><a class="code" href="_gr_render_util_8cpp.html#683ee85ea07d9d589bf8d713a298b10f">00025</a> <span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code" href="_gr_render_util_8cpp.html#683ee85ea07d9d589bf8d713a298b10f" title="class header.">colorShaderVP</a> =
<a name="l00026"></a>00026 <span class="stringliteral">"attribute vec3 a_Position;\n"</span>
<a name="l00027"></a>00027 <span class="stringliteral">"attribute vec4 a_Color;\n"</span>
<a name="l00028"></a>00028 <span class="stringliteral">"varying vec4 v_Color;\n"</span>
<a name="l00029"></a>00029 <span class="stringliteral">"uniform mat4 u_ModelViewProjectionMatrix;\n"</span>
<a name="l00030"></a>00030 <span class="stringliteral">"void main() {\n"</span>
<a name="l00031"></a>00031 <span class="stringliteral">" gl_Position = u_ModelViewProjectionMatrix * vec4( a_Position.xyz, 1.0 );\n"</span>
<a name="l00032"></a>00032 <span class="stringliteral">" v_Color = a_Color;\n"</span>
<a name="l00033"></a>00033 <span class="stringliteral">"}\n"</span>;
<a name="l00034"></a>00034 
<a name="l00035"></a><a class="code" href="_gr_render_util_8cpp.html#3d68ddc8a510b6806fc825090163b351">00035</a> <span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code" href="_gr_render_util_8cpp.html#3d68ddc8a510b6806fc825090163b351">colorShaderFP</a> = 
<a name="l00036"></a>00036 <span class="stringliteral">"varying vec4 v_Color;\n"</span>
<a name="l00037"></a>00037 <span class="stringliteral">"void main() {\n"</span>
<a name="l00038"></a>00038 <span class="stringliteral">" gl_FragColor = v_Color;\n"</span>
<a name="l00039"></a>00039 <span class="stringliteral">"}\n"</span>;
<a name="l00040"></a>00040 
<a name="l00041"></a><a class="code" href="struct_s_tex_vertex.html">00041</a> <span class="keyword">struct </span><a class="code" href="struct_s_tex_vertex.html">STexVertex</a>
<a name="l00042"></a>00042 {
<a name="l00043"></a><a class="code" href="struct_s_tex_vertex.html#e05123a67cdc80271ee1d3cab5557247">00043</a>         <a class="code" href="struct_s_vec3.html" title="struct SVec3">SVec3</a> <a class="code" href="struct_s_tex_vertex.html#e05123a67cdc80271ee1d3cab5557247">position</a>;
<a name="l00044"></a><a class="code" href="struct_s_tex_vertex.html#c58bd23872cf7f4bfeba4f948688d453">00044</a>         <a class="code" href="struct_s_vec2.html" title="Purpose: Contains mesh data.">SVec2</a> <a class="code" href="struct_s_tex_vertex.html#c58bd23872cf7f4bfeba4f948688d453">texCoord</a>;
<a name="l00045"></a>00045 };
<a name="l00046"></a>00046 
<a name="l00047"></a><a class="code" href="struct_s_color_vertex.html">00047</a> <span class="keyword">struct </span><a class="code" href="struct_s_color_vertex.html">SColorVertex</a>
<a name="l00048"></a>00048 {
<a name="l00049"></a><a class="code" href="struct_s_color_vertex.html#0bfdb3a6284d5be8114d7fea1c830b60">00049</a>         <a class="code" href="struct_s_vec3.html" title="struct SVec3">SVec3</a> <a class="code" href="struct_s_color_vertex.html#0bfdb3a6284d5be8114d7fea1c830b60">position</a>;
<a name="l00050"></a><a class="code" href="struct_s_color_vertex.html#962359a8443bac073fa0e3e537101f88">00050</a>         <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <a class="code" href="struct_s_color_vertex.html#962359a8443bac073fa0e3e537101f88">color</a>;
<a name="l00051"></a>00051 };
<a name="l00052"></a>00052 
<a name="l00054"></a><a class="code" href="_gr_render_util_8h.html#fb34712df0783f1147102607ffa75997">00054</a> <a class="code" href="class_gr_render_util.html" title="class GrRenderUtil">GrRenderUtil</a>* <a class="code" href="_gr_render_util_8cpp.html#fb34712df0783f1147102607ffa75997" title="singleton pointer.">gGrRenderUtil</a> = 0;
<a name="l00055"></a>00055 
<a name="l00056"></a>00056 <span class="comment">//**********************************************************</span>
<a name="l00058"></a>00058 <span class="comment"></span><span class="comment">//**********************************************************</span>
<a name="l00059"></a>00059 
<a name="l00060"></a>00060 <span class="comment">//==========================================================</span>
<a name="l00062"></a>00062 <span class="comment"></span><span class="comment">//==========================================================</span>
<a name="l00063"></a>00063 
<a name="l00064"></a>00064 <span class="comment">//----------------------------------------------------------</span>
<a name="l00065"></a><a class="code" href="class_gr_render_util.html#046984eb05f9c2caaacf759ba5b383e6">00065</a> <a class="code" href="class_gr_render_util.html#046984eb05f9c2caaacf759ba5b383e6" title="class GrRenderUtil">GrRenderUtil::GrRenderUtil</a>()
<a name="l00066"></a>00066 {
<a name="l00067"></a>00067         <a class="code" href="common__afx_8h.html#2630490ce4292ed6d05359d2957796b8">B_ASSERT</a>( gGrRenderUtil == 0 );
<a name="l00068"></a>00068         gGrRenderUtil = <span class="keyword">this</span>;
<a name="l00069"></a>00069         CreateResources();
<a name="l00070"></a>00070 }
<a name="l00071"></a>00071 
<a name="l00072"></a>00072 <span class="comment">//----------------------------------------------------------</span>
<a name="l00073"></a><a class="code" href="class_gr_render_util.html#cc6a5f205a3784e3814ecffd2b45c621">00073</a> <a class="code" href="class_gr_render_util.html#cc6a5f205a3784e3814ecffd2b45c621">GrRenderUtil::~GrRenderUtil</a>()
<a name="l00074"></a>00074 {
<a name="l00075"></a>00075         gGrRenderUtil = 0;
<a name="l00076"></a>00076 }
<a name="l00077"></a>00077 
<a name="l00078"></a>00078 
<a name="l00079"></a>00079 <span class="comment">//==========================================================</span>
<a name="l00081"></a>00081 <span class="comment"></span><span class="comment">//==========================================================</span>
<a name="l00082"></a>00082 
<a name="l00083"></a>00083 <span class="comment">//----------------------------------------------------------</span>
<a name="l00084"></a>00084 <span class="keywordtype">void</span>
<a name="l00085"></a><a class="code" href="class_gr_render_util.html#7927ea8c2c13526dc291ad0812a8da46">00085</a> <a class="code" href="class_gr_render_util.html#7927ea8c2c13526dc291ad0812a8da46" title="drawing functions that submit positions and UVs.">GrRenderUtil::DrawScreenQuad</a>( <span class="keywordtype">float</span> minS, <span class="keywordtype">float</span> minT, <span class="keywordtype">float</span> maxS, <span class="keywordtype">float</span> maxT )
<a name="l00086"></a>00086 {
<a name="l00088"></a>00088         <a class="code" href="struct_s_tex_vertex.html">STexVertex</a> vertices[ 4 ];
<a name="l00089"></a>00089         vertices[ 0 ].<a class="code" href="struct_s_tex_vertex.html#e05123a67cdc80271ee1d3cab5557247">position</a> = <a class="code" href="struct_s_vec3.html" title="struct SVec3">SVec3</a>( -1.0f, 1.0f, 0.0f );
<a name="l00090"></a>00090         vertices[ 0 ].<a class="code" href="struct_s_tex_vertex.html#c58bd23872cf7f4bfeba4f948688d453">texCoord</a>.<a class="code" href="struct_s_vec2.html#328ec1b6dafebcc1eb6bf84f790f39b7">x</a> = minS;
<a name="l00091"></a>00091         vertices[ 0 ].<a class="code" href="struct_s_tex_vertex.html#c58bd23872cf7f4bfeba4f948688d453">texCoord</a>.<a class="code" href="struct_s_vec2.html#47cf4560950d17311222a547a98c4fde">y</a> = maxT;
<a name="l00092"></a>00092         vertices[ 1 ].<a class="code" href="struct_s_tex_vertex.html#e05123a67cdc80271ee1d3cab5557247">position</a> = <a class="code" href="struct_s_vec3.html" title="struct SVec3">SVec3</a>( 1.0f, 1.0f, 0.0f );
<a name="l00093"></a>00093         vertices[ 1 ].<a class="code" href="struct_s_tex_vertex.html#c58bd23872cf7f4bfeba4f948688d453">texCoord</a>.<a class="code" href="struct_s_vec2.html#328ec1b6dafebcc1eb6bf84f790f39b7">x</a> = maxS;
<a name="l00094"></a>00094         vertices[ 1 ].<a class="code" href="struct_s_tex_vertex.html#c58bd23872cf7f4bfeba4f948688d453">texCoord</a>.<a class="code" href="struct_s_vec2.html#47cf4560950d17311222a547a98c4fde">y</a> = maxT;
<a name="l00095"></a>00095         vertices[ 2 ].<a class="code" href="struct_s_tex_vertex.html#e05123a67cdc80271ee1d3cab5557247">position</a> = <a class="code" href="struct_s_vec3.html" title="struct SVec3">SVec3</a>( -1.0f, -1.0f, 0.0f );
<a name="l00096"></a>00096         vertices[ 2 ].<a class="code" href="struct_s_tex_vertex.html#c58bd23872cf7f4bfeba4f948688d453">texCoord</a>.<a class="code" href="struct_s_vec2.html#328ec1b6dafebcc1eb6bf84f790f39b7">x</a> = minS;
<a name="l00097"></a>00097         vertices[ 2 ].<a class="code" href="struct_s_tex_vertex.html#c58bd23872cf7f4bfeba4f948688d453">texCoord</a>.<a class="code" href="struct_s_vec2.html#47cf4560950d17311222a547a98c4fde">y</a> = minT;
<a name="l00098"></a>00098         vertices[ 3 ].<a class="code" href="struct_s_tex_vertex.html#e05123a67cdc80271ee1d3cab5557247">position</a> = <a class="code" href="struct_s_vec3.html" title="struct SVec3">SVec3</a>( 1.0f, -1.0f, 0.0f );
<a name="l00099"></a>00099         vertices[ 3 ].<a class="code" href="struct_s_tex_vertex.html#c58bd23872cf7f4bfeba4f948688d453">texCoord</a>.<a class="code" href="struct_s_vec2.html#328ec1b6dafebcc1eb6bf84f790f39b7">x</a> = maxS;
<a name="l00100"></a>00100         vertices[ 3 ].<a class="code" href="struct_s_tex_vertex.html#c58bd23872cf7f4bfeba4f948688d453">texCoord</a>.<a class="code" href="struct_s_vec2.html#47cf4560950d17311222a547a98c4fde">y</a> = minT;
<a name="l00101"></a>00101 
<a name="l00103"></a>00103         _quadVB-&gt;UploadUncached( 0, vertices, <span class="keyword">sizeof</span>( vertices ) );
<a name="l00104"></a>00104 
<a name="l00106"></a>00106         _quadVB-&gt;Bind( <a class="code" href="_gr_config_8h.html#2edd88842519480ffc74005f8219c83d" title="engine driven shader attribute enable flags.">GR_ATTRIB_POSITION_MASK</a> | <a class="code" href="_gr_config_8h.html#3f063b92b78becda8efba252ecb3bccd">GR_ATTRIB_TEXCOORD_MASK</a> );
<a name="l00107"></a>00107 
<a name="l00109"></a>00109         <a class="code" href="_gr_util_8cpp.html#b5f8140bc16ae7aad41126040955971b">GrDrawArrays</a>( <a class="code" href="_gr_util_8h.html#b3e9826637cd9ac6566bdd76e9fce1452a8780504f21b4faa98bcd7951ce64c8">EPT_TRIANGLE_STRIP</a>, 0, 4 );
<a name="l00110"></a>00110 }
<a name="l00111"></a>00111 
<a name="l00112"></a>00112 <span class="comment">//----------------------------------------------------------</span>
<a name="l00113"></a>00113 <span class="keywordtype">void</span>
<a name="l00114"></a><a class="code" href="class_gr_render_util.html#715942e2d678c7bd222f49497cb8d80e">00114</a> <a class="code" href="class_gr_render_util.html#715942e2d678c7bd222f49497cb8d80e">GrRenderUtil::DrawQuad</a>( <span class="keywordtype">float</span> <a class="code" href="glext_8h.html#d77deca22f617d3f0e0eb786445689fc">x</a>, <span class="keywordtype">float</span> <a class="code" href="_g_l_8h.html#9298c7ad619074f5285b32c6b72bfdea">y</a>, <span class="keywordtype">float</span> <a class="code" href="glext_8h.html#d47d000a8e40b26a33682e10ae32a1b6">w</a>, <span class="keywordtype">float</span> h, <span class="keywordtype">float</span> minS, <span class="keywordtype">float</span> minT, <span class="keywordtype">float</span> maxS, <span class="keywordtype">float</span> maxT )
<a name="l00115"></a>00115 {
<a name="l00117"></a>00117         <a class="code" href="struct_s_tex_vertex.html">STexVertex</a> vertices[ 4 ];
<a name="l00118"></a>00118         vertices[ 0 ].<a class="code" href="struct_s_tex_vertex.html#e05123a67cdc80271ee1d3cab5557247">position</a> = <a class="code" href="struct_s_vec3.html" title="struct SVec3">SVec3</a>( x, y + h, 0.0f );
<a name="l00119"></a>00119         vertices[ 0 ].<a class="code" href="struct_s_tex_vertex.html#c58bd23872cf7f4bfeba4f948688d453">texCoord</a>.<a class="code" href="struct_s_vec2.html#328ec1b6dafebcc1eb6bf84f790f39b7">x</a> = minS;
<a name="l00120"></a>00120         vertices[ 0 ].<a class="code" href="struct_s_tex_vertex.html#c58bd23872cf7f4bfeba4f948688d453">texCoord</a>.<a class="code" href="struct_s_vec2.html#47cf4560950d17311222a547a98c4fde">y</a> = maxT;
<a name="l00121"></a>00121         vertices[ 1 ].<a class="code" href="struct_s_tex_vertex.html#e05123a67cdc80271ee1d3cab5557247">position</a> = <a class="code" href="struct_s_vec3.html" title="struct SVec3">SVec3</a>( x + w, y + h, 0.0f );
<a name="l00122"></a>00122         vertices[ 1 ].<a class="code" href="struct_s_tex_vertex.html#c58bd23872cf7f4bfeba4f948688d453">texCoord</a>.<a class="code" href="struct_s_vec2.html#328ec1b6dafebcc1eb6bf84f790f39b7">x</a> = maxS;
<a name="l00123"></a>00123         vertices[ 1 ].<a class="code" href="struct_s_tex_vertex.html#c58bd23872cf7f4bfeba4f948688d453">texCoord</a>.<a class="code" href="struct_s_vec2.html#47cf4560950d17311222a547a98c4fde">y</a> = maxT;
<a name="l00124"></a>00124         vertices[ 2 ].<a class="code" href="struct_s_tex_vertex.html#e05123a67cdc80271ee1d3cab5557247">position</a> = <a class="code" href="struct_s_vec3.html" title="struct SVec3">SVec3</a>( x, y, 0.0f );
<a name="l00125"></a>00125         vertices[ 2 ].<a class="code" href="struct_s_tex_vertex.html#c58bd23872cf7f4bfeba4f948688d453">texCoord</a>.<a class="code" href="struct_s_vec2.html#328ec1b6dafebcc1eb6bf84f790f39b7">x</a> = minS;
<a name="l00126"></a>00126         vertices[ 2 ].<a class="code" href="struct_s_tex_vertex.html#c58bd23872cf7f4bfeba4f948688d453">texCoord</a>.<a class="code" href="struct_s_vec2.html#47cf4560950d17311222a547a98c4fde">y</a> = minT;
<a name="l00127"></a>00127         vertices[ 3 ].<a class="code" href="struct_s_tex_vertex.html#e05123a67cdc80271ee1d3cab5557247">position</a> = <a class="code" href="struct_s_vec3.html" title="struct SVec3">SVec3</a>( x + w, y, 0.0f );
<a name="l00128"></a>00128         vertices[ 3 ].<a class="code" href="struct_s_tex_vertex.html#c58bd23872cf7f4bfeba4f948688d453">texCoord</a>.<a class="code" href="struct_s_vec2.html#328ec1b6dafebcc1eb6bf84f790f39b7">x</a> = maxS;
<a name="l00129"></a>00129         vertices[ 3 ].<a class="code" href="struct_s_tex_vertex.html#c58bd23872cf7f4bfeba4f948688d453">texCoord</a>.<a class="code" href="struct_s_vec2.html#47cf4560950d17311222a547a98c4fde">y</a> = minT;
<a name="l00130"></a>00130 
<a name="l00132"></a>00132         _quadVB-&gt;UploadUncached( 0, vertices, <span class="keyword">sizeof</span>( vertices ) );
<a name="l00133"></a>00133 
<a name="l00135"></a>00135         _quadVB-&gt;Bind( <a class="code" href="_gr_config_8h.html#2edd88842519480ffc74005f8219c83d" title="engine driven shader attribute enable flags.">GR_ATTRIB_POSITION_MASK</a> | <a class="code" href="_gr_config_8h.html#3f063b92b78becda8efba252ecb3bccd">GR_ATTRIB_TEXCOORD_MASK</a> );
<a name="l00136"></a>00136 
<a name="l00138"></a>00138         <a class="code" href="_gr_util_8cpp.html#b5f8140bc16ae7aad41126040955971b">GrDrawArrays</a>( <a class="code" href="_gr_util_8h.html#b3e9826637cd9ac6566bdd76e9fce1452a8780504f21b4faa98bcd7951ce64c8">EPT_TRIANGLE_STRIP</a>, 0, 4 );
<a name="l00139"></a>00139 }
<a name="l00140"></a>00140 
<a name="l00141"></a>00141 <span class="comment">//----------------------------------------------------------</span>
<a name="l00142"></a>00142 <span class="keywordtype">void</span>
<a name="l00143"></a><a class="code" href="class_gr_render_util.html#a277a3afe58a89dc92ac242d83330eb1">00143</a> <a class="code" href="class_gr_render_util.html#a277a3afe58a89dc92ac242d83330eb1">GrRenderUtil::SetupColoredRender</a>( <span class="keyword">const</span> <a class="code" href="class_gr_camera.html" title="class GrCamera">GrCamera</a>&amp; camera, <span class="keywordtype">bool</span> wireframe, <span class="keywordtype">bool</span> additive )
<a name="l00144"></a>00144 {
<a name="l00146"></a>00146         <a class="code" href="_gr_util_8cpp.html#da7ea629bb413c26919562c8846d6139">GrSetState</a>( <a class="code" href="_gr_util_8h.html#df38fed29d4a8214bf4a51a0df0a7512" title="render states.">GR_DEPTHTEST</a> | ( wireframe ? <a class="code" href="_gr_util_8h.html#3d7aa459899278ffdc2f5d3229b6ec65">GR_WIREFRAME</a> : 0 ) | ( additive ? <a class="code" href="_gr_util_8h.html#ce93b9dc4bae65a0e96164bc2dcb2688">GR_BLEND</a> : 0 ) );
<a name="l00147"></a>00147         <a class="code" href="_gr_util_8cpp.html#7b33558bb79e3c6936f26553c282d081">GrSetWriteEnable</a>( <a class="code" href="_gr_util_8h.html#263ecb0b6dc90d2aca7b9291d81a7024">GR_DEPTH</a> | <a class="code" href="_gr_util_8h.html#d091dcc5dafb6944427eb6d9895b25d3">GR_RGBA</a> );
<a name="l00148"></a>00148         <a class="code" href="_gr_util_8cpp.html#60d9ac55af862efb36a5e95f19c14407">GrSetDepthMode</a>( <a class="code" href="_gr_util_8h.html#987cbe08cd23c0d7a12ae576e9ce098411cf9194e24cc66a0779bd0d6619ce9d">EDM_LESSEQUAL</a> );
<a name="l00149"></a>00149 
<a name="l00150"></a>00150         <span class="keywordflow">if</span> ( additive )
<a name="l00151"></a>00151         {
<a name="l00152"></a>00152                 <a class="code" href="_gr_util_8cpp.html#c1e533fa9d8433287f1bbe7d2a31080d">GrSetBlendMode</a>( <a class="code" href="_gr_util_8h.html#48d90fb7bec7d5ebb8c2bf20318961ec7579af57e6c60e197bc9032372290ecd">EBM_SRC_ALPHA</a>, <a class="code" href="_gr_util_8h.html#48d90fb7bec7d5ebb8c2bf20318961ec942b36475feda6ffc68e80e67fb1b79d">EBM_ONE</a> );
<a name="l00153"></a>00153         }
<a name="l00154"></a>00154 
<a name="l00156"></a>00156         _colorShader-&gt;Bind( <a class="code" href="enums_8h.html#697c1ee1354746841860d5bf9f81c033a65aecaadc4e83e6faf13f9983899775">EGQ_LOW</a> );
<a name="l00157"></a>00157         _colorShader-&gt;SetEngineParam4x4fv( <a class="code" href="class_gr_shader.html#2f004c603bb97711d05eb68381a5a7ba30e37abd2fd8b590c15664405e826b85" title="vertex params.">GrShader::EP_MODEL_VIEW_PROJECTION_MATRIX</a>, camera.<a class="code" href="class_gr_camera.html#a9a8ab5d4d339a769d58e0fa4f1bc823">GetViewProjMatrix</a>() );
<a name="l00158"></a>00158 }
<a name="l00159"></a>00159 
<a name="l00160"></a>00160 <span class="comment">//----------------------------------------------------------</span>
<a name="l00161"></a>00161 <span class="keywordtype">void</span>
<a name="l00162"></a><a class="code" href="class_gr_render_util.html#77102bada1fcd509f9b18d5ff274807e">00162</a> <a class="code" href="class_gr_render_util.html#77102bada1fcd509f9b18d5ff274807e" title="drawing functions that submit a point, line, or triangle for rendering.">GrRenderUtil::DrawColoredPoint</a>( <span class="keyword">const</span> <a class="code" href="class_gr_camera.html" title="class GrCamera">GrCamera</a>&amp; camera, <span class="keyword">const</span> <a class="code" href="class_m_vec3.html" title="class MVec3">MVec3</a>&amp; pos, <span class="keyword">const</span> <a class="code" href="class_gr_color.html" title="class GrColor">GrColor</a>&amp; <a class="code" href="glext_8h.html#3ea846f998d64f079b86052b6c4193a8">color</a>, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> sizeInPixels )
<a name="l00163"></a>00163 {
<a name="l00164"></a>00164         <a class="code" href="common__afx_8h.html#2630490ce4292ed6d05359d2957796b8">B_ASSERT</a>( <span class="keyword">false</span> &amp;&amp; <span class="stringliteral">"TESTME!"</span> );
<a name="l00165"></a>00165 
<a name="l00167"></a>00167         <span class="keywordtype">int</span> vpX = 0;
<a name="l00168"></a>00168         <span class="keywordtype">int</span> vpY = 0;
<a name="l00169"></a>00169         <span class="keywordtype">int</span> vpWidth = 0;
<a name="l00170"></a>00170         <span class="keywordtype">int</span> vpHeight = 0;
<a name="l00171"></a>00171         <a class="code" href="_gr_util_8cpp.html#790778867fdcac797860c02a4bd6b1fa">GrGetViewport</a>( vpX, vpY, vpWidth, vpHeight );
<a name="l00172"></a>00172 
<a name="l00175"></a>00175         <span class="keywordtype">float</span> halfPointWidth = sizeInPixels / ( float )vpWidth;
<a name="l00176"></a>00176         <span class="keywordtype">float</span> halfPointHeight = sizeInPixels / ( float )vpHeight;
<a name="l00177"></a>00177 
<a name="l00179"></a>00179         <a class="code" href="class_m_vec3.html" title="class MVec3">MVec3</a> ssCenter = camera.<a class="code" href="class_gr_camera.html#a9a8ab5d4d339a769d58e0fa4f1bc823">GetViewProjMatrix</a>().<a class="code" href="class_m_mat4x4.html#385cd0e1af4a803cfb38860de8195572">TransformCoord</a>( pos );
<a name="l00180"></a>00180 
<a name="l00182"></a>00182         <span class="keywordtype">float</span> minX = ssCenter.<a class="code" href="class_m_vec3.html#8b834219441d8d65b3e4df28fe03f60f">GetX</a>() - halfPointWidth;
<a name="l00183"></a>00183         <span class="keywordtype">float</span> minY = ssCenter.<a class="code" href="class_m_vec3.html#dfadf4adb521222d91980376a7679dc8">GetY</a>() - halfPointHeight;
<a name="l00184"></a>00184 
<a name="l00186"></a>00186         <span class="keywordtype">float</span> maxX = ssCenter.<a class="code" href="class_m_vec3.html#8b834219441d8d65b3e4df28fe03f60f">GetX</a>() + halfPointWidth;
<a name="l00187"></a>00187         <span class="keywordtype">float</span> maxY = ssCenter.<a class="code" href="class_m_vec3.html#dfadf4adb521222d91980376a7679dc8">GetY</a>() + halfPointHeight;
<a name="l00188"></a>00188 
<a name="l00190"></a>00190         <a class="code" href="struct_s_vec3.html" title="struct SVec3">SVec3</a>* positions = _colorVB-&gt;GetVertices();
<a name="l00191"></a>00191         positions[ 0 ] = <a class="code" href="struct_s_vec3.html" title="struct SVec3">SVec3</a>( minX, maxY, ssCenter.<a class="code" href="class_m_vec3.html#8b29390479c105bbb9926188b9742329">GetZ</a>() );
<a name="l00192"></a>00192         positions[ 1 ] = <a class="code" href="struct_s_vec3.html" title="struct SVec3">SVec3</a>( maxX, maxY, ssCenter.<a class="code" href="class_m_vec3.html#8b29390479c105bbb9926188b9742329">GetZ</a>() );
<a name="l00193"></a>00193         positions[ 2 ] = <a class="code" href="struct_s_vec3.html" title="struct SVec3">SVec3</a>( minX, minY, ssCenter.<a class="code" href="class_m_vec3.html#8b29390479c105bbb9926188b9742329">GetZ</a>() );
<a name="l00194"></a>00194         positions[ 3 ] = <a class="code" href="struct_s_vec3.html" title="struct SVec3">SVec3</a>( maxX, minY, ssCenter.<a class="code" href="class_m_vec3.html#8b29390479c105bbb9926188b9742329">GetZ</a>() );
<a name="l00195"></a>00195 
<a name="l00197"></a>00197         <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> packedColor = 0;
<a name="l00198"></a>00198         color.<a class="code" href="class_gr_color.html#2ecf5448eba8df51f4138d693b88af82">PackToRGBA</a>( ( <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>* )&amp;packedColor );
<a name="l00199"></a>00199 
<a name="l00201"></a>00201         <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span>* colors = _colorVB-&gt;GetColors();
<a name="l00202"></a>00202         colors[ 0 ] = packedColor;
<a name="l00203"></a>00203         colors[ 1 ] = packedColor;
<a name="l00204"></a>00204         colors[ 2 ] = packedColor;
<a name="l00205"></a>00205         colors[ 3 ] = packedColor;
<a name="l00206"></a>00206 
<a name="l00208"></a>00208         _colorVB-&gt;Bind( <a class="code" href="_gr_config_8h.html#2edd88842519480ffc74005f8219c83d" title="engine driven shader attribute enable flags.">GR_ATTRIB_POSITION_MASK</a> | <a class="code" href="_gr_config_8h.html#8bf9bfc6d234029203d9fc6e1bc50225">GR_ATTRIB_COLOR_MASK</a> );
<a name="l00209"></a>00209 
<a name="l00211"></a>00211         <a class="code" href="_gr_util_8cpp.html#b5f8140bc16ae7aad41126040955971b">GrDrawArrays</a>( <a class="code" href="_gr_util_8h.html#b3e9826637cd9ac6566bdd76e9fce1452a8780504f21b4faa98bcd7951ce64c8">EPT_TRIANGLE_STRIP</a>, 0, 4 );
<a name="l00212"></a>00212 }
<a name="l00213"></a>00213 
<a name="l00214"></a>00214 <span class="comment">//----------------------------------------------------------</span>
<a name="l00215"></a>00215 <span class="keywordtype">void</span>
<a name="l00216"></a><a class="code" href="class_gr_render_util.html#d10d280236c7ab0ffa19c61a47a1afce">00216</a> <a class="code" href="class_gr_render_util.html#d10d280236c7ab0ffa19c61a47a1afce">GrRenderUtil::DrawColoredSphere</a>( <span class="keyword">const</span> <a class="code" href="class_m_vec3.html" title="class MVec3">MVec3</a>&amp; pos, <span class="keywordtype">float</span> radius, <span class="keyword">const</span> <a class="code" href="class_gr_color.html" title="class GrColor">GrColor</a>&amp; <a class="code" href="glext_8h.html#3ea846f998d64f079b86052b6c4193a8">color</a>, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> slices )
<a name="l00217"></a>00217 {
<a name="l00219"></a>00219         slices = <a class="code" href="common__afx_8h.html#0296e17691267defafdfde06589f50d5">Min</a>( slices, 16U );
<a name="l00220"></a>00220 
<a name="l00222"></a>00222         slices &amp;= ~1;
<a name="l00223"></a>00223 
<a name="l00225"></a>00225         <span class="keywordtype">int</span> halfSlices = slices / 2;
<a name="l00226"></a>00226         <span class="keywordtype">float</span> invHalfSlices = 1.0f / ( float )halfSlices;
<a name="l00227"></a>00227 
<a name="l00229"></a>00229         <span class="keywordtype">float</span> theta1 = 0.0f;
<a name="l00230"></a>00230         <span class="keywordtype">float</span> theta2 = 0.0f;
<a name="l00231"></a>00231         <span class="keywordtype">float</span> phi1 = 0.0f;
<a name="l00232"></a>00232         <span class="keywordtype">float</span> phi2 = 0.0f;
<a name="l00233"></a>00233 
<a name="l00235"></a>00235         <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> packedColor = 0;
<a name="l00236"></a>00236         color.<a class="code" href="class_gr_color.html#2ecf5448eba8df51f4138d693b88af82">PackToRGBA</a>( ( <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>* )&amp;packedColor );
<a name="l00237"></a>00237 
<a name="l00239"></a>00239         <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> vertexDataSize = slices * slices * 8 * <span class="keyword">sizeof</span>( <a class="code" href="struct_s_color_vertex.html">SColorVertex</a> );
<a name="l00240"></a>00240         <a class="code" href="struct_s_color_vertex.html">SColorVertex</a>* vertices = ( <a class="code" href="struct_s_color_vertex.html">SColorVertex</a>* )<a class="code" href="common__afx_8cpp.html#a38123a381fda4eb71767e320a1331d1" title="temporary memory allocation">TempAlloc</a>( vertexDataSize );
<a name="l00241"></a>00241 
<a name="l00243"></a>00243         <a class="code" href="struct_s_color_vertex.html">SColorVertex</a>* curVertex = vertices;
<a name="l00244"></a>00244         <span class="keywordflow">for</span> ( <span class="keywordtype">int</span> i = 0; i &lt; ( <a class="code" href="_g_l_aux_8h.html#b832c174e145540d491b0830fc05dbb1">int</a> )slices; ++i )
<a name="l00245"></a>00245         {
<a name="l00247"></a>00247                 <span class="keywordtype">float</span> t1 = ( ( i + 0 ) - halfSlices ) * invHalfSlices;
<a name="l00248"></a>00248                 <span class="keywordtype">float</span> t2 = ( ( i + 1 ) - halfSlices ) * invHalfSlices;
<a name="l00249"></a>00249                 <span class="keywordtype">float</span> y1 = radius * <a class="code" href="common__afx_8h.html#15c4437929569821a369c1f0df5ab3b5">Sin</a>( t1 * <a class="code" href="common__afx_8h.html#e3ec3219e4eee3b0992bfd59c2e2bc42">HALF_PI</a> );
<a name="l00250"></a>00250                 <span class="keywordtype">float</span> y2 = radius * <a class="code" href="common__afx_8h.html#15c4437929569821a369c1f0df5ab3b5">Sin</a>( t2 * HALF_PI );
<a name="l00251"></a>00251                 <span class="keywordtype">float</span> ringWidth1 = radius * <a class="code" href="common__afx_8h.html#ed3c0bce670160f89fca79b5d0de1a76">Cos</a>( t1 * HALF_PI );
<a name="l00252"></a>00252                 <span class="keywordtype">float</span> ringWidth2 = radius * <a class="code" href="common__afx_8h.html#ed3c0bce670160f89fca79b5d0de1a76">Cos</a>( t2 * HALF_PI );
<a name="l00253"></a>00253 
<a name="l00255"></a>00255                 <span class="keywordflow">for</span> ( <span class="keywordtype">int</span> j = 0; j &lt; ( <a class="code" href="_g_l_aux_8h.html#b832c174e145540d491b0830fc05dbb1">int</a> )slices; ++j )
<a name="l00256"></a>00256                 {
<a name="l00257"></a>00257                         <span class="keywordtype">float</span> t1 = ( ( j + 0 ) - halfSlices ) * invHalfSlices;
<a name="l00258"></a>00258                         <span class="keywordtype">float</span> t2 = ( ( j + 1 ) - halfSlices ) * invHalfSlices;
<a name="l00259"></a>00259 
<a name="l00261"></a>00261                         <span class="keywordtype">float</span> x1 = ringWidth1 * <a class="code" href="common__afx_8h.html#15c4437929569821a369c1f0df5ab3b5">Sin</a>( t1 * HALF_PI );
<a name="l00262"></a>00262                         <span class="keywordtype">float</span> x2 = ringWidth2 * <a class="code" href="common__afx_8h.html#15c4437929569821a369c1f0df5ab3b5">Sin</a>( t1 * HALF_PI );
<a name="l00263"></a>00263                         <span class="keywordtype">float</span> x3 = ringWidth2 * <a class="code" href="common__afx_8h.html#15c4437929569821a369c1f0df5ab3b5">Sin</a>( t2 * HALF_PI );
<a name="l00264"></a>00264                         <span class="keywordtype">float</span> x4 = ringWidth1 * <a class="code" href="common__afx_8h.html#15c4437929569821a369c1f0df5ab3b5">Sin</a>( t2 * HALF_PI );
<a name="l00265"></a>00265 
<a name="l00267"></a>00267                         <span class="keywordtype">float</span> z1 = ringWidth1 * <a class="code" href="common__afx_8h.html#ed3c0bce670160f89fca79b5d0de1a76">Cos</a>( t1 * HALF_PI );
<a name="l00268"></a>00268                         <span class="keywordtype">float</span> z2 = ringWidth2 * <a class="code" href="common__afx_8h.html#ed3c0bce670160f89fca79b5d0de1a76">Cos</a>( t1 * HALF_PI );
<a name="l00269"></a>00269                         <span class="keywordtype">float</span> z3 = ringWidth2 * <a class="code" href="common__afx_8h.html#ed3c0bce670160f89fca79b5d0de1a76">Cos</a>( t2 * HALF_PI );
<a name="l00270"></a>00270                         <span class="keywordtype">float</span> z4 = ringWidth1 * <a class="code" href="common__afx_8h.html#ed3c0bce670160f89fca79b5d0de1a76">Cos</a>( t2 * HALF_PI );
<a name="l00271"></a>00271 
<a name="l00273"></a>00273                         curVertex-&gt;<a class="code" href="struct_s_color_vertex.html#0bfdb3a6284d5be8114d7fea1c830b60">position</a> = <a class="code" href="struct_s_vec3.html" title="struct SVec3">SVec3</a>( pos.<a class="code" href="class_m_vec3.html#8b834219441d8d65b3e4df28fe03f60f">GetX</a>() + x1, pos.<a class="code" href="class_m_vec3.html#dfadf4adb521222d91980376a7679dc8">GetY</a>() + y1, pos.<a class="code" href="class_m_vec3.html#8b29390479c105bbb9926188b9742329">GetZ</a>() + z1 );
<a name="l00274"></a>00274                         curVertex-&gt;<a class="code" href="struct_s_color_vertex.html#962359a8443bac073fa0e3e537101f88">color</a> = packedColor;
<a name="l00275"></a>00275                         ++curVertex;
<a name="l00276"></a>00276                         curVertex-&gt;<a class="code" href="struct_s_color_vertex.html#0bfdb3a6284d5be8114d7fea1c830b60">position</a> = <a class="code" href="struct_s_vec3.html" title="struct SVec3">SVec3</a>( pos.<a class="code" href="class_m_vec3.html#8b834219441d8d65b3e4df28fe03f60f">GetX</a>() + x2, pos.<a class="code" href="class_m_vec3.html#dfadf4adb521222d91980376a7679dc8">GetY</a>() + y2, pos.<a class="code" href="class_m_vec3.html#8b29390479c105bbb9926188b9742329">GetZ</a>() + z2 );
<a name="l00277"></a>00277                         curVertex-&gt;<a class="code" href="struct_s_color_vertex.html#962359a8443bac073fa0e3e537101f88">color</a> = packedColor;
<a name="l00278"></a>00278                         ++curVertex;
<a name="l00279"></a>00279                         curVertex-&gt;<a class="code" href="struct_s_color_vertex.html#0bfdb3a6284d5be8114d7fea1c830b60">position</a> = <a class="code" href="struct_s_vec3.html" title="struct SVec3">SVec3</a>( pos.<a class="code" href="class_m_vec3.html#8b834219441d8d65b3e4df28fe03f60f">GetX</a>() + x3, pos.<a class="code" href="class_m_vec3.html#dfadf4adb521222d91980376a7679dc8">GetY</a>() + y2, pos.<a class="code" href="class_m_vec3.html#8b29390479c105bbb9926188b9742329">GetZ</a>() + z3 );
<a name="l00280"></a>00280                         curVertex-&gt;<a class="code" href="struct_s_color_vertex.html#962359a8443bac073fa0e3e537101f88">color</a> = packedColor;
<a name="l00281"></a>00281                         ++curVertex;
<a name="l00282"></a>00282                         curVertex-&gt;<a class="code" href="struct_s_color_vertex.html#0bfdb3a6284d5be8114d7fea1c830b60">position</a> = <a class="code" href="struct_s_vec3.html" title="struct SVec3">SVec3</a>( pos.<a class="code" href="class_m_vec3.html#8b834219441d8d65b3e4df28fe03f60f">GetX</a>() + x4, pos.<a class="code" href="class_m_vec3.html#dfadf4adb521222d91980376a7679dc8">GetY</a>() + y1, pos.<a class="code" href="class_m_vec3.html#8b29390479c105bbb9926188b9742329">GetZ</a>() + z4 );
<a name="l00283"></a>00283                         curVertex-&gt;<a class="code" href="struct_s_color_vertex.html#962359a8443bac073fa0e3e537101f88">color</a> = packedColor;
<a name="l00284"></a>00284                         ++curVertex;
<a name="l00285"></a>00285 
<a name="l00287"></a>00287                         curVertex-&gt;<a class="code" href="struct_s_color_vertex.html#0bfdb3a6284d5be8114d7fea1c830b60">position</a> = <a class="code" href="struct_s_vec3.html" title="struct SVec3">SVec3</a>( pos.<a class="code" href="class_m_vec3.html#8b834219441d8d65b3e4df28fe03f60f">GetX</a>() - x1, pos.<a class="code" href="class_m_vec3.html#dfadf4adb521222d91980376a7679dc8">GetY</a>() - y1, pos.<a class="code" href="class_m_vec3.html#8b29390479c105bbb9926188b9742329">GetZ</a>() - z1 );
<a name="l00288"></a>00288                         curVertex-&gt;<a class="code" href="struct_s_color_vertex.html#962359a8443bac073fa0e3e537101f88">color</a> = packedColor;
<a name="l00289"></a>00289                         ++curVertex;
<a name="l00290"></a>00290                         curVertex-&gt;<a class="code" href="struct_s_color_vertex.html#0bfdb3a6284d5be8114d7fea1c830b60">position</a> = <a class="code" href="struct_s_vec3.html" title="struct SVec3">SVec3</a>( pos.<a class="code" href="class_m_vec3.html#8b834219441d8d65b3e4df28fe03f60f">GetX</a>() - x2, pos.<a class="code" href="class_m_vec3.html#dfadf4adb521222d91980376a7679dc8">GetY</a>() - y2, pos.<a class="code" href="class_m_vec3.html#8b29390479c105bbb9926188b9742329">GetZ</a>() - z2 );
<a name="l00291"></a>00291                         curVertex-&gt;<a class="code" href="struct_s_color_vertex.html#962359a8443bac073fa0e3e537101f88">color</a> = packedColor;
<a name="l00292"></a>00292                         ++curVertex;
<a name="l00293"></a>00293                         curVertex-&gt;<a class="code" href="struct_s_color_vertex.html#0bfdb3a6284d5be8114d7fea1c830b60">position</a> = <a class="code" href="struct_s_vec3.html" title="struct SVec3">SVec3</a>( pos.<a class="code" href="class_m_vec3.html#8b834219441d8d65b3e4df28fe03f60f">GetX</a>() - x3, pos.<a class="code" href="class_m_vec3.html#dfadf4adb521222d91980376a7679dc8">GetY</a>() - y2, pos.<a class="code" href="class_m_vec3.html#8b29390479c105bbb9926188b9742329">GetZ</a>() - z3 );
<a name="l00294"></a>00294                         curVertex-&gt;<a class="code" href="struct_s_color_vertex.html#962359a8443bac073fa0e3e537101f88">color</a> = packedColor;
<a name="l00295"></a>00295                         ++curVertex;
<a name="l00296"></a>00296                         curVertex-&gt;<a class="code" href="struct_s_color_vertex.html#0bfdb3a6284d5be8114d7fea1c830b60">position</a> = <a class="code" href="struct_s_vec3.html" title="struct SVec3">SVec3</a>( pos.<a class="code" href="class_m_vec3.html#8b834219441d8d65b3e4df28fe03f60f">GetX</a>() - x4, pos.<a class="code" href="class_m_vec3.html#dfadf4adb521222d91980376a7679dc8">GetY</a>() - y1, pos.<a class="code" href="class_m_vec3.html#8b29390479c105bbb9926188b9742329">GetZ</a>() - z4 );
<a name="l00297"></a>00297                         curVertex-&gt;<a class="code" href="struct_s_color_vertex.html#962359a8443bac073fa0e3e537101f88">color</a> = packedColor;
<a name="l00298"></a>00298                         ++curVertex;
<a name="l00299"></a>00299                 }
<a name="l00300"></a>00300         }
<a name="l00301"></a>00301 
<a name="l00303"></a>00303         _colorVB-&gt;UploadUncached( 0, vertices, vertexDataSize );
<a name="l00304"></a>00304 
<a name="l00306"></a>00306         _colorVB-&gt;Bind( <a class="code" href="_gr_config_8h.html#2edd88842519480ffc74005f8219c83d" title="engine driven shader attribute enable flags.">GR_ATTRIB_POSITION_MASK</a> | <a class="code" href="_gr_config_8h.html#8bf9bfc6d234029203d9fc6e1bc50225">GR_ATTRIB_COLOR_MASK</a> );
<a name="l00307"></a>00307 
<a name="l00309"></a>00309         <a class="code" href="_gr_util_8cpp.html#b5f8140bc16ae7aad41126040955971b">GrDrawArrays</a>( <a class="code" href="_gr_util_8h.html#b3e9826637cd9ac6566bdd76e9fce14500373ffe678f25c35c1503d614ca8e53">EPT_QUADS</a>, 0, slices * slices * 8 );
<a name="l00310"></a>00310 
<a name="l00312"></a>00312         <a class="code" href="common__afx_8cpp.html#4f8b297dfd37bb5e5081041d840d19cf">TempFree</a>( vertices );
<a name="l00313"></a>00313 }
<a name="l00314"></a>00314 
<a name="l00315"></a>00315 <span class="comment">//----------------------------------------------------------</span>
<a name="l00316"></a>00316 <span class="keywordtype">void</span>
<a name="l00317"></a><a class="code" href="class_gr_render_util.html#43fcf0adfd8aff3ede03fb334970993b">00317</a> <a class="code" href="class_gr_render_util.html#43fcf0adfd8aff3ede03fb334970993b">GrRenderUtil::DrawColoredLine</a>( <span class="keyword">const</span> <a class="code" href="class_m_vec3.html" title="class MVec3">MVec3</a>&amp; pos1, <span class="keyword">const</span> <a class="code" href="class_m_vec3.html" title="class MVec3">MVec3</a>&amp; pos2, <span class="keyword">const</span> <a class="code" href="class_gr_color.html" title="class GrColor">GrColor</a>&amp; <a class="code" href="glext_8h.html#3ea846f998d64f079b86052b6c4193a8">color</a> )
<a name="l00318"></a>00318 {
<a name="l00320"></a>00320         <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> packedColor = 0;
<a name="l00321"></a>00321         color.<a class="code" href="class_gr_color.html#2ecf5448eba8df51f4138d693b88af82">PackToRGBA</a>( ( <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>* )&amp;packedColor );
<a name="l00322"></a>00322 
<a name="l00324"></a>00324         <a class="code" href="struct_s_color_vertex.html">SColorVertex</a> vertices[ 2 ];
<a name="l00325"></a>00325         vertices[ 0 ].<a class="code" href="struct_s_color_vertex.html#0bfdb3a6284d5be8114d7fea1c830b60">position</a> = <a class="code" href="struct_s_vec3.html" title="struct SVec3">SVec3</a>( pos1.<a class="code" href="class_m_vec3.html#8b834219441d8d65b3e4df28fe03f60f">GetX</a>(), pos1.<a class="code" href="class_m_vec3.html#dfadf4adb521222d91980376a7679dc8">GetY</a>(), pos1.<a class="code" href="class_m_vec3.html#8b29390479c105bbb9926188b9742329">GetZ</a>() );
<a name="l00326"></a>00326         vertices[ 0 ].<a class="code" href="struct_s_color_vertex.html#962359a8443bac073fa0e3e537101f88">color</a> = packedColor;
<a name="l00327"></a>00327         vertices[ 1 ].<a class="code" href="struct_s_color_vertex.html#0bfdb3a6284d5be8114d7fea1c830b60">position</a> = <a class="code" href="struct_s_vec3.html" title="struct SVec3">SVec3</a>( pos2.<a class="code" href="class_m_vec3.html#8b834219441d8d65b3e4df28fe03f60f">GetX</a>(), pos2.<a class="code" href="class_m_vec3.html#dfadf4adb521222d91980376a7679dc8">GetY</a>(), pos2.<a class="code" href="class_m_vec3.html#8b29390479c105bbb9926188b9742329">GetZ</a>() );
<a name="l00328"></a>00328         vertices[ 1 ].<a class="code" href="struct_s_color_vertex.html#962359a8443bac073fa0e3e537101f88">color</a> = packedColor;
<a name="l00329"></a>00329 
<a name="l00331"></a>00331         _colorVB-&gt;UploadUncached( 0, vertices, <span class="keyword">sizeof</span>( vertices ) );
<a name="l00332"></a>00332 
<a name="l00334"></a>00334         _colorVB-&gt;Bind( <a class="code" href="_gr_config_8h.html#2edd88842519480ffc74005f8219c83d" title="engine driven shader attribute enable flags.">GR_ATTRIB_POSITION_MASK</a> | <a class="code" href="_gr_config_8h.html#8bf9bfc6d234029203d9fc6e1bc50225">GR_ATTRIB_COLOR_MASK</a> );
<a name="l00335"></a>00335 
<a name="l00337"></a>00337         <a class="code" href="_gr_util_8cpp.html#b5f8140bc16ae7aad41126040955971b">GrDrawArrays</a>( <a class="code" href="_gr_util_8h.html#b3e9826637cd9ac6566bdd76e9fce145f3102cc2feb794a2f7582b0b076076ac">EPT_LINES</a>, 0, 2 );
<a name="l00338"></a>00338 }
<a name="l00339"></a>00339 
<a name="l00340"></a>00340 <span class="comment">//----------------------------------------------------------</span>
<a name="l00341"></a>00341 <span class="keywordtype">void</span>
<a name="l00342"></a><a class="code" href="class_gr_render_util.html#59cc101b118c5d85270f3d2e7f737007">00342</a> <a class="code" href="class_gr_render_util.html#59cc101b118c5d85270f3d2e7f737007">GrRenderUtil::DrawColoredTriangle</a>( <span class="keyword">const</span> <a class="code" href="class_m_vec3.html" title="class MVec3">MVec3</a>&amp; pos1, <span class="keyword">const</span> <a class="code" href="class_m_vec3.html" title="class MVec3">MVec3</a>&amp; pos2, <span class="keyword">const</span> <a class="code" href="class_m_vec3.html" title="class MVec3">MVec3</a>&amp; pos3, <span class="keyword">const</span> <a class="code" href="class_gr_color.html" title="class GrColor">GrColor</a>&amp; <a class="code" href="glext_8h.html#3ea846f998d64f079b86052b6c4193a8">color</a> )
<a name="l00343"></a>00343 {
<a name="l00345"></a>00345         <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> packedColor = 0;
<a name="l00346"></a>00346         color.<a class="code" href="class_gr_color.html#2ecf5448eba8df51f4138d693b88af82">PackToRGBA</a>( ( <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>* )&amp;packedColor );
<a name="l00347"></a>00347 
<a name="l00349"></a>00349         <a class="code" href="struct_s_color_vertex.html">SColorVertex</a> vertices[ 3 ];
<a name="l00350"></a>00350         vertices[ 0 ].<a class="code" href="struct_s_color_vertex.html#0bfdb3a6284d5be8114d7fea1c830b60">position</a> = <a class="code" href="struct_s_vec3.html" title="struct SVec3">SVec3</a>( pos1.<a class="code" href="class_m_vec3.html#8b834219441d8d65b3e4df28fe03f60f">GetX</a>(), pos1.<a class="code" href="class_m_vec3.html#dfadf4adb521222d91980376a7679dc8">GetY</a>(), pos1.<a class="code" href="class_m_vec3.html#8b29390479c105bbb9926188b9742329">GetZ</a>() );
<a name="l00351"></a>00351         vertices[ 0 ].<a class="code" href="struct_s_color_vertex.html#962359a8443bac073fa0e3e537101f88">color</a> = packedColor;
<a name="l00352"></a>00352         vertices[ 1 ].<a class="code" href="struct_s_color_vertex.html#0bfdb3a6284d5be8114d7fea1c830b60">position</a> = <a class="code" href="struct_s_vec3.html" title="struct SVec3">SVec3</a>( pos2.<a class="code" href="class_m_vec3.html#8b834219441d8d65b3e4df28fe03f60f">GetX</a>(), pos2.<a class="code" href="class_m_vec3.html#dfadf4adb521222d91980376a7679dc8">GetY</a>(), pos2.<a class="code" href="class_m_vec3.html#8b29390479c105bbb9926188b9742329">GetZ</a>() );
<a name="l00353"></a>00353         vertices[ 1 ].<a class="code" href="struct_s_color_vertex.html#962359a8443bac073fa0e3e537101f88">color</a> = packedColor;
<a name="l00354"></a>00354         vertices[ 2 ].<a class="code" href="struct_s_color_vertex.html#0bfdb3a6284d5be8114d7fea1c830b60">position</a> = <a class="code" href="struct_s_vec3.html" title="struct SVec3">SVec3</a>( pos3.<a class="code" href="class_m_vec3.html#8b834219441d8d65b3e4df28fe03f60f">GetX</a>(), pos3.<a class="code" href="class_m_vec3.html#dfadf4adb521222d91980376a7679dc8">GetY</a>(), pos3.<a class="code" href="class_m_vec3.html#8b29390479c105bbb9926188b9742329">GetZ</a>() );
<a name="l00355"></a>00355         vertices[ 2 ].<a class="code" href="struct_s_color_vertex.html#962359a8443bac073fa0e3e537101f88">color</a> = packedColor;
<a name="l00356"></a>00356 
<a name="l00358"></a>00358         _colorVB-&gt;UploadUncached( 0, vertices, <span class="keyword">sizeof</span>( vertices ) );
<a name="l00359"></a>00359 
<a name="l00361"></a>00361         _colorVB-&gt;Bind( <a class="code" href="_gr_config_8h.html#2edd88842519480ffc74005f8219c83d" title="engine driven shader attribute enable flags.">GR_ATTRIB_POSITION_MASK</a> | <a class="code" href="_gr_config_8h.html#8bf9bfc6d234029203d9fc6e1bc50225">GR_ATTRIB_COLOR_MASK</a> );
<a name="l00362"></a>00362 
<a name="l00364"></a>00364         <a class="code" href="_gr_util_8cpp.html#b5f8140bc16ae7aad41126040955971b">GrDrawArrays</a>( <a class="code" href="_gr_util_8h.html#b3e9826637cd9ac6566bdd76e9fce145a9fe6ff1c0350bd3ba9fdaf6818343ec">EPT_TRIANGLES</a>, 0, 3 );
<a name="l00365"></a>00365 }
<a name="l00366"></a>00366 
<a name="l00367"></a>00367 <span class="comment">//----------------------------------------------------------</span>
<a name="l00368"></a>00368 <span class="keywordtype">void</span>
<a name="l00369"></a><a class="code" href="class_gr_render_util.html#f53586276257c886ea2d3c526db1d233">00369</a> <a class="code" href="class_gr_render_util.html#f53586276257c886ea2d3c526db1d233">GrRenderUtil::DrawColoredCone</a>( <span class="keyword">const</span> <a class="code" href="class_m_vec3.html" title="class MVec3">MVec3</a>&amp; pos, <span class="keywordtype">float</span> theta, <span class="keywordtype">float</span> <a class="code" href="glext_8h.html#78c5c8710130a1a634d6a81d52be8db8">length</a>, <span class="keyword">const</span> <a class="code" href="class_gr_color.html" title="class GrColor">GrColor</a>&amp; <a class="code" href="glext_8h.html#3ea846f998d64f079b86052b6c4193a8">color</a>, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> slices )
<a name="l00370"></a>00370 {
<a name="l00372"></a>00372         slices &amp;= ~1;
<a name="l00373"></a>00373 
<a name="l00375"></a>00375         <span class="keywordtype">int</span> halfSlices = slices / 2;
<a name="l00376"></a>00376         <span class="keywordtype">float</span> invSlices = 1.0f / slices;
<a name="l00377"></a>00377         <span class="keywordtype">float</span> invHalfSlices = 1.0f / halfSlices;
<a name="l00378"></a>00378         <span class="keywordtype">float</span> lengthDivSlices = length * invSlices;
<a name="l00379"></a>00379         <span class="keywordtype">float</span> stepDelta = <a class="code" href="common__afx_8h.html#30d55f5ec21ae390b0ecc55cc21db571">Tan</a>( theta ) * lengthDivSlices;
<a name="l00380"></a>00380         <span class="keywordtype">float</span> radius1 = 0.0f;
<a name="l00381"></a>00381         <span class="keywordtype">float</span> radius2 = stepDelta;
<a name="l00382"></a>00382 
<a name="l00384"></a>00384         <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> packedColor = 0;
<a name="l00385"></a>00385         color.<a class="code" href="class_gr_color.html#2ecf5448eba8df51f4138d693b88af82">PackToRGBA</a>( ( <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>* )&amp;packedColor );
<a name="l00386"></a>00386 
<a name="l00388"></a>00388         <a class="code" href="struct_s_vec3.html" title="struct SVec3">SVec3</a>* curPosition = _colorVB-&gt;GetVertices();
<a name="l00389"></a>00389         <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span>* curColor = _colorVB-&gt;GetColors();
<a name="l00390"></a>00390 
<a name="l00392"></a>00392         <span class="keywordflow">for</span> ( <span class="keywordtype">int</span> i = 0; i &lt; ( <a class="code" href="_g_l_aux_8h.html#b832c174e145540d491b0830fc05dbb1">int</a> )slices; ++i )
<a name="l00393"></a>00393         {
<a name="l00394"></a>00394                 <span class="keywordtype">float</span> z1 = -( i + 0 ) * lengthDivSlices;
<a name="l00395"></a>00395                 <span class="keywordtype">float</span> z2 = -( i + 1 ) * lengthDivSlices;
<a name="l00396"></a>00396 
<a name="l00398"></a>00398                 <span class="keywordflow">for</span> ( <span class="keywordtype">int</span> j = 0; j &lt; ( <a class="code" href="_g_l_aux_8h.html#b832c174e145540d491b0830fc05dbb1">int</a> )slices; ++j )
<a name="l00399"></a>00399                 {
<a name="l00400"></a>00400                         <span class="keywordtype">float</span> t1 = ( ( j + 0 ) - halfSlices ) * invHalfSlices;
<a name="l00401"></a>00401                         <span class="keywordtype">float</span> t2 = ( ( j + 1 ) - halfSlices ) * invHalfSlices;
<a name="l00402"></a>00402                         
<a name="l00404"></a>00404                         <span class="keywordtype">float</span> x1 = radius1 * <a class="code" href="common__afx_8h.html#15c4437929569821a369c1f0df5ab3b5">Sin</a>( t1 * <a class="code" href="common__afx_8h.html#e3ec3219e4eee3b0992bfd59c2e2bc42">HALF_PI</a> );
<a name="l00405"></a>00405                         <span class="keywordtype">float</span> x2 = radius2 * <a class="code" href="common__afx_8h.html#15c4437929569821a369c1f0df5ab3b5">Sin</a>( t1 * HALF_PI );
<a name="l00406"></a>00406                         <span class="keywordtype">float</span> x3 = radius2 * <a class="code" href="common__afx_8h.html#15c4437929569821a369c1f0df5ab3b5">Sin</a>( t2 * HALF_PI );
<a name="l00407"></a>00407                         <span class="keywordtype">float</span> x4 = radius1 * <a class="code" href="common__afx_8h.html#15c4437929569821a369c1f0df5ab3b5">Sin</a>( t2 * HALF_PI );
<a name="l00408"></a>00408                         <span class="keywordtype">float</span> y1 = radius1 * <a class="code" href="common__afx_8h.html#ed3c0bce670160f89fca79b5d0de1a76">Cos</a>( t1 * HALF_PI );
<a name="l00409"></a>00409                         <span class="keywordtype">float</span> y2 = radius2 * <a class="code" href="common__afx_8h.html#ed3c0bce670160f89fca79b5d0de1a76">Cos</a>( t1 * HALF_PI );
<a name="l00410"></a>00410                         <span class="keywordtype">float</span> y3 = radius2 * <a class="code" href="common__afx_8h.html#ed3c0bce670160f89fca79b5d0de1a76">Cos</a>( t2 * HALF_PI );
<a name="l00411"></a>00411                         <span class="keywordtype">float</span> y4 = radius1 * <a class="code" href="common__afx_8h.html#ed3c0bce670160f89fca79b5d0de1a76">Cos</a>( t2 * HALF_PI );
<a name="l00412"></a>00412 
<a name="l00414"></a>00414                         *curColor++ = packedColor;
<a name="l00415"></a>00415                         *curColor++ = packedColor;
<a name="l00416"></a>00416                         *curColor++ = packedColor;
<a name="l00417"></a>00417                         *curColor++ = packedColor;
<a name="l00418"></a>00418                         *curColor++ = packedColor;
<a name="l00419"></a>00419                         *curColor++ = packedColor;
<a name="l00420"></a>00420                         *curColor++ = packedColor;
<a name="l00421"></a>00421                         *curColor++ = packedColor;
<a name="l00422"></a>00422                         *curPosition++ = <a class="code" href="struct_s_vec3.html" title="struct SVec3">SVec3</a>( pos.<a class="code" href="class_m_vec3.html#8b834219441d8d65b3e4df28fe03f60f">GetX</a>() + x1, pos.<a class="code" href="class_m_vec3.html#dfadf4adb521222d91980376a7679dc8">GetY</a>() + y1, pos.<a class="code" href="class_m_vec3.html#8b29390479c105bbb9926188b9742329">GetZ</a>() + z1 );
<a name="l00423"></a>00423                         *curPosition++ = <a class="code" href="struct_s_vec3.html" title="struct SVec3">SVec3</a>( pos.<a class="code" href="class_m_vec3.html#8b834219441d8d65b3e4df28fe03f60f">GetX</a>() + x2, pos.<a class="code" href="class_m_vec3.html#dfadf4adb521222d91980376a7679dc8">GetY</a>() + y2, pos.<a class="code" href="class_m_vec3.html#8b29390479c105bbb9926188b9742329">GetZ</a>() + z2 );
<a name="l00424"></a>00424                         *curPosition++ = <a class="code" href="struct_s_vec3.html" title="struct SVec3">SVec3</a>( pos.<a class="code" href="class_m_vec3.html#8b834219441d8d65b3e4df28fe03f60f">GetX</a>() + x3, pos.<a class="code" href="class_m_vec3.html#dfadf4adb521222d91980376a7679dc8">GetY</a>() + y3, pos.<a class="code" href="class_m_vec3.html#8b29390479c105bbb9926188b9742329">GetZ</a>() + z2 );
<a name="l00425"></a>00425                         *curPosition++ = <a class="code" href="struct_s_vec3.html" title="struct SVec3">SVec3</a>( pos.<a class="code" href="class_m_vec3.html#8b834219441d8d65b3e4df28fe03f60f">GetX</a>() + x4, pos.<a class="code" href="class_m_vec3.html#dfadf4adb521222d91980376a7679dc8">GetY</a>() + y4, pos.<a class="code" href="class_m_vec3.html#8b29390479c105bbb9926188b9742329">GetZ</a>() + z1 );
<a name="l00426"></a>00426                         *curPosition++ = <a class="code" href="struct_s_vec3.html" title="struct SVec3">SVec3</a>( pos.<a class="code" href="class_m_vec3.html#8b834219441d8d65b3e4df28fe03f60f">GetX</a>() - x1, pos.<a class="code" href="class_m_vec3.html#dfadf4adb521222d91980376a7679dc8">GetY</a>() - y1, pos.<a class="code" href="class_m_vec3.html#8b29390479c105bbb9926188b9742329">GetZ</a>() + z1 );
<a name="l00427"></a>00427                         *curPosition++ = <a class="code" href="struct_s_vec3.html" title="struct SVec3">SVec3</a>( pos.<a class="code" href="class_m_vec3.html#8b834219441d8d65b3e4df28fe03f60f">GetX</a>() - x2, pos.<a class="code" href="class_m_vec3.html#dfadf4adb521222d91980376a7679dc8">GetY</a>() - y2, pos.<a class="code" href="class_m_vec3.html#8b29390479c105bbb9926188b9742329">GetZ</a>() + z2 );
<a name="l00428"></a>00428                         *curPosition++ = <a class="code" href="struct_s_vec3.html" title="struct SVec3">SVec3</a>( pos.<a class="code" href="class_m_vec3.html#8b834219441d8d65b3e4df28fe03f60f">GetX</a>() - x3, pos.<a class="code" href="class_m_vec3.html#dfadf4adb521222d91980376a7679dc8">GetY</a>() - y3, pos.<a class="code" href="class_m_vec3.html#8b29390479c105bbb9926188b9742329">GetZ</a>() + z2 );
<a name="l00429"></a>00429                         *curPosition++ = <a class="code" href="struct_s_vec3.html" title="struct SVec3">SVec3</a>( pos.<a class="code" href="class_m_vec3.html#8b834219441d8d65b3e4df28fe03f60f">GetX</a>() - x4, pos.<a class="code" href="class_m_vec3.html#dfadf4adb521222d91980376a7679dc8">GetY</a>() - y4, pos.<a class="code" href="class_m_vec3.html#8b29390479c105bbb9926188b9742329">GetZ</a>() + z1 );
<a name="l00430"></a>00430                 }
<a name="l00431"></a>00431 
<a name="l00432"></a>00432                 radius1 = radius2;
<a name="l00433"></a>00433                 radius2 += stepDelta;
<a name="l00434"></a>00434         }
<a name="l00435"></a>00435 
<a name="l00437"></a>00437         _colorVB-&gt;MarkAsDirty( <a class="code" href="_gr_config_8h.html#2edd88842519480ffc74005f8219c83d" title="engine driven shader attribute enable flags.">GR_ATTRIB_POSITION_MASK</a> | <a class="code" href="_gr_config_8h.html#8bf9bfc6d234029203d9fc6e1bc50225">GR_ATTRIB_COLOR_MASK</a> );
<a name="l00438"></a>00438 
<a name="l00440"></a>00440         _colorVB-&gt;Bind( <a class="code" href="_gr_config_8h.html#2edd88842519480ffc74005f8219c83d" title="engine driven shader attribute enable flags.">GR_ATTRIB_POSITION_MASK</a> | <a class="code" href="_gr_config_8h.html#8bf9bfc6d234029203d9fc6e1bc50225">GR_ATTRIB_COLOR_MASK</a> );
<a name="l00441"></a>00441 
<a name="l00443"></a>00443         <a class="code" href="_gr_util_8cpp.html#b5f8140bc16ae7aad41126040955971b">GrDrawArrays</a>( <a class="code" href="_gr_util_8h.html#b3e9826637cd9ac6566bdd76e9fce14500373ffe678f25c35c1503d614ca8e53">EPT_QUADS</a>, 0, 24 );
<a name="l00444"></a>00444 }
<a name="l00445"></a>00445 
<a name="l00446"></a>00446 <span class="comment">//----------------------------------------------------------</span>
<a name="l00447"></a>00447 <span class="keywordtype">void</span>
<a name="l00448"></a><a class="code" href="class_gr_render_util.html#754e864fcf78c7f20fa4a417475960cc">00448</a> <a class="code" href="class_gr_render_util.html#754e864fcf78c7f20fa4a417475960cc">GrRenderUtil::DrawColoredCube</a>( <span class="keyword">const</span> <a class="code" href="class_m_vec3.html" title="class MVec3">MVec3</a>&amp; pos, <span class="keywordtype">float</span> <a class="code" href="glext_8h.html#78c5c8710130a1a634d6a81d52be8db8">length</a>, <span class="keyword">const</span> <a class="code" href="class_gr_color.html" title="class GrColor">GrColor</a>&amp; <a class="code" href="glext_8h.html#3ea846f998d64f079b86052b6c4193a8">color</a> )
<a name="l00449"></a>00449 {
<a name="l00451"></a>00451         <span class="keywordtype">float</span> halfLen = 0.5f * length;
<a name="l00452"></a>00452         <a class="code" href="class_m_vec3.html" title="class MVec3">MVec3</a> minExts( pos.<a class="code" href="class_m_vec3.html#8b834219441d8d65b3e4df28fe03f60f">GetX</a>() - halfLen, pos.<a class="code" href="class_m_vec3.html#dfadf4adb521222d91980376a7679dc8">GetY</a>() - halfLen, pos.<a class="code" href="class_m_vec3.html#8b29390479c105bbb9926188b9742329">GetZ</a>() - halfLen );
<a name="l00453"></a>00453         <a class="code" href="class_m_vec3.html" title="class MVec3">MVec3</a> maxExts( pos.<a class="code" href="class_m_vec3.html#8b834219441d8d65b3e4df28fe03f60f">GetX</a>() + halfLen, pos.<a class="code" href="class_m_vec3.html#dfadf4adb521222d91980376a7679dc8">GetY</a>() + halfLen, pos.<a class="code" href="class_m_vec3.html#8b29390479c105bbb9926188b9742329">GetZ</a>() + halfLen );
<a name="l00454"></a>00454         <a class="code" href="class_gr_render_util.html#8c4e206af04748afd131741ef7be632c">DrawColoredAABox</a>( minExts, maxExts, color );
<a name="l00455"></a>00455 }
<a name="l00456"></a>00456 
<a name="l00457"></a>00457 <span class="comment">//----------------------------------------------------------</span>
<a name="l00458"></a>00458 <span class="keywordtype">void</span>
<a name="l00459"></a><a class="code" href="class_gr_render_util.html#8c4e206af04748afd131741ef7be632c">00459</a> <a class="code" href="class_gr_render_util.html#8c4e206af04748afd131741ef7be632c">GrRenderUtil::DrawColoredAABox</a>( <span class="keyword">const</span> <a class="code" href="class_m_a_a_box.html" title="class MAABox">MAABox</a>&amp; aaBox, <span class="keyword">const</span> <a class="code" href="class_gr_color.html" title="class GrColor">GrColor</a>&amp; <a class="code" href="glext_8h.html#3ea846f998d64f079b86052b6c4193a8">color</a> )
<a name="l00460"></a>00460 {
<a name="l00462"></a>00462         <a class="code" href="class_gr_render_util.html#8c4e206af04748afd131741ef7be632c">DrawColoredAABox</a>( aaBox.<a class="code" href="class_m_a_a_box.html#a9fbd78524a8e1c00a165177b7cf888f">GetCenter</a>() - aaBox.<a class="code" href="class_m_a_a_box.html#9c4c37dd6c9bffdbe6926c5a4c60145c">GetHalfExts</a>(), aaBox.<a class="code" href="class_m_a_a_box.html#a9fbd78524a8e1c00a165177b7cf888f">GetCenter</a>() + aaBox.<a class="code" href="class_m_a_a_box.html#9c4c37dd6c9bffdbe6926c5a4c60145c">GetHalfExts</a>(),
<a name="l00463"></a>00463                 color );
<a name="l00464"></a>00464 }
<a name="l00465"></a>00465 
<a name="l00466"></a>00466 <span class="comment">//----------------------------------------------------------</span>
<a name="l00467"></a>00467 <span class="keywordtype">void</span>
<a name="l00468"></a><a class="code" href="class_gr_render_util.html#2393c582878b53d17b85ab809f44f15c">00468</a> <a class="code" href="class_gr_render_util.html#8c4e206af04748afd131741ef7be632c">GrRenderUtil::DrawColoredAABox</a>( <span class="keyword">const</span> <a class="code" href="class_m_vec3.html" title="class MVec3">MVec3</a>&amp; minExts, <span class="keyword">const</span> <a class="code" href="class_m_vec3.html" title="class MVec3">MVec3</a>&amp; maxExts, <span class="keyword">const</span> <a class="code" href="class_gr_color.html" title="class GrColor">GrColor</a>&amp; <a class="code" href="glext_8h.html#3ea846f998d64f079b86052b6c4193a8">color</a> )
<a name="l00469"></a>00469 {
<a name="l00471"></a>00471         <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> packedColor = 0;
<a name="l00472"></a>00472         color.<a class="code" href="class_gr_color.html#2ecf5448eba8df51f4138d693b88af82">PackToRGBA</a>( ( <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>* )&amp;packedColor );
<a name="l00473"></a>00473 
<a name="l00475"></a>00475         <a class="code" href="struct_s_color_vertex.html">SColorVertex</a> vertices[ 24 ];
<a name="l00476"></a>00476         <a class="code" href="struct_s_color_vertex.html">SColorVertex</a>* curVertex = vertices;
<a name="l00477"></a>00477 
<a name="l00479"></a>00479         <a class="code" href="struct_s_vec3.html" title="struct SVec3">SVec3</a>* curPosition = _colorVB-&gt;GetVertices();
<a name="l00480"></a>00480         <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span>* curColor = _colorVB-&gt;GetColors();
<a name="l00481"></a>00481 
<a name="l00484"></a>00484         curVertex-&gt;<a class="code" href="struct_s_color_vertex.html#0bfdb3a6284d5be8114d7fea1c830b60">position</a> = <a class="code" href="struct_s_vec3.html" title="struct SVec3">SVec3</a>( minExts.<a class="code" href="class_m_vec3.html#8b834219441d8d65b3e4df28fe03f60f">GetX</a>(), minExts.<a class="code" href="class_m_vec3.html#dfadf4adb521222d91980376a7679dc8">GetY</a>(), minExts.<a class="code" href="class_m_vec3.html#8b29390479c105bbb9926188b9742329">GetZ</a>() );
<a name="l00485"></a>00485         curVertex-&gt;<a class="code" href="struct_s_color_vertex.html#962359a8443bac073fa0e3e537101f88">color</a> = packedColor;
<a name="l00486"></a>00486         ++curVertex;
<a name="l00487"></a>00487         curVertex-&gt;<a class="code" href="struct_s_color_vertex.html#0bfdb3a6284d5be8114d7fea1c830b60">position</a> = <a class="code" href="struct_s_vec3.html" title="struct SVec3">SVec3</a>( maxExts.<a class="code" href="class_m_vec3.html#8b834219441d8d65b3e4df28fe03f60f">GetX</a>(), minExts.<a class="code" href="class_m_vec3.html#dfadf4adb521222d91980376a7679dc8">GetY</a>(), minExts.<a class="code" href="class_m_vec3.html#8b29390479c105bbb9926188b9742329">GetZ</a>() );
<a name="l00488"></a>00488         curVertex-&gt;<a class="code" href="struct_s_color_vertex.html#962359a8443bac073fa0e3e537101f88">color</a> = packedColor;
<a name="l00489"></a>00489         ++curVertex;
<a name="l00490"></a>00490         curVertex-&gt;<a class="code" href="struct_s_color_vertex.html#0bfdb3a6284d5be8114d7fea1c830b60">position</a> = <a class="code" href="struct_s_vec3.html" title="struct SVec3">SVec3</a>( maxExts.<a class="code" href="class_m_vec3.html#8b834219441d8d65b3e4df28fe03f60f">GetX</a>(), maxExts.<a class="code" href="class_m_vec3.html#dfadf4adb521222d91980376a7679dc8">GetY</a>(), minExts.<a class="code" href="class_m_vec3.html#8b29390479c105bbb9926188b9742329">GetZ</a>() );
<a name="l00491"></a>00491         curVertex-&gt;<a class="code" href="struct_s_color_vertex.html#962359a8443bac073fa0e3e537101f88">color</a> = packedColor;
<a name="l00492"></a>00492         ++curVertex;
<a name="l00493"></a>00493         curVertex-&gt;<a class="code" href="struct_s_color_vertex.html#0bfdb3a6284d5be8114d7fea1c830b60">position</a> = <a class="code" href="struct_s_vec3.html" title="struct SVec3">SVec3</a>( minExts.<a class="code" href="class_m_vec3.html#8b834219441d8d65b3e4df28fe03f60f">GetX</a>(), maxExts.<a class="code" href="class_m_vec3.html#dfadf4adb521222d91980376a7679dc8">GetY</a>(), minExts.<a class="code" href="class_m_vec3.html#8b29390479c105bbb9926188b9742329">GetZ</a>() );
<a name="l00494"></a>00494         curVertex-&gt;<a class="code" href="struct_s_color_vertex.html#962359a8443bac073fa0e3e537101f88">color</a> = packedColor;
<a name="l00495"></a>00495         ++curVertex;
<a name="l00496"></a>00496 
<a name="l00498"></a>00498         curVertex-&gt;<a class="code" href="struct_s_color_vertex.html#0bfdb3a6284d5be8114d7fea1c830b60">position</a> = <a class="code" href="struct_s_vec3.html" title="struct SVec3">SVec3</a>( maxExts.<a class="code" href="class_m_vec3.html#8b834219441d8d65b3e4df28fe03f60f">GetX</a>(), minExts.<a class="code" href="class_m_vec3.html#dfadf4adb521222d91980376a7679dc8">GetY</a>(), maxExts.<a class="code" href="class_m_vec3.html#8b29390479c105bbb9926188b9742329">GetZ</a>() );
<a name="l00499"></a>00499         curVertex-&gt;<a class="code" href="struct_s_color_vertex.html#962359a8443bac073fa0e3e537101f88">color</a> = packedColor;
<a name="l00500"></a>00500         ++curVertex;
<a name="l00501"></a>00501         curVertex-&gt;<a class="code" href="struct_s_color_vertex.html#0bfdb3a6284d5be8114d7fea1c830b60">position</a> = <a class="code" href="struct_s_vec3.html" title="struct SVec3">SVec3</a>( minExts.<a class="code" href="class_m_vec3.html#8b834219441d8d65b3e4df28fe03f60f">GetX</a>(), minExts.<a class="code" href="class_m_vec3.html#dfadf4adb521222d91980376a7679dc8">GetY</a>(), maxExts.<a class="code" href="class_m_vec3.html#8b29390479c105bbb9926188b9742329">GetZ</a>() );
<a name="l00502"></a>00502         curVertex-&gt;<a class="code" href="struct_s_color_vertex.html#962359a8443bac073fa0e3e537101f88">color</a> = packedColor;
<a name="l00503"></a>00503         ++curVertex;
<a name="l00504"></a>00504         curVertex-&gt;<a class="code" href="struct_s_color_vertex.html#0bfdb3a6284d5be8114d7fea1c830b60">position</a> = <a class="code" href="struct_s_vec3.html" title="struct SVec3">SVec3</a>( minExts.<a class="code" href="class_m_vec3.html#8b834219441d8d65b3e4df28fe03f60f">GetX</a>(), maxExts.<a class="code" href="class_m_vec3.html#dfadf4adb521222d91980376a7679dc8">GetY</a>(), maxExts.<a class="code" href="class_m_vec3.html#8b29390479c105bbb9926188b9742329">GetZ</a>() );
<a name="l00505"></a>00505         curVertex-&gt;<a class="code" href="struct_s_color_vertex.html#962359a8443bac073fa0e3e537101f88">color</a> = packedColor;
<a name="l00506"></a>00506         ++curVertex;
<a name="l00507"></a>00507         curVertex-&gt;<a class="code" href="struct_s_color_vertex.html#0bfdb3a6284d5be8114d7fea1c830b60">position</a> = <a class="code" href="struct_s_vec3.html" title="struct SVec3">SVec3</a>( maxExts.<a class="code" href="class_m_vec3.html#8b834219441d8d65b3e4df28fe03f60f">GetX</a>(), maxExts.<a class="code" href="class_m_vec3.html#dfadf4adb521222d91980376a7679dc8">GetY</a>(), maxExts.<a class="code" href="class_m_vec3.html#8b29390479c105bbb9926188b9742329">GetZ</a>() );
<a name="l00508"></a>00508         curVertex-&gt;<a class="code" href="struct_s_color_vertex.html#962359a8443bac073fa0e3e537101f88">color</a> = packedColor;
<a name="l00509"></a>00509         ++curVertex;
<a name="l00510"></a>00510 
<a name="l00512"></a>00512         curVertex-&gt;<a class="code" href="struct_s_color_vertex.html#0bfdb3a6284d5be8114d7fea1c830b60">position</a> = <a class="code" href="struct_s_vec3.html" title="struct SVec3">SVec3</a>( minExts.<a class="code" href="class_m_vec3.html#8b834219441d8d65b3e4df28fe03f60f">GetX</a>(), minExts.<a class="code" href="class_m_vec3.html#dfadf4adb521222d91980376a7679dc8">GetY</a>(), maxExts.<a class="code" href="class_m_vec3.html#8b29390479c105bbb9926188b9742329">GetZ</a>() );
<a name="l00513"></a>00513         curVertex-&gt;<a class="code" href="struct_s_color_vertex.html#962359a8443bac073fa0e3e537101f88">color</a> = packedColor;
<a name="l00514"></a>00514         ++curVertex;
<a name="l00515"></a>00515         curVertex-&gt;<a class="code" href="struct_s_color_vertex.html#0bfdb3a6284d5be8114d7fea1c830b60">position</a> = <a class="code" href="struct_s_vec3.html" title="struct SVec3">SVec3</a>( minExts.<a class="code" href="class_m_vec3.html#8b834219441d8d65b3e4df28fe03f60f">GetX</a>(), minExts.<a class="code" href="class_m_vec3.html#dfadf4adb521222d91980376a7679dc8">GetY</a>(), minExts.<a class="code" href="class_m_vec3.html#8b29390479c105bbb9926188b9742329">GetZ</a>() );
<a name="l00516"></a>00516         curVertex-&gt;<a class="code" href="struct_s_color_vertex.html#962359a8443bac073fa0e3e537101f88">color</a> = packedColor;
<a name="l00517"></a>00517         ++curVertex;
<a name="l00518"></a>00518         curVertex-&gt;<a class="code" href="struct_s_color_vertex.html#0bfdb3a6284d5be8114d7fea1c830b60">position</a> = <a class="code" href="struct_s_vec3.html" title="struct SVec3">SVec3</a>( maxExts.<a class="code" href="class_m_vec3.html#8b834219441d8d65b3e4df28fe03f60f">GetX</a>(), minExts.<a class="code" href="class_m_vec3.html#dfadf4adb521222d91980376a7679dc8">GetY</a>(), minExts.<a class="code" href="class_m_vec3.html#8b29390479c105bbb9926188b9742329">GetZ</a>() );
<a name="l00519"></a>00519         curVertex-&gt;<a class="code" href="struct_s_color_vertex.html#962359a8443bac073fa0e3e537101f88">color</a> = packedColor;
<a name="l00520"></a>00520         ++curVertex;
<a name="l00521"></a>00521         curVertex-&gt;<a class="code" href="struct_s_color_vertex.html#0bfdb3a6284d5be8114d7fea1c830b60">position</a> = <a class="code" href="struct_s_vec3.html" title="struct SVec3">SVec3</a>( maxExts.<a class="code" href="class_m_vec3.html#8b834219441d8d65b3e4df28fe03f60f">GetX</a>(), minExts.<a class="code" href="class_m_vec3.html#dfadf4adb521222d91980376a7679dc8">GetY</a>(), maxExts.<a class="code" href="class_m_vec3.html#8b29390479c105bbb9926188b9742329">GetZ</a>() );
<a name="l00522"></a>00522         curVertex-&gt;<a class="code" href="struct_s_color_vertex.html#962359a8443bac073fa0e3e537101f88">color</a> = packedColor;
<a name="l00523"></a>00523         ++curVertex;
<a name="l00524"></a>00524 
<a name="l00526"></a>00526         curVertex-&gt;<a class="code" href="struct_s_color_vertex.html#0bfdb3a6284d5be8114d7fea1c830b60">position</a> = <a class="code" href="struct_s_vec3.html" title="struct SVec3">SVec3</a>( maxExts.<a class="code" href="class_m_vec3.html#8b834219441d8d65b3e4df28fe03f60f">GetX</a>(), maxExts.<a class="code" href="class_m_vec3.html#dfadf4adb521222d91980376a7679dc8">GetY</a>(), maxExts.<a class="code" href="class_m_vec3.html#8b29390479c105bbb9926188b9742329">GetZ</a>() );
<a name="l00527"></a>00527         curVertex-&gt;<a class="code" href="struct_s_color_vertex.html#962359a8443bac073fa0e3e537101f88">color</a> = packedColor;
<a name="l00528"></a>00528         ++curVertex;
<a name="l00529"></a>00529         curVertex-&gt;<a class="code" href="struct_s_color_vertex.html#0bfdb3a6284d5be8114d7fea1c830b60">position</a> = <a class="code" href="struct_s_vec3.html" title="struct SVec3">SVec3</a>( maxExts.<a class="code" href="class_m_vec3.html#8b834219441d8d65b3e4df28fe03f60f">GetX</a>(), maxExts.<a class="code" href="class_m_vec3.html#dfadf4adb521222d91980376a7679dc8">GetY</a>(), minExts.<a class="code" href="class_m_vec3.html#8b29390479c105bbb9926188b9742329">GetZ</a>() );
<a name="l00530"></a>00530         curVertex-&gt;<a class="code" href="struct_s_color_vertex.html#962359a8443bac073fa0e3e537101f88">color</a> = packedColor;
<a name="l00531"></a>00531         ++curVertex;
<a name="l00532"></a>00532         curVertex-&gt;<a class="code" href="struct_s_color_vertex.html#0bfdb3a6284d5be8114d7fea1c830b60">position</a> = <a class="code" href="struct_s_vec3.html" title="struct SVec3">SVec3</a>( minExts.<a class="code" href="class_m_vec3.html#8b834219441d8d65b3e4df28fe03f60f">GetX</a>(), maxExts.<a class="code" href="class_m_vec3.html#dfadf4adb521222d91980376a7679dc8">GetY</a>(), minExts.<a class="code" href="class_m_vec3.html#8b29390479c105bbb9926188b9742329">GetZ</a>() );
<a name="l00533"></a>00533         curVertex-&gt;<a class="code" href="struct_s_color_vertex.html#962359a8443bac073fa0e3e537101f88">color</a> = packedColor;
<a name="l00534"></a>00534         ++curVertex;
<a name="l00535"></a>00535         curVertex-&gt;<a class="code" href="struct_s_color_vertex.html#0bfdb3a6284d5be8114d7fea1c830b60">position</a> = <a class="code" href="struct_s_vec3.html" title="struct SVec3">SVec3</a>( minExts.<a class="code" href="class_m_vec3.html#8b834219441d8d65b3e4df28fe03f60f">GetX</a>(), maxExts.<a class="code" href="class_m_vec3.html#dfadf4adb521222d91980376a7679dc8">GetY</a>(), maxExts.<a class="code" href="class_m_vec3.html#8b29390479c105bbb9926188b9742329">GetZ</a>() );
<a name="l00536"></a>00536         curVertex-&gt;<a class="code" href="struct_s_color_vertex.html#962359a8443bac073fa0e3e537101f88">color</a> = packedColor;
<a name="l00537"></a>00537         ++curVertex;
<a name="l00538"></a>00538 
<a name="l00540"></a>00540         curVertex-&gt;<a class="code" href="struct_s_color_vertex.html#0bfdb3a6284d5be8114d7fea1c830b60">position</a> = <a class="code" href="struct_s_vec3.html" title="struct SVec3">SVec3</a>( minExts.<a class="code" href="class_m_vec3.html#8b834219441d8d65b3e4df28fe03f60f">GetX</a>(), minExts.<a class="code" href="class_m_vec3.html#dfadf4adb521222d91980376a7679dc8">GetY</a>(), maxExts.<a class="code" href="class_m_vec3.html#8b29390479c105bbb9926188b9742329">GetZ</a>() );
<a name="l00541"></a>00541         curVertex-&gt;<a class="code" href="struct_s_color_vertex.html#962359a8443bac073fa0e3e537101f88">color</a> = packedColor;
<a name="l00542"></a>00542         ++curVertex;
<a name="l00543"></a>00543         curVertex-&gt;<a class="code" href="struct_s_color_vertex.html#0bfdb3a6284d5be8114d7fea1c830b60">position</a> = <a class="code" href="struct_s_vec3.html" title="struct SVec3">SVec3</a>( minExts.<a class="code" href="class_m_vec3.html#8b834219441d8d65b3e4df28fe03f60f">GetX</a>(), maxExts.<a class="code" href="class_m_vec3.html#dfadf4adb521222d91980376a7679dc8">GetY</a>(), maxExts.<a class="code" href="class_m_vec3.html#8b29390479c105bbb9926188b9742329">GetZ</a>() );
<a name="l00544"></a>00544         curVertex-&gt;<a class="code" href="struct_s_color_vertex.html#962359a8443bac073fa0e3e537101f88">color</a> = packedColor;
<a name="l00545"></a>00545         ++curVertex;
<a name="l00546"></a>00546         curVertex-&gt;<a class="code" href="struct_s_color_vertex.html#0bfdb3a6284d5be8114d7fea1c830b60">position</a> = <a class="code" href="struct_s_vec3.html" title="struct SVec3">SVec3</a>( minExts.<a class="code" href="class_m_vec3.html#8b834219441d8d65b3e4df28fe03f60f">GetX</a>(), maxExts.<a class="code" href="class_m_vec3.html#dfadf4adb521222d91980376a7679dc8">GetY</a>(), minExts.<a class="code" href="class_m_vec3.html#8b29390479c105bbb9926188b9742329">GetZ</a>() );
<a name="l00547"></a>00547         curVertex-&gt;<a class="code" href="struct_s_color_vertex.html#962359a8443bac073fa0e3e537101f88">color</a> = packedColor;
<a name="l00548"></a>00548         ++curVertex;
<a name="l00549"></a>00549         curVertex-&gt;<a class="code" href="struct_s_color_vertex.html#0bfdb3a6284d5be8114d7fea1c830b60">position</a> = <a class="code" href="struct_s_vec3.html" title="struct SVec3">SVec3</a>( minExts.<a class="code" href="class_m_vec3.html#8b834219441d8d65b3e4df28fe03f60f">GetX</a>(), minExts.<a class="code" href="class_m_vec3.html#dfadf4adb521222d91980376a7679dc8">GetY</a>(), minExts.<a class="code" href="class_m_vec3.html#8b29390479c105bbb9926188b9742329">GetZ</a>() );
<a name="l00550"></a>00550         curVertex-&gt;<a class="code" href="struct_s_color_vertex.html#962359a8443bac073fa0e3e537101f88">color</a> = packedColor;
<a name="l00551"></a>00551         ++curVertex;
<a name="l00552"></a>00552 
<a name="l00554"></a>00554         curVertex-&gt;<a class="code" href="struct_s_color_vertex.html#0bfdb3a6284d5be8114d7fea1c830b60">position</a> = <a class="code" href="struct_s_vec3.html" title="struct SVec3">SVec3</a>( maxExts.<a class="code" href="class_m_vec3.html#8b834219441d8d65b3e4df28fe03f60f">GetX</a>(), maxExts.<a class="code" href="class_m_vec3.html#dfadf4adb521222d91980376a7679dc8">GetY</a>(), maxExts.<a class="code" href="class_m_vec3.html#8b29390479c105bbb9926188b9742329">GetZ</a>() );
<a name="l00555"></a>00555         curVertex-&gt;<a class="code" href="struct_s_color_vertex.html#962359a8443bac073fa0e3e537101f88">color</a> = packedColor;
<a name="l00556"></a>00556         ++curVertex;
<a name="l00557"></a>00557         curVertex-&gt;<a class="code" href="struct_s_color_vertex.html#0bfdb3a6284d5be8114d7fea1c830b60">position</a> = <a class="code" href="struct_s_vec3.html" title="struct SVec3">SVec3</a>( maxExts.<a class="code" href="class_m_vec3.html#8b834219441d8d65b3e4df28fe03f60f">GetX</a>(), minExts.<a class="code" href="class_m_vec3.html#dfadf4adb521222d91980376a7679dc8">GetY</a>(), maxExts.<a class="code" href="class_m_vec3.html#8b29390479c105bbb9926188b9742329">GetZ</a>() );
<a name="l00558"></a>00558         curVertex-&gt;<a class="code" href="struct_s_color_vertex.html#962359a8443bac073fa0e3e537101f88">color</a> = packedColor;
<a name="l00559"></a>00559         ++curVertex;
<a name="l00560"></a>00560         curVertex-&gt;<a class="code" href="struct_s_color_vertex.html#0bfdb3a6284d5be8114d7fea1c830b60">position</a> = <a class="code" href="struct_s_vec3.html" title="struct SVec3">SVec3</a>( maxExts.<a class="code" href="class_m_vec3.html#8b834219441d8d65b3e4df28fe03f60f">GetX</a>(), minExts.<a class="code" href="class_m_vec3.html#dfadf4adb521222d91980376a7679dc8">GetY</a>(), minExts.<a class="code" href="class_m_vec3.html#8b29390479c105bbb9926188b9742329">GetZ</a>() );
<a name="l00561"></a>00561         curVertex-&gt;<a class="code" href="struct_s_color_vertex.html#962359a8443bac073fa0e3e537101f88">color</a> = packedColor;
<a name="l00562"></a>00562         ++curVertex;
<a name="l00563"></a>00563         curVertex-&gt;<a class="code" href="struct_s_color_vertex.html#0bfdb3a6284d5be8114d7fea1c830b60">position</a> = <a class="code" href="struct_s_vec3.html" title="struct SVec3">SVec3</a>( maxExts.<a class="code" href="class_m_vec3.html#8b834219441d8d65b3e4df28fe03f60f">GetX</a>(), maxExts.<a class="code" href="class_m_vec3.html#dfadf4adb521222d91980376a7679dc8">GetY</a>(), minExts.<a class="code" href="class_m_vec3.html#8b29390479c105bbb9926188b9742329">GetZ</a>() );
<a name="l00564"></a>00564         curVertex-&gt;<a class="code" href="struct_s_color_vertex.html#962359a8443bac073fa0e3e537101f88">color</a> = packedColor;
<a name="l00565"></a>00565         ++curVertex;
<a name="l00566"></a>00566 
<a name="l00568"></a>00568         _colorVB-&gt;UploadUncached( 0, vertices, <span class="keyword">sizeof</span>( vertices ) );
<a name="l00569"></a>00569 
<a name="l00571"></a>00571         _colorVB-&gt;Bind( <a class="code" href="_gr_config_8h.html#2edd88842519480ffc74005f8219c83d" title="engine driven shader attribute enable flags.">GR_ATTRIB_POSITION_MASK</a> | <a class="code" href="_gr_config_8h.html#8bf9bfc6d234029203d9fc6e1bc50225">GR_ATTRIB_COLOR_MASK</a> );
<a name="l00572"></a>00572 
<a name="l00574"></a>00574         <a class="code" href="_gr_util_8cpp.html#b5f8140bc16ae7aad41126040955971b">GrDrawArrays</a>( <a class="code" href="_gr_util_8h.html#b3e9826637cd9ac6566bdd76e9fce14500373ffe678f25c35c1503d614ca8e53">EPT_QUADS</a>, 0, 24 );
<a name="l00575"></a>00575 }
<a name="l00576"></a>00576 
<a name="l00577"></a>00577 <span class="comment">//----------------------------------------------------------</span>
<a name="l00578"></a>00578 <span class="keywordtype">void</span>
<a name="l00579"></a><a class="code" href="class_gr_render_util.html#5cd3a6ac45a9d948b093495641d907dd">00579</a> <a class="code" href="class_gr_render_util.html#5cd3a6ac45a9d948b093495641d907dd">GrRenderUtil::DrawColoredOBox</a>( <span class="keyword">const</span> <a class="code" href="class_m_mat4x4.html" title="class MMat4x4">MMat4x4</a>&amp; <a class="code" href="glext_8h.html#07993c0d92c1aeeb357ba0495c8b5325">transform</a>, <span class="keyword">const</span> <a class="code" href="class_m_vec3.html" title="class MVec3">MVec3</a>&amp; halfExtents, <span class="keyword">const</span> <a class="code" href="class_gr_color.html" title="class GrColor">GrColor</a>&amp; <a class="code" href="glext_8h.html#3ea846f998d64f079b86052b6c4193a8">color</a> )
<a name="l00580"></a>00580 {
<a name="l00582"></a>00582     <a class="code" href="class_m_o_box.html" title="Purpose: To manage an oriented bounding box.">MOBox</a> box( transform, halfExtents );
<a name="l00583"></a>00583     <a class="code" href="class_m_vec3.html" title="class MVec3">MVec3</a> corners[8];
<a name="l00584"></a>00584     box.<a class="code" href="class_m_o_box.html#d4ab62fb0cb55df4774b656c8c99e51f" title="returns (8) world space corners.">GetCorners</a>( corners );
<a name="l00585"></a>00585 
<a name="l00586"></a>00586     <a class="code" href="class_m_vec3.html" title="class MVec3">MVec3</a> leftBottomNear  = corners[0];
<a name="l00587"></a>00587     <a class="code" href="class_m_vec3.html" title="class MVec3">MVec3</a> leftBottomFar   = corners[1];
<a name="l00588"></a>00588     <a class="code" href="class_m_vec3.html" title="class MVec3">MVec3</a> leftTopNear     = corners[2];
<a name="l00589"></a>00589     <a class="code" href="class_m_vec3.html" title="class MVec3">MVec3</a> leftTopFar      = corners[3];
<a name="l00590"></a>00590     <a class="code" href="class_m_vec3.html" title="class MVec3">MVec3</a> rightBottomNear = corners[4];
<a name="l00591"></a>00591     <a class="code" href="class_m_vec3.html" title="class MVec3">MVec3</a> rightBottomFar  = corners[5];
<a name="l00592"></a>00592     <a class="code" href="class_m_vec3.html" title="class MVec3">MVec3</a> rightTopNear    = corners[6];
<a name="l00593"></a>00593     <a class="code" href="class_m_vec3.html" title="class MVec3">MVec3</a> rightTopFar     = corners[7];
<a name="l00594"></a>00594 
<a name="l00596"></a>00596         <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> packedColor = 0;
<a name="l00597"></a>00597         color.<a class="code" href="class_gr_color.html#2ecf5448eba8df51f4138d693b88af82">PackToRGBA</a>( ( <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>* )&amp;packedColor );
<a name="l00598"></a>00598 
<a name="l00600"></a>00600         <a class="code" href="struct_s_vec3.html" title="struct SVec3">SVec3</a>* curPosition = _colorVB-&gt;GetVertices();
<a name="l00601"></a>00601         <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span>* curColor = _colorVB-&gt;GetColors();
<a name="l00602"></a>00602 
<a name="l00604"></a>00604         *curColor++ = packedColor;
<a name="l00605"></a>00605         *curColor++ = packedColor;
<a name="l00606"></a>00606         *curColor++ = packedColor;
<a name="l00607"></a>00607         *curColor++ = packedColor;
<a name="l00608"></a>00608     *curPosition++ = <a class="code" href="struct_s_vec3.html" title="struct SVec3">SVec3</a>( leftBottomNear.<a class="code" href="class_m_vec3.html#8b834219441d8d65b3e4df28fe03f60f">GetX</a>(), leftBottomNear.<a class="code" href="class_m_vec3.html#dfadf4adb521222d91980376a7679dc8">GetY</a>(), leftBottomNear.<a class="code" href="class_m_vec3.html#8b29390479c105bbb9926188b9742329">GetZ</a>() );
<a name="l00609"></a>00609     *curPosition++ = <a class="code" href="struct_s_vec3.html" title="struct SVec3">SVec3</a>( leftTopNear.<a class="code" href="class_m_vec3.html#8b834219441d8d65b3e4df28fe03f60f">GetX</a>(), leftTopNear.<a class="code" href="class_m_vec3.html#dfadf4adb521222d91980376a7679dc8">GetY</a>(), leftTopNear.<a class="code" href="class_m_vec3.html#8b29390479c105bbb9926188b9742329">GetZ</a>() );
<a name="l00610"></a>00610     *curPosition++ = <a class="code" href="struct_s_vec3.html" title="struct SVec3">SVec3</a>( rightTopNear.<a class="code" href="class_m_vec3.html#8b834219441d8d65b3e4df28fe03f60f">GetX</a>(), rightTopNear.<a class="code" href="class_m_vec3.html#dfadf4adb521222d91980376a7679dc8">GetY</a>(), rightTopNear.<a class="code" href="class_m_vec3.html#8b29390479c105bbb9926188b9742329">GetZ</a>() );
<a name="l00611"></a>00611     *curPosition++ = <a class="code" href="struct_s_vec3.html" title="struct SVec3">SVec3</a>( rightBottomNear.<a class="code" href="class_m_vec3.html#8b834219441d8d65b3e4df28fe03f60f">GetX</a>(), rightBottomNear.<a class="code" href="class_m_vec3.html#dfadf4adb521222d91980376a7679dc8">GetY</a>(), rightBottomNear.<a class="code" href="class_m_vec3.html#8b29390479c105bbb9926188b9742329">GetZ</a>() );
<a name="l00612"></a>00612 
<a name="l00614"></a>00614         *curColor++ = packedColor;
<a name="l00615"></a>00615         *curColor++ = packedColor;
<a name="l00616"></a>00616         *curColor++ = packedColor;
<a name="l00617"></a>00617         *curColor++ = packedColor;
<a name="l00618"></a>00618     *curPosition++ = <a class="code" href="struct_s_vec3.html" title="struct SVec3">SVec3</a>( rightBottomNear.<a class="code" href="class_m_vec3.html#8b834219441d8d65b3e4df28fe03f60f">GetX</a>(), rightBottomNear.<a class="code" href="class_m_vec3.html#dfadf4adb521222d91980376a7679dc8">GetY</a>(), rightBottomNear.<a class="code" href="class_m_vec3.html#8b29390479c105bbb9926188b9742329">GetZ</a>() );
<a name="l00619"></a>00619     *curPosition++ = <a class="code" href="struct_s_vec3.html" title="struct SVec3">SVec3</a>( rightTopNear.<a class="code" href="class_m_vec3.html#8b834219441d8d65b3e4df28fe03f60f">GetX</a>(), rightTopNear.<a class="code" href="class_m_vec3.html#dfadf4adb521222d91980376a7679dc8">GetY</a>(), rightTopNear.<a class="code" href="class_m_vec3.html#8b29390479c105bbb9926188b9742329">GetZ</a>() );
<a name="l00620"></a>00620     *curPosition++ = <a class="code" href="struct_s_vec3.html" title="struct SVec3">SVec3</a>( leftTopNear.<a class="code" href="class_m_vec3.html#8b834219441d8d65b3e4df28fe03f60f">GetX</a>(), leftTopNear.<a class="code" href="class_m_vec3.html#dfadf4adb521222d91980376a7679dc8">GetY</a>(), leftTopNear.<a class="code" href="class_m_vec3.html#8b29390479c105bbb9926188b9742329">GetZ</a>() );
<a name="l00621"></a>00621     *curPosition++ = <a class="code" href="struct_s_vec3.html" title="struct SVec3">SVec3</a>( leftBottomNear.<a class="code" href="class_m_vec3.html#8b834219441d8d65b3e4df28fe03f60f">GetX</a>(), leftBottomNear.<a class="code" href="class_m_vec3.html#dfadf4adb521222d91980376a7679dc8">GetY</a>(), leftBottomNear.<a class="code" href="class_m_vec3.html#8b29390479c105bbb9926188b9742329">GetZ</a>() );
<a name="l00622"></a>00622 
<a name="l00624"></a>00624         *curColor++ = packedColor;
<a name="l00625"></a>00625         *curColor++ = packedColor;
<a name="l00626"></a>00626         *curColor++ = packedColor;
<a name="l00627"></a>00627         *curColor++ = packedColor;
<a name="l00628"></a>00628     *curPosition++ = <a class="code" href="struct_s_vec3.html" title="struct SVec3">SVec3</a>( leftBottomNear.<a class="code" href="class_m_vec3.html#8b834219441d8d65b3e4df28fe03f60f">GetX</a>(), leftBottomNear.<a class="code" href="class_m_vec3.html#dfadf4adb521222d91980376a7679dc8">GetY</a>(), leftBottomNear.<a class="code" href="class_m_vec3.html#8b29390479c105bbb9926188b9742329">GetZ</a>() );
<a name="l00629"></a>00629     *curPosition++ = <a class="code" href="struct_s_vec3.html" title="struct SVec3">SVec3</a>( leftBottomFar.<a class="code" href="class_m_vec3.html#8b834219441d8d65b3e4df28fe03f60f">GetX</a>(), leftBottomFar.<a class="code" href="class_m_vec3.html#dfadf4adb521222d91980376a7679dc8">GetY</a>(), leftBottomFar.<a class="code" href="class_m_vec3.html#8b29390479c105bbb9926188b9742329">GetZ</a>() );
<a name="l00630"></a>00630     *curPosition++ = <a class="code" href="struct_s_vec3.html" title="struct SVec3">SVec3</a>( rightBottomFar.<a class="code" href="class_m_vec3.html#8b834219441d8d65b3e4df28fe03f60f">GetX</a>(), rightBottomFar.<a class="code" href="class_m_vec3.html#dfadf4adb521222d91980376a7679dc8">GetY</a>(), rightBottomFar.<a class="code" href="class_m_vec3.html#8b29390479c105bbb9926188b9742329">GetZ</a>() );
<a name="l00631"></a>00631     *curPosition++ = <a class="code" href="struct_s_vec3.html" title="struct SVec3">SVec3</a>( rightBottomNear.<a class="code" href="class_m_vec3.html#8b834219441d8d65b3e4df28fe03f60f">GetX</a>(), rightBottomNear.<a class="code" href="class_m_vec3.html#dfadf4adb521222d91980376a7679dc8">GetY</a>(), rightBottomNear.<a class="code" href="class_m_vec3.html#8b29390479c105bbb9926188b9742329">GetZ</a>() );
<a name="l00632"></a>00632 
<a name="l00634"></a>00634         *curColor++ = packedColor;
<a name="l00635"></a>00635         *curColor++ = packedColor;
<a name="l00636"></a>00636         *curColor++ = packedColor;
<a name="l00637"></a>00637         *curColor++ = packedColor;
<a name="l00638"></a>00638     *curPosition++ = <a class="code" href="struct_s_vec3.html" title="struct SVec3">SVec3</a>( leftTopNear.<a class="code" href="class_m_vec3.html#8b834219441d8d65b3e4df28fe03f60f">GetX</a>(), leftTopNear.<a class="code" href="class_m_vec3.html#dfadf4adb521222d91980376a7679dc8">GetY</a>(), leftTopNear.<a class="code" href="class_m_vec3.html#8b29390479c105bbb9926188b9742329">GetZ</a>() );
<a name="l00639"></a>00639     *curPosition++ = <a class="code" href="struct_s_vec3.html" title="struct SVec3">SVec3</a>( leftTopFar.<a class="code" href="class_m_vec3.html#8b834219441d8d65b3e4df28fe03f60f">GetX</a>(), leftTopFar.<a class="code" href="class_m_vec3.html#dfadf4adb521222d91980376a7679dc8">GetY</a>(), leftTopFar.<a class="code" href="class_m_vec3.html#8b29390479c105bbb9926188b9742329">GetZ</a>() );
<a name="l00640"></a>00640     *curPosition++ = <a class="code" href="struct_s_vec3.html" title="struct SVec3">SVec3</a>( rightTopFar.<a class="code" href="class_m_vec3.html#8b834219441d8d65b3e4df28fe03f60f">GetX</a>(), rightTopFar.<a class="code" href="class_m_vec3.html#dfadf4adb521222d91980376a7679dc8">GetY</a>(), rightTopFar.<a class="code" href="class_m_vec3.html#8b29390479c105bbb9926188b9742329">GetZ</a>() );
<a name="l00641"></a>00641     *curPosition++ = <a class="code" href="struct_s_vec3.html" title="struct SVec3">SVec3</a>( rightTopNear.<a class="code" href="class_m_vec3.html#8b834219441d8d65b3e4df28fe03f60f">GetX</a>(), rightTopNear.<a class="code" href="class_m_vec3.html#dfadf4adb521222d91980376a7679dc8">GetY</a>(), rightTopNear.<a class="code" href="class_m_vec3.html#8b29390479c105bbb9926188b9742329">GetZ</a>() );
<a name="l00642"></a>00642 
<a name="l00644"></a>00644         *curColor++ = packedColor;
<a name="l00645"></a>00645         *curColor++ = packedColor;
<a name="l00646"></a>00646         *curColor++ = packedColor;
<a name="l00647"></a>00647         *curColor++ = packedColor;
<a name="l00648"></a>00648     *curPosition++ = <a class="code" href="struct_s_vec3.html" title="struct SVec3">SVec3</a>( leftBottomNear.<a class="code" href="class_m_vec3.html#8b834219441d8d65b3e4df28fe03f60f">GetX</a>(), leftBottomNear.<a class="code" href="class_m_vec3.html#dfadf4adb521222d91980376a7679dc8">GetY</a>(), leftBottomNear.<a class="code" href="class_m_vec3.html#8b29390479c105bbb9926188b9742329">GetZ</a>() );
<a name="l00649"></a>00649     *curPosition++ = <a class="code" href="struct_s_vec3.html" title="struct SVec3">SVec3</a>( leftTopNear.<a class="code" href="class_m_vec3.html#8b834219441d8d65b3e4df28fe03f60f">GetX</a>(), leftTopNear.<a class="code" href="class_m_vec3.html#dfadf4adb521222d91980376a7679dc8">GetY</a>(), leftTopNear.<a class="code" href="class_m_vec3.html#8b29390479c105bbb9926188b9742329">GetZ</a>() );
<a name="l00650"></a>00650     *curPosition++ = <a class="code" href="struct_s_vec3.html" title="struct SVec3">SVec3</a>( leftTopFar.<a class="code" href="class_m_vec3.html#8b834219441d8d65b3e4df28fe03f60f">GetX</a>(), leftTopFar.<a class="code" href="class_m_vec3.html#dfadf4adb521222d91980376a7679dc8">GetY</a>(), leftTopFar.<a class="code" href="class_m_vec3.html#8b29390479c105bbb9926188b9742329">GetZ</a>() );
<a name="l00651"></a>00651     *curPosition++ = <a class="code" href="struct_s_vec3.html" title="struct SVec3">SVec3</a>( leftBottomFar.<a class="code" href="class_m_vec3.html#8b834219441d8d65b3e4df28fe03f60f">GetX</a>(), leftBottomFar.<a class="code" href="class_m_vec3.html#dfadf4adb521222d91980376a7679dc8">GetY</a>(), leftBottomFar.<a class="code" href="class_m_vec3.html#8b29390479c105bbb9926188b9742329">GetZ</a>() );
<a name="l00652"></a>00652 
<a name="l00654"></a>00654         *curColor++ = packedColor;
<a name="l00655"></a>00655         *curColor++ = packedColor;
<a name="l00656"></a>00656         *curColor++ = packedColor;
<a name="l00657"></a>00657         *curColor++ = packedColor;
<a name="l00658"></a>00658     *curPosition++ = <a class="code" href="struct_s_vec3.html" title="struct SVec3">SVec3</a>( rightBottomNear.<a class="code" href="class_m_vec3.html#8b834219441d8d65b3e4df28fe03f60f">GetX</a>(), rightBottomNear.<a class="code" href="class_m_vec3.html#dfadf4adb521222d91980376a7679dc8">GetY</a>(), rightBottomNear.<a class="code" href="class_m_vec3.html#8b29390479c105bbb9926188b9742329">GetZ</a>() );
<a name="l00659"></a>00659     *curPosition++ = <a class="code" href="struct_s_vec3.html" title="struct SVec3">SVec3</a>( rightBottomFar.<a class="code" href="class_m_vec3.html#8b834219441d8d65b3e4df28fe03f60f">GetX</a>(), rightBottomFar.<a class="code" href="class_m_vec3.html#dfadf4adb521222d91980376a7679dc8">GetY</a>(), rightBottomFar.<a class="code" href="class_m_vec3.html#8b29390479c105bbb9926188b9742329">GetZ</a>() );
<a name="l00660"></a>00660     *curPosition++ = <a class="code" href="struct_s_vec3.html" title="struct SVec3">SVec3</a>( rightTopFar.<a class="code" href="class_m_vec3.html#8b834219441d8d65b3e4df28fe03f60f">GetX</a>(), rightTopFar.<a class="code" href="class_m_vec3.html#dfadf4adb521222d91980376a7679dc8">GetY</a>(), rightTopFar.<a class="code" href="class_m_vec3.html#8b29390479c105bbb9926188b9742329">GetZ</a>() );
<a name="l00661"></a>00661     *curPosition++ = <a class="code" href="struct_s_vec3.html" title="struct SVec3">SVec3</a>( rightTopNear.<a class="code" href="class_m_vec3.html#8b834219441d8d65b3e4df28fe03f60f">GetX</a>(), rightTopNear.<a class="code" href="class_m_vec3.html#dfadf4adb521222d91980376a7679dc8">GetY</a>(), rightTopNear.<a class="code" href="class_m_vec3.html#8b29390479c105bbb9926188b9742329">GetZ</a>() );
<a name="l00662"></a>00662 
<a name="l00664"></a>00664         _colorVB-&gt;MarkAsDirty( <a class="code" href="_gr_config_8h.html#2edd88842519480ffc74005f8219c83d" title="engine driven shader attribute enable flags.">GR_ATTRIB_POSITION_MASK</a> | <a class="code" href="_gr_config_8h.html#8bf9bfc6d234029203d9fc6e1bc50225">GR_ATTRIB_COLOR_MASK</a> );
<a name="l00665"></a>00665 
<a name="l00667"></a>00667         _colorVB-&gt;Bind( <a class="code" href="_gr_config_8h.html#2edd88842519480ffc74005f8219c83d" title="engine driven shader attribute enable flags.">GR_ATTRIB_POSITION_MASK</a> | <a class="code" href="_gr_config_8h.html#8bf9bfc6d234029203d9fc6e1bc50225">GR_ATTRIB_COLOR_MASK</a> );
<a name="l00668"></a>00668 
<a name="l00670"></a>00670         <a class="code" href="_gr_util_8cpp.html#b5f8140bc16ae7aad41126040955971b">GrDrawArrays</a>( <a class="code" href="_gr_util_8h.html#b3e9826637cd9ac6566bdd76e9fce14500373ffe678f25c35c1503d614ca8e53">EPT_QUADS</a>, 0, 24 );
<a name="l00671"></a>00671 }
<a name="l00672"></a>00672 
<a name="l00673"></a>00673 <span class="comment">//----------------------------------------------------------</span>
<a name="l00674"></a>00674 <span class="keywordtype">void</span>
<a name="l00675"></a><a class="code" href="class_gr_render_util.html#ed7cf8334d73eb87da59905af527b2bb">00675</a> <a class="code" href="class_gr_render_util.html#ed7cf8334d73eb87da59905af527b2bb" title="draws a frustum.">GrRenderUtil::DrawColoredFrustum</a>( <span class="keyword">const</span> <a class="code" href="class_gr_frustum.html" title="class GrFrustum">GrFrustum</a>&amp; frustum, <span class="keyword">const</span> <a class="code" href="class_gr_color.html" title="class GrColor">GrColor</a>&amp; <a class="code" href="glext_8h.html#3ea846f998d64f079b86052b6c4193a8">color</a> )
<a name="l00676"></a>00676 {
<a name="l00677"></a>00677     <a class="code" href="class_m_vec3.html" title="class MVec3">MVec3</a> leftBottomNear  = frustum.<a class="code" href="class_gr_frustum.html#6c22fff9cd8287371cdf66a087d04ce9">GetNearBottomLeft</a>();
<a name="l00678"></a>00678     <a class="code" href="class_m_vec3.html" title="class MVec3">MVec3</a> leftBottomFar   = frustum.<a class="code" href="class_gr_frustum.html#397c8f3652cf399e6fd086fcf4e679fd" title="accessors.">GetFarBottomLeft</a>();
<a name="l00679"></a>00679     <a class="code" href="class_m_vec3.html" title="class MVec3">MVec3</a> leftTopNear     = frustum.<a class="code" href="class_gr_frustum.html#5fc3092ebbcba98ef8d5e0c727d529e4">GetNearTopLeft</a>();
<a name="l00680"></a>00680     <a class="code" href="class_m_vec3.html" title="class MVec3">MVec3</a> leftTopFar      = frustum.<a class="code" href="class_gr_frustum.html#5cf3f35a1eddcde0f8f5386ed40c641f">GetFarTopLeft</a>();
<a name="l00681"></a>00681     <a class="code" href="class_m_vec3.html" title="class MVec3">MVec3</a> rightBottomNear = frustum.<a class="code" href="class_gr_frustum.html#7cfe947d96c2d3fe483ef2b45535e246">GetNearBottomRight</a>();
<a name="l00682"></a>00682     <a class="code" href="class_m_vec3.html" title="class MVec3">MVec3</a> rightBottomFar  = frustum.<a class="code" href="class_gr_frustum.html#5aab839f4efc785026daf9c7c53284a0">GetFarBottomRight</a>();
<a name="l00683"></a>00683     <a class="code" href="class_m_vec3.html" title="class MVec3">MVec3</a> rightTopNear    = frustum.<a class="code" href="class_gr_frustum.html#199f18b22800f33724f6df2c69e489a9">GetNearTopRight</a>();
<a name="l00684"></a>00684     <a class="code" href="class_m_vec3.html" title="class MVec3">MVec3</a> rightTopFar     = frustum.<a class="code" href="class_gr_frustum.html#6501233fcb7db5d06b3ec22befa4fbdb">GetFarTopRight</a>();
<a name="l00685"></a>00685 
<a name="l00687"></a>00687         <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> packedColor = 0;
<a name="l00688"></a>00688         color.<a class="code" href="class_gr_color.html#2ecf5448eba8df51f4138d693b88af82">PackToRGBA</a>( ( <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>* )&amp;packedColor );
<a name="l00689"></a>00689 
<a name="l00691"></a>00691         <a class="code" href="struct_s_vec3.html" title="struct SVec3">SVec3</a>* curPosition = _colorVB-&gt;GetVertices();
<a name="l00692"></a>00692         <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span>* curColor = _colorVB-&gt;GetColors();
<a name="l00693"></a>00693 
<a name="l00695"></a>00695         *curColor++ = packedColor;
<a name="l00696"></a>00696         *curColor++ = packedColor;
<a name="l00697"></a>00697         *curColor++ = packedColor;
<a name="l00698"></a>00698         *curColor++ = packedColor;
<a name="l00699"></a>00699     *curPosition++ = <a class="code" href="struct_s_vec3.html" title="struct SVec3">SVec3</a>( rightBottomNear.<a class="code" href="class_m_vec3.html#8b834219441d8d65b3e4df28fe03f60f">GetX</a>(), rightBottomNear.<a class="code" href="class_m_vec3.html#dfadf4adb521222d91980376a7679dc8">GetY</a>(), rightBottomNear.<a class="code" href="class_m_vec3.html#8b29390479c105bbb9926188b9742329">GetZ</a>() );
<a name="l00700"></a>00700     *curPosition++ = <a class="code" href="struct_s_vec3.html" title="struct SVec3">SVec3</a>( leftBottomNear.<a class="code" href="class_m_vec3.html#8b834219441d8d65b3e4df28fe03f60f">GetX</a>(), leftBottomNear.<a class="code" href="class_m_vec3.html#dfadf4adb521222d91980376a7679dc8">GetY</a>(), leftBottomNear.<a class="code" href="class_m_vec3.html#8b29390479c105bbb9926188b9742329">GetZ</a>() );
<a name="l00701"></a>00701     *curPosition++ = <a class="code" href="struct_s_vec3.html" title="struct SVec3">SVec3</a>( leftTopNear.<a class="code" href="class_m_vec3.html#8b834219441d8d65b3e4df28fe03f60f">GetX</a>(), leftTopNear.<a class="code" href="class_m_vec3.html#dfadf4adb521222d91980376a7679dc8">GetY</a>(), leftTopNear.<a class="code" href="class_m_vec3.html#8b29390479c105bbb9926188b9742329">GetZ</a>() );
<a name="l00702"></a>00702     *curPosition++ = <a class="code" href="struct_s_vec3.html" title="struct SVec3">SVec3</a>( rightTopNear.<a class="code" href="class_m_vec3.html#8b834219441d8d65b3e4df28fe03f60f">GetX</a>(), rightTopNear.<a class="code" href="class_m_vec3.html#dfadf4adb521222d91980376a7679dc8">GetY</a>(), rightTopNear.<a class="code" href="class_m_vec3.html#8b29390479c105bbb9926188b9742329">GetZ</a>() );
<a name="l00703"></a>00703 
<a name="l00705"></a>00705         *curColor++ = packedColor;
<a name="l00706"></a>00706         *curColor++ = packedColor;
<a name="l00707"></a>00707         *curColor++ = packedColor;
<a name="l00708"></a>00708         *curColor++ = packedColor;
<a name="l00709"></a>00709     *curPosition++ = <a class="code" href="struct_s_vec3.html" title="struct SVec3">SVec3</a>( leftBottomNear.<a class="code" href="class_m_vec3.html#8b834219441d8d65b3e4df28fe03f60f">GetX</a>(), leftBottomNear.<a class="code" href="class_m_vec3.html#dfadf4adb521222d91980376a7679dc8">GetY</a>(), leftBottomNear.<a class="code" href="class_m_vec3.html#8b29390479c105bbb9926188b9742329">GetZ</a>() );
<a name="l00710"></a>00710     *curPosition++ = <a class="code" href="struct_s_vec3.html" title="struct SVec3">SVec3</a>( rightBottomNear.<a class="code" href="class_m_vec3.html#8b834219441d8d65b3e4df28fe03f60f">GetX</a>(), rightBottomNear.<a class="code" href="class_m_vec3.html#dfadf4adb521222d91980376a7679dc8">GetY</a>(), rightBottomNear.<a class="code" href="class_m_vec3.html#8b29390479c105bbb9926188b9742329">GetZ</a>() );
<a name="l00711"></a>00711     *curPosition++ = <a class="code" href="struct_s_vec3.html" title="struct SVec3">SVec3</a>( rightTopNear.<a class="code" href="class_m_vec3.html#8b834219441d8d65b3e4df28fe03f60f">GetX</a>(), rightTopNear.<a class="code" href="class_m_vec3.html#dfadf4adb521222d91980376a7679dc8">GetY</a>(), rightTopNear.<a class="code" href="class_m_vec3.html#8b29390479c105bbb9926188b9742329">GetZ</a>() );
<a name="l00712"></a>00712     *curPosition++ = <a class="code" href="struct_s_vec3.html" title="struct SVec3">SVec3</a>( leftTopNear.<a class="code" href="class_m_vec3.html#8b834219441d8d65b3e4df28fe03f60f">GetX</a>(), leftTopNear.<a class="code" href="class_m_vec3.html#dfadf4adb521222d91980376a7679dc8">GetY</a>(), leftTopNear.<a class="code" href="class_m_vec3.html#8b29390479c105bbb9926188b9742329">GetZ</a>() );
<a name="l00713"></a>00713 
<a name="l00715"></a>00715         *curColor++ = packedColor;
<a name="l00716"></a>00716         *curColor++ = packedColor;
<a name="l00717"></a>00717         *curColor++ = packedColor;
<a name="l00718"></a>00718         *curColor++ = packedColor;
<a name="l00719"></a>00719     *curPosition++ = <a class="code" href="struct_s_vec3.html" title="struct SVec3">SVec3</a>( leftBottomFar.<a class="code" href="class_m_vec3.html#8b834219441d8d65b3e4df28fe03f60f">GetX</a>(), leftBottomFar.<a class="code" href="class_m_vec3.html#dfadf4adb521222d91980376a7679dc8">GetY</a>(), leftBottomFar.<a class="code" href="class_m_vec3.html#8b29390479c105bbb9926188b9742329">GetZ</a>() );
<a name="l00720"></a>00720     *curPosition++ = <a class="code" href="struct_s_vec3.html" title="struct SVec3">SVec3</a>( leftBottomNear.<a class="code" href="class_m_vec3.html#8b834219441d8d65b3e4df28fe03f60f">GetX</a>(), leftBottomNear.<a class="code" href="class_m_vec3.html#dfadf4adb521222d91980376a7679dc8">GetY</a>(), leftBottomNear.<a class="code" href="class_m_vec3.html#8b29390479c105bbb9926188b9742329">GetZ</a>() );
<a name="l00721"></a>00721     *curPosition++ = <a class="code" href="struct_s_vec3.html" title="struct SVec3">SVec3</a>( rightBottomNear.<a class="code" href="class_m_vec3.html#8b834219441d8d65b3e4df28fe03f60f">GetX</a>(), rightBottomNear.<a class="code" href="class_m_vec3.html#dfadf4adb521222d91980376a7679dc8">GetY</a>(), rightBottomNear.<a class="code" href="class_m_vec3.html#8b29390479c105bbb9926188b9742329">GetZ</a>() );
<a name="l00722"></a>00722     *curPosition++ = <a class="code" href="struct_s_vec3.html" title="struct SVec3">SVec3</a>( rightBottomFar.<a class="code" href="class_m_vec3.html#8b834219441d8d65b3e4df28fe03f60f">GetX</a>(), rightBottomFar.<a class="code" href="class_m_vec3.html#dfadf4adb521222d91980376a7679dc8">GetY</a>(), rightBottomFar.<a class="code" href="class_m_vec3.html#8b29390479c105bbb9926188b9742329">GetZ</a>() );
<a name="l00723"></a>00723 
<a name="l00725"></a>00725         *curColor++ = packedColor;
<a name="l00726"></a>00726         *curColor++ = packedColor;
<a name="l00727"></a>00727         *curColor++ = packedColor;
<a name="l00728"></a>00728         *curColor++ = packedColor;
<a name="l00729"></a>00729     *curPosition++ = <a class="code" href="struct_s_vec3.html" title="struct SVec3">SVec3</a>( rightTopFar.<a class="code" href="class_m_vec3.html#8b834219441d8d65b3e4df28fe03f60f">GetX</a>(), rightTopFar.<a class="code" href="class_m_vec3.html#dfadf4adb521222d91980376a7679dc8">GetY</a>(), rightTopFar.<a class="code" href="class_m_vec3.html#8b29390479c105bbb9926188b9742329">GetZ</a>() );
<a name="l00730"></a>00730     *curPosition++ = <a class="code" href="struct_s_vec3.html" title="struct SVec3">SVec3</a>( rightTopNear.<a class="code" href="class_m_vec3.html#8b834219441d8d65b3e4df28fe03f60f">GetX</a>(), rightTopNear.<a class="code" href="class_m_vec3.html#dfadf4adb521222d91980376a7679dc8">GetY</a>(), rightTopNear.<a class="code" href="class_m_vec3.html#8b29390479c105bbb9926188b9742329">GetZ</a>() );
<a name="l00731"></a>00731     *curPosition++ = <a class="code" href="struct_s_vec3.html" title="struct SVec3">SVec3</a>( leftTopNear.<a class="code" href="class_m_vec3.html#8b834219441d8d65b3e4df28fe03f60f">GetX</a>(), leftTopNear.<a class="code" href="class_m_vec3.html#dfadf4adb521222d91980376a7679dc8">GetY</a>(), leftTopNear.<a class="code" href="class_m_vec3.html#8b29390479c105bbb9926188b9742329">GetZ</a>() );
<a name="l00732"></a>00732     *curPosition++ = <a class="code" href="struct_s_vec3.html" title="struct SVec3">SVec3</a>( leftTopFar.<a class="code" href="class_m_vec3.html#8b834219441d8d65b3e4df28fe03f60f">GetX</a>(), leftTopFar.<a class="code" href="class_m_vec3.html#dfadf4adb521222d91980376a7679dc8">GetY</a>(), leftTopFar.<a class="code" href="class_m_vec3.html#8b29390479c105bbb9926188b9742329">GetZ</a>() );
<a name="l00733"></a>00733 
<a name="l00735"></a>00735         *curColor++ = packedColor;
<a name="l00736"></a>00736         *curColor++ = packedColor;
<a name="l00737"></a>00737         *curColor++ = packedColor;
<a name="l00738"></a>00738         *curColor++ = packedColor;
<a name="l00739"></a>00739     *curPosition++ = <a class="code" href="struct_s_vec3.html" title="struct SVec3">SVec3</a>( leftBottomFar.<a class="code" href="class_m_vec3.html#8b834219441d8d65b3e4df28fe03f60f">GetX</a>(), leftBottomFar.<a class="code" href="class_m_vec3.html#dfadf4adb521222d91980376a7679dc8">GetY</a>(), leftBottomFar.<a class="code" href="class_m_vec3.html#8b29390479c105bbb9926188b9742329">GetZ</a>() );
<a name="l00740"></a>00740     *curPosition++ = <a class="code" href="struct_s_vec3.html" title="struct SVec3">SVec3</a>( leftTopFar.<a class="code" href="class_m_vec3.html#8b834219441d8d65b3e4df28fe03f60f">GetX</a>(), leftTopFar.<a class="code" href="class_m_vec3.html#dfadf4adb521222d91980376a7679dc8">GetY</a>(), leftTopFar.<a class="code" href="class_m_vec3.html#8b29390479c105bbb9926188b9742329">GetZ</a>() );
<a name="l00741"></a>00741     *curPosition++ = <a class="code" href="struct_s_vec3.html" title="struct SVec3">SVec3</a>( leftTopNear.<a class="code" href="class_m_vec3.html#8b834219441d8d65b3e4df28fe03f60f">GetX</a>(), leftTopNear.<a class="code" href="class_m_vec3.html#dfadf4adb521222d91980376a7679dc8">GetY</a>(), leftTopNear.<a class="code" href="class_m_vec3.html#8b29390479c105bbb9926188b9742329">GetZ</a>() );
<a name="l00742"></a>00742     *curPosition++ = <a class="code" href="struct_s_vec3.html" title="struct SVec3">SVec3</a>( leftBottomNear.<a class="code" href="class_m_vec3.html#8b834219441d8d65b3e4df28fe03f60f">GetX</a>(), leftBottomNear.<a class="code" href="class_m_vec3.html#dfadf4adb521222d91980376a7679dc8">GetY</a>(), leftBottomNear.<a class="code" href="class_m_vec3.html#8b29390479c105bbb9926188b9742329">GetZ</a>() );
<a name="l00743"></a>00743 
<a name="l00745"></a>00745         *curColor++ = packedColor;
<a name="l00746"></a>00746         *curColor++ = packedColor;
<a name="l00747"></a>00747         *curColor++ = packedColor;
<a name="l00748"></a>00748         *curColor++ = packedColor;
<a name="l00749"></a>00749     *curPosition++ = <a class="code" href="struct_s_vec3.html" title="struct SVec3">SVec3</a>( rightTopFar.<a class="code" href="class_m_vec3.html#8b834219441d8d65b3e4df28fe03f60f">GetX</a>(), rightTopFar.<a class="code" href="class_m_vec3.html#dfadf4adb521222d91980376a7679dc8">GetY</a>(), rightTopFar.<a class="code" href="class_m_vec3.html#8b29390479c105bbb9926188b9742329">GetZ</a>() );
<a name="l00750"></a>00750     *curPosition++ = <a class="code" href="struct_s_vec3.html" title="struct SVec3">SVec3</a>( rightBottomFar.<a class="code" href="class_m_vec3.html#8b834219441d8d65b3e4df28fe03f60f">GetX</a>(), rightBottomFar.<a class="code" href="class_m_vec3.html#dfadf4adb521222d91980376a7679dc8">GetY</a>(), rightBottomFar.<a class="code" href="class_m_vec3.html#8b29390479c105bbb9926188b9742329">GetZ</a>() );
<a name="l00751"></a>00751     *curPosition++ = <a class="code" href="struct_s_vec3.html" title="struct SVec3">SVec3</a>( rightBottomNear.<a class="code" href="class_m_vec3.html#8b834219441d8d65b3e4df28fe03f60f">GetX</a>(), rightBottomNear.<a class="code" href="class_m_vec3.html#dfadf4adb521222d91980376a7679dc8">GetY</a>(), rightBottomNear.<a class="code" href="class_m_vec3.html#8b29390479c105bbb9926188b9742329">GetZ</a>() );
<a name="l00752"></a>00752     *curPosition++ = <a class="code" href="struct_s_vec3.html" title="struct SVec3">SVec3</a>( rightTopNear.<a class="code" href="class_m_vec3.html#8b834219441d8d65b3e4df28fe03f60f">GetX</a>(), rightTopNear.<a class="code" href="class_m_vec3.html#dfadf4adb521222d91980376a7679dc8">GetY</a>(), rightTopNear.<a class="code" href="class_m_vec3.html#8b29390479c105bbb9926188b9742329">GetZ</a>() );
<a name="l00753"></a>00753 
<a name="l00755"></a>00755         _colorVB-&gt;MarkAsDirty( <a class="code" href="_gr_config_8h.html#2edd88842519480ffc74005f8219c83d" title="engine driven shader attribute enable flags.">GR_ATTRIB_POSITION_MASK</a> | <a class="code" href="_gr_config_8h.html#8bf9bfc6d234029203d9fc6e1bc50225">GR_ATTRIB_COLOR_MASK</a> );
<a name="l00756"></a>00756 
<a name="l00758"></a>00758         _colorVB-&gt;Bind( <a class="code" href="_gr_config_8h.html#2edd88842519480ffc74005f8219c83d" title="engine driven shader attribute enable flags.">GR_ATTRIB_POSITION_MASK</a> | <a class="code" href="_gr_config_8h.html#8bf9bfc6d234029203d9fc6e1bc50225">GR_ATTRIB_COLOR_MASK</a> );
<a name="l00759"></a>00759 
<a name="l00761"></a>00761         <a class="code" href="_gr_util_8cpp.html#b5f8140bc16ae7aad41126040955971b">GrDrawArrays</a>( <a class="code" href="_gr_util_8h.html#b3e9826637cd9ac6566bdd76e9fce14500373ffe678f25c35c1503d614ca8e53">EPT_QUADS</a>, 0, 24 );
<a name="l00762"></a>00762 }
<a name="l00763"></a>00763 
<a name="l00764"></a>00764 
<a name="l00765"></a>00765 <span class="comment">//==========================================================</span>
<a name="l00767"></a>00767 <span class="comment"></span><span class="comment">//==========================================================</span>
<a name="l00768"></a>00768 
<a name="l00769"></a>00769 <span class="comment">//----------------------------------------------------------</span>
<a name="l00770"></a>00770 <span class="keywordtype">void</span>
<a name="l00771"></a>00771 GrRenderUtil::CreateResources()
<a name="l00772"></a>00772 {
<a name="l00774"></a>00774         _quadVB = <a class="code" href="_gr_mesh_buffer_mgr_8cpp.html#b3896ffcf9e16ca80efeb7f2e44ba879" title="class header.">gGrMeshBufferMgr</a>-&gt;<a class="code" href="class_gr_mesh_buffer_mgr.html#e2becc9588cfb3d8858a4c998bc3dbc6" title="public methods">CreateMeshVB</a>( 4, <a class="code" href="_gr_config_8h.html#2edd88842519480ffc74005f8219c83d" title="engine driven shader attribute enable flags.">GR_ATTRIB_POSITION_MASK</a> | <a class="code" href="_gr_config_8h.html#3f063b92b78becda8efba252ecb3bccd">GR_ATTRIB_TEXCOORD_MASK</a>,
<a name="l00775"></a>00775                 <a class="code" href="class_gr_mesh_v_b.html#2af3fdf0087d2543d2861bd677139cdc">GrMeshVB::kDynamic</a> );
<a name="l00776"></a>00776         <a class="code" href="struct_s_vec3.html" title="struct SVec3">SVec3</a>* positions = _quadVB-&gt;GetVertices();
<a name="l00777"></a>00777         positions[ 0 ] = <a class="code" href="struct_s_vec3.html" title="struct SVec3">SVec3</a>( -1.0f, 1.0f, 0.0f );
<a name="l00778"></a>00778         positions[ 1 ] = <a class="code" href="struct_s_vec3.html" title="struct SVec3">SVec3</a>( 1.0f, 1.0f, 0.0f );
<a name="l00779"></a>00779         positions[ 2 ] = <a class="code" href="struct_s_vec3.html" title="struct SVec3">SVec3</a>( -1.0f, -1.0f, 0.0f );
<a name="l00780"></a>00780         positions[ 3 ] = <a class="code" href="struct_s_vec3.html" title="struct SVec3">SVec3</a>( 1.0f, -1.0f, 0.0f );
<a name="l00781"></a>00781         _quadVB-&gt;MarkAsDirty( <a class="code" href="_gr_config_8h.html#2edd88842519480ffc74005f8219c83d" title="engine driven shader attribute enable flags.">GR_ATTRIB_POSITION_MASK</a> );
<a name="l00782"></a>00782 
<a name="l00784"></a>00784         _colorVB = <a class="code" href="_gr_mesh_buffer_mgr_8cpp.html#b3896ffcf9e16ca80efeb7f2e44ba879" title="class header.">gGrMeshBufferMgr</a>-&gt;<a class="code" href="class_gr_mesh_buffer_mgr.html#e2becc9588cfb3d8858a4c998bc3dbc6" title="public methods">CreateMeshVB</a>( 2048, <a class="code" href="_gr_config_8h.html#2edd88842519480ffc74005f8219c83d" title="engine driven shader attribute enable flags.">GR_ATTRIB_POSITION_MASK</a> | <a class="code" href="_gr_config_8h.html#8bf9bfc6d234029203d9fc6e1bc50225">GR_ATTRIB_COLOR_MASK</a>,
<a name="l00785"></a>00785                 <a class="code" href="class_gr_mesh_v_b.html#2af3fdf0087d2543d2861bd677139cdc">GrMeshVB::kDynamic</a> );
<a name="l00786"></a>00786 
<a name="l00788"></a>00788         _colorShader = <a class="code" href="_gr_shader_mgr_8cpp.html#72561a5bdde97bf632da40c53beaf8e9" title="Purpose: To manage OpenGL vertex/fragment programs.">gGrShaderMgr</a>-&gt;<a class="code" href="class_gr_shader_mgr.html#808c8e1152500a452398977b1b1ff650" title="public methods">GetShader</a>( <span class="stringliteral">"GrRenderUtil_colorShader"</span>, <a class="code" href="_gr_render_util_8cpp.html#683ee85ea07d9d589bf8d713a298b10f" title="class header.">colorShaderVP</a>, <a class="code" href="_gr_render_util_8cpp.html#3d68ddc8a510b6806fc825090163b351">colorShaderFP</a> );
<a name="l00789"></a>00789 }
</pre></div></div>
<hr size="1"><address style="text-align: right;"><small>Generated on Fri Feb 13 17:19:58 2009 for Bootstrap Engine by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.8 </small></address>
</body>
</html>
