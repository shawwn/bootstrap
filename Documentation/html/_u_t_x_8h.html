<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>Bootstrap Engine: C:/Bootstrap/ProjectBX/Documentation/Code/Engine/UberTexture/UTX.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css">
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.8 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
      <li><a href="globals.html"><span>File&nbsp;Members</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>C:/Bootstrap/ProjectBX/Documentation/Code/Engine/UberTexture/UTX.h File Reference</h1>
<p>
<a href="_u_t_x_8h-source.html">Go to the source code of this file.</a><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Classes</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_u_t_x__stream__t.html">UTX_stream_t</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight"><a class="el" href="struct_u_t_x__stream__t.html" title="UTX_stream_t: holds data associated with an ubertexture.">UTX_stream_t</a>: holds data associated with an ubertexture.  <a href="struct_u_t_x__stream__t.html#_details">More...</a><br></td></tr>
<tr><td colspan="2"><br><h2>Defines</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="_u_t_x_8h.html#7d9767a167aefa9e7e28e2341fc7764e">UTX_FLAGS_RGBA</a>&nbsp;&nbsp;&nbsp;1</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="_u_t_x_8h.html#c68cf4dc7e3f0cd82eb7ed4aa04ce4bb">UTX_FLAGS_FINALIZED</a>&nbsp;&nbsp;&nbsp;2</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="_u_t_x_8h.html#8242dce7f62c1845e2fa89daaa70de58">UTX_CHANNELFLAGS_SUBSAMPLED</a>&nbsp;&nbsp;&nbsp;1</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="_u_t_x_8h.html#ae849206cfa9af81f5d7eec9d3d4b596">UTX_CHANNELFLAGS_DCT</a>&nbsp;&nbsp;&nbsp;2</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="_u_t_x_8h.html#a254d9bac3ece6a9d99def539e8a80eb">__int64</a>&nbsp;&nbsp;&nbsp;long long</td></tr>

<tr><td colspan="2"><br><h2>Typedefs</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">typedef unsigned int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="_u_t_x_8h.html#27fe6e33ffe813fb674e2a97982670dd">UTFlags</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">UTFlags: these are flags that pertain to the entire ubertexture.  <a href="#27fe6e33ffe813fb674e2a97982670dd"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">typedef unsigned int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="_u_t_x_8h.html#cffa144f9ef0c71c122e3ff954aee5b1">UTChannelFlags</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">UTChannelFlags: these are flags that a present on a per-channel basis.  <a href="#cffa144f9ef0c71c122e3ff954aee5b1"></a><br></td></tr>
<tr><td colspan="2"><br><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="_u_t_x_8h.html#434445d232888dc6c74be835e952e412">UTX_InitStream</a> (<a class="el" href="struct_u_t_x__stream__t.html">UTX_stream_t</a> *stream)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">UTX_InitStream: fills out the stream to valid default values.  <a href="#434445d232888dc6c74be835e952e412"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="_u_t_x_8h.html#ee152529d6efb39095f4174c0c5f34be">UTX_IsStream</a> (<a class="el" href="struct_u_t_x__stream__t.html">UTX_stream_t</a> *stream)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">UTX_IsStream: returns true if the stream is a valid, open stream.  <a href="#ee152529d6efb39095f4174c0c5f34be"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="_u_t_x_8h.html#b09944ed77293f89ab3258cd4e9eb6ed">UTX_CreateStream</a> (<a class="el" href="struct_u_t_x__stream__t.html">UTX_stream_t</a> *stream, const char *fileName, int <a class="el" href="wglext_8h.html#e6531b1788ca42a9ae8155b0c52e7630">width</a>, int <a class="el" href="wglext_8h.html#b2e63df950c3789599e1e43f477bc9e3">height</a>, int stageCount, <a class="el" href="_u_t_x_8h.html#27fe6e33ffe813fb674e2a97982670dd">UTFlags</a> *<a class="el" href="_u_t_message_8h.html#0a3c0b351ab09281b662a9ff4f900a53">flags</a>, int *channels)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">UTX_CreateStream: creates an ubertexture for reading and writing.  <a href="#b09944ed77293f89ab3258cd4e9eb6ed"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="_u_t_x_8h.html#91f39300c901600165dd5368628859d6">UTX_OpenStream</a> (<a class="el" href="struct_u_t_x__stream__t.html">UTX_stream_t</a> *stream, const char *fileName)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">UTX_OpenStream: opens an ubertexture for reading and writing.  <a href="#91f39300c901600165dd5368628859d6"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="_u_t_x_8h.html#948bec9c20341be4c0458de77aa18fd4">UTX_FinalizeStream</a> (<a class="el" href="struct_u_t_x__stream__t.html">UTX_stream_t</a> *stream, <a class="el" href="_u_t_x_8h.html#cffa144f9ef0c71c122e3ff954aee5b1">UTChannelFlags</a> *channelFlags, unsigned int quality)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="_u_t_x_8h.html#46220537d288704530ee6e83c8360630">UTX_GetWidth</a> (<a class="el" href="struct_u_t_x__stream__t.html">UTX_stream_t</a> *stream)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="_u_t_x_8h.html#27d64cf1b9f14aef03dcceb808ac65b3">UTX_GetHeight</a> (<a class="el" href="struct_u_t_x__stream__t.html">UTX_stream_t</a> *stream)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="_u_t_x_8h.html#0ec987ddd21b653b93603a9079d613b1">UTX_NumStages</a> (<a class="el" href="struct_u_t_x__stream__t.html">UTX_stream_t</a> *stream)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="_u_t_x_8h.html#27fe6e33ffe813fb674e2a97982670dd">UTFlags</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="_u_t_x_8h.html#fbad157df3f1ed3f3276a45d085e0a81">UTX_GetStageFlags</a> (<a class="el" href="struct_u_t_x__stream__t.html">UTX_stream_t</a> *stream, int stage)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="_u_t_x_8h.html#5b1ac8457a9c4189b73359ca1b1874b5">UTX_NumStageChannels</a> (<a class="el" href="struct_u_t_x__stream__t.html">UTX_stream_t</a> *stream, int stage)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="_u_t_x_8h.html#e2176b26dba88c88fa14e2f2200899b6">UTX_CalcStageTileSize</a> (<a class="el" href="struct_u_t_x__stream__t.html">UTX_stream_t</a> *stream, int stage)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="_u_t_x_8h.html#f7a7076f23b911b670fbe3cbcde010f4">UTX_CalcTileSize</a> (<a class="el" href="struct_u_t_x__stream__t.html">UTX_stream_t</a> *stream)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">UTX_CalcTileSize: calculates the size of an uncompressed tile.  <a href="#f7a7076f23b911b670fbe3cbcde010f4"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="_u_t_x_8h.html#e3804d41d2c4e516ce0b408aae566baf">UTX_CloseStream</a> (<a class="el" href="struct_u_t_x__stream__t.html">UTX_stream_t</a> *stream)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">UTX_CloseStream: closes the stream passed in.  <a href="#e3804d41d2c4e516ce0b408aae566baf"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="_u_t_x_8h.html#ee9c7baf302016961caf315ba52bc777">UTX_OptimizeReadOrder</a> (<a class="el" href="struct_u_t_x__stream__t.html">UTX_stream_t</a> *stream, unsigned int *packedTiles, unsigned int <a class="el" href="wglext_8h.html#98d18d6b4e3ba4ed266c6fb54c839d70">count</a>)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="_u_t_x_8h.html#d7b1c4103e1beef2d9e4dd9a6eeaad6b">UTX_ReadTile</a> (<a class="el" href="struct_u_t_x__stream__t.html">UTX_stream_t</a> *stream, void *dest, int <a class="el" href="wglext_8h.html#d77deca22f617d3f0e0eb786445689fc">x</a>, int <a class="el" href="wglext_8h.html#9298c7ad619074f5285b32c6b72bfdea">y</a>, int mipLevel, int *bytesRead=0)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="_u_t_x_8h.html#6197bad61382d6463b8b41a38477fecd">UTX_WriteTile</a> (<a class="el" href="struct_u_t_x__stream__t.html">UTX_stream_t</a> *stream, int <a class="el" href="wglext_8h.html#d77deca22f617d3f0e0eb786445689fc">x</a>, int <a class="el" href="wglext_8h.html#9298c7ad619074f5285b32c6b72bfdea">y</a>, int mipLevel, const void *<a class="el" href="glext__bak_8h.html#fd3b198d09b41a863127e5e2b29c4e53">source</a>, int *bytesWritten=0)</td></tr>

</table>
<hr><h2>Define Documentation</h2>
<a class="anchor" name="a254d9bac3ece6a9d99def539e8a80eb"></a><!-- doxytag: member="UTX.h::__int64" ref="a254d9bac3ece6a9d99def539e8a80eb" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define <a class="el" href="common__afx_8h.html#2e015c96ada30f1fdb9322f7af889c10">__int64</a>&nbsp;&nbsp;&nbsp;long long          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="_u_t_x_8h-source.html#l00058">58</a> of file <a class="el" href="_u_t_x_8h-source.html">UTX.h</a>.</p>

</div>
</div><p>
<a class="anchor" name="ae849206cfa9af81f5d7eec9d3d4b596"></a><!-- doxytag: member="UTX.h::UTX_CHANNELFLAGS_DCT" ref="ae849206cfa9af81f5d7eec9d3d4b596" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define UTX_CHANNELFLAGS_DCT&nbsp;&nbsp;&nbsp;2          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
UTX_kDCT means that the tiles in the channel are compressed using an 8x8 block DCT compression scheme. 
<p>Definition at line <a class="el" href="_u_t_x_8h-source.html#l00055">55</a> of file <a class="el" href="_u_t_x_8h-source.html">UTX.h</a>.</p>

</div>
</div><p>
<a class="anchor" name="8242dce7f62c1845e2fa89daaa70de58"></a><!-- doxytag: member="UTX.h::UTX_CHANNELFLAGS_SUBSAMPLED" ref="8242dce7f62c1845e2fa89daaa70de58" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define UTX_CHANNELFLAGS_SUBSAMPLED&nbsp;&nbsp;&nbsp;1          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
kSubSampled means that the channel is half the width and height of the texture. 
<p>Definition at line <a class="el" href="_u_t_x_8h-source.html#l00051">51</a> of file <a class="el" href="_u_t_x_8h-source.html">UTX.h</a>.</p>

</div>
</div><p>
<a class="anchor" name="c68cf4dc7e3f0cd82eb7ed4aa04ce4bb"></a><!-- doxytag: member="UTX.h::UTX_FLAGS_FINALIZED" ref="c68cf4dc7e3f0cd82eb7ed4aa04ce4bb" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define UTX_FLAGS_FINALIZED&nbsp;&nbsp;&nbsp;2          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
UTX_FLAGS_FINALIZED means that the texture is compressed and subsequently read only. 
<p>Definition at line <a class="el" href="_u_t_x_8h-source.html#l00042">42</a> of file <a class="el" href="_u_t_x_8h-source.html">UTX.h</a>.</p>

</div>
</div><p>
<a class="anchor" name="7d9767a167aefa9e7e28e2341fc7764e"></a><!-- doxytag: member="UTX.h::UTX_FLAGS_RGBA" ref="7d9767a167aefa9e7e28e2341fc7764e" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define UTX_FLAGS_RGBA&nbsp;&nbsp;&nbsp;1          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
UTX_FLAGS_RGBA means the channels contain raw RGBA data. The way the channels are interpreted depends on how many channels are present. 1 channel: intensity 2 channels: luminance, alpha 3 channels: blue, green, red 4 channels: blue, green, red, alpha If this flag is not present, it means the channels contain HSLA data. The way the channels are interpreted depends on how many channels are present. 1 channel: luminance, hue = 0, saturation = 0 2 channels: luminance, hue, saturation = 1 3 channels: luminance, hue, saturation 4 channels: luminance, hue, saturation, alpha 
<p>Definition at line <a class="el" href="_u_t_x_8h-source.html#l00038">38</a> of file <a class="el" href="_u_t_x_8h-source.html">UTX.h</a>.</p>

</div>
</div><p>
<hr><h2>Typedef Documentation</h2>
<a class="anchor" name="cffa144f9ef0c71c122e3ff954aee5b1"></a><!-- doxytag: member="UTX.h::UTChannelFlags" ref="cffa144f9ef0c71c122e3ff954aee5b1" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef unsigned int <a class="el" href="_u_t_x_8h.html#cffa144f9ef0c71c122e3ff954aee5b1">UTChannelFlags</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
UTChannelFlags: these are flags that a present on a per-channel basis. 
<p>

<p>Definition at line <a class="el" href="_u_t_x_8h-source.html#l00047">47</a> of file <a class="el" href="_u_t_x_8h-source.html">UTX.h</a>.</p>

</div>
</div><p>
<a class="anchor" name="27fe6e33ffe813fb674e2a97982670dd"></a><!-- doxytag: member="UTX.h::UTFlags" ref="27fe6e33ffe813fb674e2a97982670dd" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef unsigned int <a class="el" href="_u_t_x_8h.html#27fe6e33ffe813fb674e2a97982670dd">UTFlags</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
UTFlags: these are flags that pertain to the entire ubertexture. 
<p>

<p>Definition at line <a class="el" href="_u_t_x_8h-source.html#l00017">17</a> of file <a class="el" href="_u_t_x_8h-source.html">UTX.h</a>.</p>

</div>
</div><p>
<hr><h2>Function Documentation</h2>
<a class="anchor" name="e2176b26dba88c88fa14e2f2200899b6"></a><!-- doxytag: member="UTX.h::UTX_CalcStageTileSize" ref="e2176b26dba88c88fa14e2f2200899b6" args="(UTX_stream_t *stream, int stage)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int UTX_CalcStageTileSize           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_u_t_x__stream__t.html">UTX_stream_t</a> *&nbsp;</td>
          <td class="paramname"> <em>stream</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>stage</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="_u_t_x_8cpp-source.html#l00488">488</a> of file <a class="el" href="_u_t_x_8cpp-source.html">UTX.cpp</a>.</p>

</div>
</div><p>
<a class="anchor" name="f7a7076f23b911b670fbe3cbcde010f4"></a><!-- doxytag: member="UTX.h::UTX_CalcTileSize" ref="f7a7076f23b911b670fbe3cbcde010f4" args="(UTX_stream_t *stream)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int UTX_CalcTileSize           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_u_t_x__stream__t.html">UTX_stream_t</a> *&nbsp;</td>
          <td class="paramname"> <em>stream</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
UTX_CalcTileSize: calculates the size of an uncompressed tile. 
<p>

<p>
accumulate the size of each stage.<p>
return the tile's size. 
<p>Definition at line <a class="el" href="_u_t_x_8cpp-source.html#l00495">495</a> of file <a class="el" href="_u_t_x_8cpp-source.html">UTX.cpp</a>.</p>

</div>
</div><p>
<a class="anchor" name="e3804d41d2c4e516ce0b408aae566baf"></a><!-- doxytag: member="UTX.h::UTX_CloseStream" ref="e3804d41d2c4e516ce0b408aae566baf" args="(UTX_stream_t *stream)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void UTX_CloseStream           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_u_t_x__stream__t.html">UTX_stream_t</a> *&nbsp;</td>
          <td class="paramname"> <em>stream</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
UTX_CloseStream: closes the stream passed in. 
<p>

<p>Definition at line <a class="el" href="_u_t_x_8cpp-source.html#l00508">508</a> of file <a class="el" href="_u_t_x_8cpp-source.html">UTX.cpp</a>.</p>

</div>
</div><p>
<a class="anchor" name="b09944ed77293f89ab3258cd4e9eb6ed"></a><!-- doxytag: member="UTX.h::UTX_CreateStream" ref="b09944ed77293f89ab3258cd4e9eb6ed" args="(UTX_stream_t *stream, const char *fileName, int width, int height, int stageCount, UTFlags *flags, int *channels)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool UTX_CreateStream           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_u_t_x__stream__t.html">UTX_stream_t</a> *&nbsp;</td>
          <td class="paramname"> <em>stream</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>fileName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>width</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>height</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>stageCount</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="_u_t_x_8h.html#27fe6e33ffe813fb674e2a97982670dd">UTFlags</a> *&nbsp;</td>
          <td class="paramname"> <em>flags</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&nbsp;</td>
          <td class="paramname"> <em>channels</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
UTX_CreateStream: creates an ubertexture for reading and writing. 
<p>

<p>
zero out the values in the stream structure passed in.<p>
verify incoming parameters.<p>
create a new file.<p>
make sure the file was successfully created.<p>
make a copy of the file name.<p>
build and write out the file header.<p>
allocate channel headers and fill out stage headers.<p>
calculate the size of each tile, in bytes.<p>
set the headers to the stream.<p>
fill out the header.<p>
now store the header in a temporary write buffer.<p>
write the data to the write buffer.<p>
store the stage headers along with the channel headers.<p>
store the stage header.<p>
store the channel headers.<p>
now write the header to the file.<p>
convert the width and height into blocks.<p>
calculate the total number of mip levels.<p>
build the tile lookup table.<p>
allocate a buffer to contain temporary default data.<p>
calculate the total tile count for the entire file.<p>
calculate how many tiles reside in the current mip level.<p>
add the tile count to the running total.<p>
now fill the rest of the file with default data.<p>
write out the current row of tiles.<p>
free the temporary buffer containing default data.<p>
return true to indicate success. 
<p>Definition at line <a class="el" href="_u_t_x_8cpp-source.html#l00224">224</a> of file <a class="el" href="_u_t_x_8cpp-source.html">UTX.cpp</a>.</p>

</div>
</div><p>
<a class="anchor" name="948bec9c20341be4c0458de77aa18fd4"></a><!-- doxytag: member="UTX.h::UTX_FinalizeStream" ref="948bec9c20341be4c0458de77aa18fd4" args="(UTX_stream_t *stream, UTChannelFlags *channelFlags, unsigned int quality)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool UTX_FinalizeStream           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_u_t_x__stream__t.html">UTX_stream_t</a> *&nbsp;</td>
          <td class="paramname"> <em>stream</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="_u_t_x_8h.html#cffa144f9ef0c71c122e3ff954aee5b1">UTChannelFlags</a> *&nbsp;</td>
          <td class="paramname"> <em>channelFlags</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&nbsp;</td>
          <td class="paramname"> <em>quality</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
UTX_FinalizeStream: finalizes a stream by compressing it. Once a stream is compressed, it can no longer be changed. 
</div>
</div><p>
<a class="anchor" name="27d64cf1b9f14aef03dcceb808ac65b3"></a><!-- doxytag: member="UTX.h::UTX_GetHeight" ref="27d64cf1b9f14aef03dcceb808ac65b3" args="(UTX_stream_t *stream)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int UTX_GetHeight           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_u_t_x__stream__t.html">UTX_stream_t</a> *&nbsp;</td>
          <td class="paramname"> <em>stream</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="_u_t_x_8cpp-source.html#l00458">458</a> of file <a class="el" href="_u_t_x_8cpp-source.html">UTX.cpp</a>.</p>

</div>
</div><p>
<a class="anchor" name="fbad157df3f1ed3f3276a45d085e0a81"></a><!-- doxytag: member="UTX.h::UTX_GetStageFlags" ref="fbad157df3f1ed3f3276a45d085e0a81" args="(UTX_stream_t *stream, int stage)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="_u_t_x_8h.html#27fe6e33ffe813fb674e2a97982670dd">UTFlags</a> UTX_GetStageFlags           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_u_t_x__stream__t.html">UTX_stream_t</a> *&nbsp;</td>
          <td class="paramname"> <em>stream</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>stage</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="_u_t_x_8cpp-source.html#l00474">474</a> of file <a class="el" href="_u_t_x_8cpp-source.html">UTX.cpp</a>.</p>

</div>
</div><p>
<a class="anchor" name="46220537d288704530ee6e83c8360630"></a><!-- doxytag: member="UTX.h::UTX_GetWidth" ref="46220537d288704530ee6e83c8360630" args="(UTX_stream_t *stream)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int UTX_GetWidth           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_u_t_x__stream__t.html">UTX_stream_t</a> *&nbsp;</td>
          <td class="paramname"> <em>stream</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
UTX_GetWidth, UTX_GetHeight, UTX_NumChannels, UTX_GetFlags: returns stream data for valid streams. If the stream is not valid, -1 is returned. 
<p>Definition at line <a class="el" href="_u_t_x_8cpp-source.html#l00450">450</a> of file <a class="el" href="_u_t_x_8cpp-source.html">UTX.cpp</a>.</p>

</div>
</div><p>
<a class="anchor" name="434445d232888dc6c74be835e952e412"></a><!-- doxytag: member="UTX.h::UTX_InitStream" ref="434445d232888dc6c74be835e952e412" args="(UTX_stream_t *stream)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void UTX_InitStream           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_u_t_x__stream__t.html">UTX_stream_t</a> *&nbsp;</td>
          <td class="paramname"> <em>stream</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
UTX_InitStream: fills out the stream to valid default values. 
<p>

<p>Definition at line <a class="el" href="_u_t_x_8cpp-source.html#l00206">206</a> of file <a class="el" href="_u_t_x_8cpp-source.html">UTX.cpp</a>.</p>

</div>
</div><p>
<a class="anchor" name="ee152529d6efb39095f4174c0c5f34be"></a><!-- doxytag: member="UTX.h::UTX_IsStream" ref="ee152529d6efb39095f4174c0c5f34be" args="(UTX_stream_t *stream)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool UTX_IsStream           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_u_t_x__stream__t.html">UTX_stream_t</a> *&nbsp;</td>
          <td class="paramname"> <em>stream</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
UTX_IsStream: returns true if the stream is a valid, open stream. 
<p>

<p>
make sure the file was successfully created. 
<p>Definition at line <a class="el" href="_u_t_x_8cpp-source.html#l00217">217</a> of file <a class="el" href="_u_t_x_8cpp-source.html">UTX.cpp</a>.</p>

</div>
</div><p>
<a class="anchor" name="5b1ac8457a9c4189b73359ca1b1874b5"></a><!-- doxytag: member="UTX.h::UTX_NumStageChannels" ref="5b1ac8457a9c4189b73359ca1b1874b5" args="(UTX_stream_t *stream, int stage)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int UTX_NumStageChannels           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_u_t_x__stream__t.html">UTX_stream_t</a> *&nbsp;</td>
          <td class="paramname"> <em>stream</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>stage</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="_u_t_x_8cpp-source.html#l00481">481</a> of file <a class="el" href="_u_t_x_8cpp-source.html">UTX.cpp</a>.</p>

</div>
</div><p>
<a class="anchor" name="0ec987ddd21b653b93603a9079d613b1"></a><!-- doxytag: member="UTX.h::UTX_NumStages" ref="0ec987ddd21b653b93603a9079d613b1" args="(UTX_stream_t *stream)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int UTX_NumStages           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_u_t_x__stream__t.html">UTX_stream_t</a> *&nbsp;</td>
          <td class="paramname"> <em>stream</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="_u_t_x_8cpp-source.html#l00466">466</a> of file <a class="el" href="_u_t_x_8cpp-source.html">UTX.cpp</a>.</p>

</div>
</div><p>
<a class="anchor" name="91f39300c901600165dd5368628859d6"></a><!-- doxytag: member="UTX.h::UTX_OpenStream" ref="91f39300c901600165dd5368628859d6" args="(UTX_stream_t *stream, const char *fileName)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool UTX_OpenStream           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_u_t_x__stream__t.html">UTX_stream_t</a> *&nbsp;</td>
          <td class="paramname"> <em>stream</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>fileName</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
UTX_OpenStream: opens an ubertexture for reading and writing. 
<p>

<p>
zero out the values in the stream structure passed in.<p>
verify incoming parameters.<p>
create a new file.<p>
make sure the file was successfully created.<p>
make a copy of the file name.<p>
read in the header information to a local buffer.<p>
read in the file header.<p>
verify the header.<p>
read in the stage headers.<p>
read in the stage header.<p>
read in the current stage's channel headers.<p>
calculate the number of mip levels.<p>
set the stream's address map.<p>
return true to indicate success. 
<p>Definition at line <a class="el" href="_u_t_x_8cpp-source.html#l00368">368</a> of file <a class="el" href="_u_t_x_8cpp-source.html">UTX.cpp</a>.</p>

</div>
</div><p>
<a class="anchor" name="ee9c7baf302016961caf315ba52bc777"></a><!-- doxytag: member="UTX.h::UTX_OptimizeReadOrder" ref="ee9c7baf302016961caf315ba52bc777" args="(UTX_stream_t *stream, unsigned int *packedTiles, unsigned int count)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void UTX_OptimizeReadOrder           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_u_t_x__stream__t.html">UTX_stream_t</a> *&nbsp;</td>
          <td class="paramname"> <em>stream</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int *&nbsp;</td>
          <td class="paramname"> <em>packedTiles</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&nbsp;</td>
          <td class="paramname"> <em>count</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
UTX_OptimizeReadOrder: reorders a list of packed tiles for optimal disk access. This function returns false if any invalid tiles were found. 
<p>
verify that our buffer is large enough to hold the sort information.<p>
first, pack all of our data into sort structures.<p>
decode the packed tile info.<p>
store everything into the sortInfo structure.<p>
now sort.<p>
now copy back to the original array. 
<p>Definition at line <a class="el" href="_u_t_x_8cpp-source.html#l00526">526</a> of file <a class="el" href="_u_t_x_8cpp-source.html">UTX.cpp</a>.</p>

</div>
</div><p>
<a class="anchor" name="d7b1c4103e1beef2d9e4dd9a6eeaad6b"></a><!-- doxytag: member="UTX.h::UTX_ReadTile" ref="d7b1c4103e1beef2d9e4dd9a6eeaad6b" args="(UTX_stream_t *stream, void *dest, int x, int y, int mipLevel, int *bytesRead=0)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool UTX_ReadTile           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_u_t_x__stream__t.html">UTX_stream_t</a> *&nbsp;</td>
          <td class="paramname"> <em>stream</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>dest</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>x</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>y</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>mipLevel</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&nbsp;</td>
          <td class="paramname"> <em>bytesRead</em> = <code>0</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
UTX_ReadTile: reads numStages of 64x64 tiles from the uber-texture. The destination buffer must be large enough to hold numStages of uncompressed data. 
<p>
seek to the tile in the texture.<p>
get the size of the tile.<p>
allocate temporary storage for the compressed data as well as one stage of decompressed data.<p>
TODO: If vdest is null, route the read data to the encoder thread. read in compressed data.<p>
perform decompression on each channel and interleave texture data.<p>
now decompress the texture data.<p>
get the current channel's flags.<p>
decompress the current channel if necessary.<p>
TODO: implement me!<p>
perform a raw copy of the current channel.<p>
advance the source data.<p>
interleave data.<p>
advance the destination pointer.<p>
return true to indicate success. 
<p>Definition at line <a class="el" href="_u_t_x_8cpp-source.html#l00557">557</a> of file <a class="el" href="_u_t_x_8cpp-source.html">UTX.cpp</a>.</p>

</div>
</div><p>
<a class="anchor" name="6197bad61382d6463b8b41a38477fecd"></a><!-- doxytag: member="UTX.h::UTX_WriteTile" ref="6197bad61382d6463b8b41a38477fecd" args="(UTX_stream_t *stream, int x, int y, int mipLevel, const void *source, int *bytesWritten=0)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool UTX_WriteTile           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_u_t_x__stream__t.html">UTX_stream_t</a> *&nbsp;</td>
          <td class="paramname"> <em>stream</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>x</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>y</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>mipLevel</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *&nbsp;</td>
          <td class="paramname"> <em>source</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&nbsp;</td>
          <td class="paramname"> <em>bytesWritten</em> = <code>0</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
UTX_WriteTile: writes numStages of 64x64 tiles to the uber-texture. The source buffer must contain numStages of uncompressed pixel data. Note that the source buffer is trashed. 
<p>
make sure the stream isn't compressed.<p>
check all channels and all stages.<p>
seek to the tile in the texture.<p>
make sure the scratch buffer is large enough to do what we want.<p>
de-interleave the data.<p>
get the current stage header.<p>
now separate out the different channels.<p>
write the data to the stream.<p>
advance the source pointer.<p>
return true to indicate success. 
<p>Definition at line <a class="el" href="_u_t_x_8cpp-source.html#l00644">644</a> of file <a class="el" href="_u_t_x_8cpp-source.html">UTX.cpp</a>.</p>

</div>
</div><p>
</div>
<hr size="1"><address style="text-align: right;"><small>Generated on Fri Feb 13 17:20:04 2009 for Bootstrap Engine by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.8 </small></address>
</body>
</html>
