<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>Bootstrap Engine: C:/Bootstrap/ProjectBX/Documentation/Code/Engine/FileSystem/FSDiskServ_W32.cpp File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css">
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.8 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
      <li><a href="globals.html"><span>File&nbsp;Members</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>C:/Bootstrap/ProjectBX/Documentation/Code/Engine/FileSystem/FSDiskServ_W32.cpp File Reference</h1><code>#include &quot;<a class="el" href="filesystem__afx_8h-source.html">filesystem_afx.h</a>&quot;</code><br>
<code>#include &quot;<a class="el" href="_f_s_disk_serv_8h-source.html">FSDiskServ.h</a>&quot;</code><br>
<code>#include &lt;process.h&gt;</code><br>
<code>#include &lt;WinIoCtl.h&gt;</code><br>
<code>#include &lt;tchar.h&gt;</code><br>

<p>
<a href="_f_s_disk_serv___w32_8cpp-source.html">Go to the source code of this file.</a><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Classes</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_s_file__t.html">SFile_t</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">internal structures.  <a href="struct_s_file__t.html#_details">More...</a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_s_file_op__t.html">SFileOp_t</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_s_drive__t.html">SDrive_t</a></td></tr>

<tr><td colspan="2"><br><h2>Defines</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="_f_s_disk_serv___w32_8cpp.html#1bd31ca46edf8a2f66c3890a2dbbe564">BLOCKS_PER_ALLOCATION</a>&nbsp;&nbsp;&nbsp;1024</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">file header.  <a href="#1bd31ca46edf8a2f66c3890a2dbbe564"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="_f_s_disk_serv___w32_8cpp.html#f4832b48e562107b481016b88342a01a">MAX_BLOCK_COUNT</a>&nbsp;&nbsp;&nbsp;1024</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="_f_s_disk_serv___w32_8cpp.html#ecc4c5fadbda3d12a5a810f93cf2fe43">MAX_PENDING_IO</a>&nbsp;&nbsp;&nbsp;1024</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="_f_s_disk_serv___w32_8cpp.html#9d1051fc423c95127cfd80141482f402">MAX_DRIVE_COUNT</a>&nbsp;&nbsp;&nbsp;32</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="_f_s_disk_serv___w32_8cpp.html#2a4fe9cb315ee694da76ba944eaf709a">DTYPE_UNKNOWN</a>&nbsp;&nbsp;&nbsp;0</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">drive types.  <a href="#2a4fe9cb315ee694da76ba944eaf709a"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="_f_s_disk_serv___w32_8cpp.html#59280ff0687459cac3fb71320979ffb4">DTYPE_HDD</a>&nbsp;&nbsp;&nbsp;1</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="_f_s_disk_serv___w32_8cpp.html#96150d499acf07fef7ded70fd4fa64f9">DTYPE_CD</a>&nbsp;&nbsp;&nbsp;2</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="_f_s_disk_serv___w32_8cpp.html#0585de32c9d4f05c6ffdac6cb1250a66">DTYPE_DVD</a>&nbsp;&nbsp;&nbsp;3</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="_f_s_disk_serv___w32_8cpp.html#05ce56e00d6fd51940257e8718ba3a88">DISKCACHE_SIZE_HDD</a>&nbsp;&nbsp;&nbsp;262144</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="_f_s_disk_serv___w32_8cpp.html#dc1c85a7d6e638c59856846ef388ec3e">DISKCACHE_SIZE_CD</a>&nbsp;&nbsp;&nbsp;131072</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="_f_s_disk_serv___w32_8cpp.html#4a3a2dd180a995d513762c53c95bd598">DISKCACHE_SIZE_DVD</a>&nbsp;&nbsp;&nbsp;131072</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="_f_s_disk_serv___w32_8cpp.html#7bbed87240f78355659b4285558e6a55">LOOKAHEAD_SIZE_HDD</a>&nbsp;&nbsp;&nbsp;65536</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="_f_s_disk_serv___w32_8cpp.html#c88e4ff9f0777c5ae5464096aa000832">LOOKAHEAD_SIZE_CD</a>&nbsp;&nbsp;&nbsp;65536</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="_f_s_disk_serv___w32_8cpp.html#af5e2dcc3f408e04b8ec74c129404749">LOOKAHEAD_SIZE_DVD</a>&nbsp;&nbsp;&nbsp;65536</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="_f_s_disk_serv___w32_8cpp.html#2177b3fe8493058fb7fa092ecf8bdbd6">LOOKAHEAD_COUNT_HDD</a>&nbsp;&nbsp;&nbsp;128</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="_f_s_disk_serv___w32_8cpp.html#73bbedde51b2263293c087d4ee3a45a9">LOOKAHEAD_COUNT_CD</a>&nbsp;&nbsp;&nbsp;512</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="_f_s_disk_serv___w32_8cpp.html#a7e35654383715365ac83c6dc625d43d">LOOKAHEAD_COUNT_DVD</a>&nbsp;&nbsp;&nbsp;512</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="_f_s_disk_serv___w32_8cpp.html#4f2067f0c6d65cc2382026aae315e15f">SEEKBACK_SIZE_HDD</a>&nbsp;&nbsp;&nbsp;8388608</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="_f_s_disk_serv___w32_8cpp.html#7d9a55bc9b2f042ecb83d94fe0e6aea1">SEEKBACK_SIZE_CD</a>&nbsp;&nbsp;&nbsp;2097152</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="_f_s_disk_serv___w32_8cpp.html#7be663e58042a12b717c191c8ab8b5c5">SEEKBACK_SIZE_DVD</a>&nbsp;&nbsp;&nbsp;4194304</td></tr>

<tr><td colspan="2"><br><h2>Typedefs</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">typedef struct <a class="el" href="struct_s_file__t.html">SFile_t</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="_f_s_disk_serv___w32_8cpp.html#a3b8146975d5fc4207dff40a6dec6626">SFile</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">internal structures.  <a href="#a3b8146975d5fc4207dff40a6dec6626"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">typedef struct <a class="el" href="struct_s_file_op__t.html">SFileOp_t</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="_f_s_disk_serv___w32_8cpp.html#095f7f554b6ae3aaab9b00f27d7f552d">SFileOp</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">typedef struct <a class="el" href="struct_s_drive__t.html">SDrive_t</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="_f_s_disk_serv___w32_8cpp.html#630da930e26c1deb165f4229226561f2">SDrive</a></td></tr>

<tr><td colspan="2"><br><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">TCHAR *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="_f_s_disk_serv___w32_8cpp.html#10cc1bec4052cb5632c89bc9b1b6e633">ConvertString</a> (const <a class="el" href="filesystem__afx_8h.html#08b81c947811e6def5d8994fd4d76481">FSchar</a> *<a class="el" href="glext__bak_8h.html#949953309cda1573a7c5fd4ffe65904c">string</a>)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">File local functions.  <a href="#10cc1bec4052cb5632c89bc9b1b6e633"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="_f_s_disk_serv___w32_8cpp.html#cef30d4a2e6bb61af204268fb375313f">FreeString</a> (TCHAR *<a class="el" href="glext__bak_8h.html#949953309cda1573a7c5fd4ffe65904c">string</a>)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="_f_s_disk_serv___w32_8cpp.html#639bb9787444e8c425eec0256793d968">FS_ScanDrives</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Global functions.  <a href="#639bb9787444e8c425eec0256793d968"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="_f_s_disk_serv___w32_8cpp.html#64815f6582883caa8b5e134620e36d47">FS_OpenFile</a> (const <a class="el" href="filesystem__afx_8h.html#08b81c947811e6def5d8994fd4d76481">FSchar</a> *<a class="el" href="glext__bak_8h.html#bb62efe59ccdd153ce42e1a418352209">name</a>, unsigned int <a class="el" href="_u_t_message_8h.html#0a3c0b351ab09281b662a9ff4f900a53">flags</a>)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="_f_s_disk_serv___w32_8cpp.html#29e88ae79f07f5d597e6729a4a66a76e">FS_CloseFile</a> (void *fileHandle)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="filesystem__afx_8h.html#2dfedf2033eee861d23c808f79ed5837">FSsize</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="_f_s_disk_serv___w32_8cpp.html#c13642cf33b2e0afa23742d1d8f9d8dc">FS_GetFileSize</a> (void *fileHandle)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="_f_s_disk_serv___w32_8cpp.html#9e21afbbba101c7dc7be9a43fd5291f6">FS_ReadFile</a> (<a class="el" href="struct_s_f_s_file_read_buffer__t.html">SFSFileReadBuffer</a> *<a class="el" href="glext__bak_8h.html#92034251bfd455d524a9b5610cddba00">dst</a>, void *file, <a class="el" href="filesystem__afx_8h.html#2dfedf2033eee861d23c808f79ed5837">FSsize</a> <a class="el" href="glext__bak_8h.html#a782f3aea23e3c30029c811241dc2c82">offset</a>, unsigned int <a class="el" href="glext__bak_8h.html#3d1e3edfcf61ca2d831883e1afbad89e">size</a>)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="_f_s_disk_serv___w32_8cpp.html#c7abe5c9b19a9611de00573a09fd3a61">FS_WriteFile</a> (void *file, <a class="el" href="filesystem__afx_8h.html#2dfedf2033eee861d23c808f79ed5837">FSsize</a> <a class="el" href="glext__bak_8h.html#a782f3aea23e3c30029c811241dc2c82">offset</a>, <a class="el" href="struct_s_f_s_file_write_buffer__t.html">SFSFileWriteBuffer</a> *<a class="el" href="glext__bak_8h.html#72e0fdf0f845ded60b1fada9e9195cd7">src</a>, unsigned int <a class="el" href="glext__bak_8h.html#3d1e3edfcf61ca2d831883e1afbad89e">size</a>)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="_f_s_disk_serv___w32_8cpp.html#b8abbd85f1942b0f3dca1793ea4e8978">FS_Wait</a> (volatile int *gate)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="_f_s_disk_serv___w32_8cpp.html#013362d3615068eee7220194a88a4d73">FS_IsComplete</a> (volatile int *gate)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">waits for and resets the gate's value.  <a href="#013362d3615068eee7220194a88a4d73"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="_f_s_disk_serv___w32_8cpp.html#34306284dd0c7f5c8f91de947b3e43f1">FS_IsReadComplete</a> (<a class="el" href="struct_s_f_s_file_read_buffer__t.html">SFSFileReadBuffer</a> *readBuffer)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">checks and resets the gate's value.  <a href="#34306284dd0c7f5c8f91de947b3e43f1"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="_f_s_disk_serv___w32_8cpp.html#da15545e379beea3118877a61f7c4df6">FS_IsWriteComplete</a> (<a class="el" href="struct_s_f_s_file_write_buffer__t.html">SFSFileWriteBuffer</a> *writeBuffer)</td></tr>

<tr><td colspan="2"><br><h2>Variables</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void *(*&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="_f_s_disk_serv___w32_8cpp.html#552500941af2ffc7f64f1e8a0fe00a0c">FSmalloc</a> )(size_t <a class="el" href="glext__bak_8h.html#3d1e3edfcf61ca2d831883e1afbad89e">size</a>) = malloc</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Memory management routines.  <a href="#552500941af2ffc7f64f1e8a0fe00a0c"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void(*&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="_f_s_disk_serv___w32_8cpp.html#87b9c234664a4d2cfabf2071df203fa6">FSfree</a> )(void *mem) = free</td></tr>

</table>
<hr><h2>Define Documentation</h2>
<a class="anchor" name="1bd31ca46edf8a2f66c3890a2dbbe564"></a><!-- doxytag: member="FSDiskServ_W32.cpp::BLOCKS_PER_ALLOCATION" ref="1bd31ca46edf8a2f66c3890a2dbbe564" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define BLOCKS_PER_ALLOCATION&nbsp;&nbsp;&nbsp;1024          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
file header. 
<p>
File: FSDiskServ.cpp Author: Kevin Bray Created: 10-21-08 Copyright © 2004 Bootstrap Studios. All rights reserved. standard C includes. Win32 includes. various constants. These two numbers multiplied by eachother determine the maximum number of files that can be open simultaneously. 
<p>Definition at line <a class="el" href="_f_s_disk_serv___w32_8cpp-source.html#l00022">22</a> of file <a class="el" href="_f_s_disk_serv___w32_8cpp-source.html">FSDiskServ_W32.cpp</a>.</p>

</div>
</div><p>
<a class="anchor" name="dc1c85a7d6e638c59856846ef388ec3e"></a><!-- doxytag: member="FSDiskServ_W32.cpp::DISKCACHE_SIZE_CD" ref="dc1c85a7d6e638c59856846ef388ec3e" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DISKCACHE_SIZE_CD&nbsp;&nbsp;&nbsp;131072          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="_f_s_disk_serv___w32_8cpp-source.html#l00042">42</a> of file <a class="el" href="_f_s_disk_serv___w32_8cpp-source.html">FSDiskServ_W32.cpp</a>.</p>

</div>
</div><p>
<a class="anchor" name="4a3a2dd180a995d513762c53c95bd598"></a><!-- doxytag: member="FSDiskServ_W32.cpp::DISKCACHE_SIZE_DVD" ref="4a3a2dd180a995d513762c53c95bd598" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DISKCACHE_SIZE_DVD&nbsp;&nbsp;&nbsp;131072          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="_f_s_disk_serv___w32_8cpp-source.html#l00043">43</a> of file <a class="el" href="_f_s_disk_serv___w32_8cpp-source.html">FSDiskServ_W32.cpp</a>.</p>

</div>
</div><p>
<a class="anchor" name="05ce56e00d6fd51940257e8718ba3a88"></a><!-- doxytag: member="FSDiskServ_W32.cpp::DISKCACHE_SIZE_HDD" ref="05ce56e00d6fd51940257e8718ba3a88" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DISKCACHE_SIZE_HDD&nbsp;&nbsp;&nbsp;262144          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
drive cache sizes - This indicates the size of the cache on drives of the specific type. These numbers are set low to ensure the best possible performance on low end drives. 
<p>Definition at line <a class="el" href="_f_s_disk_serv___w32_8cpp-source.html#l00041">41</a> of file <a class="el" href="_f_s_disk_serv___w32_8cpp-source.html">FSDiskServ_W32.cpp</a>.</p>

</div>
</div><p>
<a class="anchor" name="96150d499acf07fef7ded70fd4fa64f9"></a><!-- doxytag: member="FSDiskServ_W32.cpp::DTYPE_CD" ref="96150d499acf07fef7ded70fd4fa64f9" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DTYPE_CD&nbsp;&nbsp;&nbsp;2          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="_f_s_disk_serv___w32_8cpp-source.html#l00033">33</a> of file <a class="el" href="_f_s_disk_serv___w32_8cpp-source.html">FSDiskServ_W32.cpp</a>.</p>

</div>
</div><p>
<a class="anchor" name="0585de32c9d4f05c6ffdac6cb1250a66"></a><!-- doxytag: member="FSDiskServ_W32.cpp::DTYPE_DVD" ref="0585de32c9d4f05c6ffdac6cb1250a66" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DTYPE_DVD&nbsp;&nbsp;&nbsp;3          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="_f_s_disk_serv___w32_8cpp-source.html#l00034">34</a> of file <a class="el" href="_f_s_disk_serv___w32_8cpp-source.html">FSDiskServ_W32.cpp</a>.</p>

</div>
</div><p>
<a class="anchor" name="59280ff0687459cac3fb71320979ffb4"></a><!-- doxytag: member="FSDiskServ_W32.cpp::DTYPE_HDD" ref="59280ff0687459cac3fb71320979ffb4" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DTYPE_HDD&nbsp;&nbsp;&nbsp;1          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="_f_s_disk_serv___w32_8cpp-source.html#l00032">32</a> of file <a class="el" href="_f_s_disk_serv___w32_8cpp-source.html">FSDiskServ_W32.cpp</a>.</p>

</div>
</div><p>
<a class="anchor" name="2a4fe9cb315ee694da76ba944eaf709a"></a><!-- doxytag: member="FSDiskServ_W32.cpp::DTYPE_UNKNOWN" ref="2a4fe9cb315ee694da76ba944eaf709a" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DTYPE_UNKNOWN&nbsp;&nbsp;&nbsp;0          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
drive types. 
<p>

<p>Definition at line <a class="el" href="_f_s_disk_serv___w32_8cpp-source.html#l00031">31</a> of file <a class="el" href="_f_s_disk_serv___w32_8cpp-source.html">FSDiskServ_W32.cpp</a>.</p>

</div>
</div><p>
<a class="anchor" name="73bbedde51b2263293c087d4ee3a45a9"></a><!-- doxytag: member="FSDiskServ_W32.cpp::LOOKAHEAD_COUNT_CD" ref="73bbedde51b2263293c087d4ee3a45a9" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define LOOKAHEAD_COUNT_CD&nbsp;&nbsp;&nbsp;512          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="_f_s_disk_serv___w32_8cpp-source.html#l00050">50</a> of file <a class="el" href="_f_s_disk_serv___w32_8cpp-source.html">FSDiskServ_W32.cpp</a>.</p>

</div>
</div><p>
<a class="anchor" name="a7e35654383715365ac83c6dc625d43d"></a><!-- doxytag: member="FSDiskServ_W32.cpp::LOOKAHEAD_COUNT_DVD" ref="a7e35654383715365ac83c6dc625d43d" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define LOOKAHEAD_COUNT_DVD&nbsp;&nbsp;&nbsp;512          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="_f_s_disk_serv___w32_8cpp-source.html#l00051">51</a> of file <a class="el" href="_f_s_disk_serv___w32_8cpp-source.html">FSDiskServ_W32.cpp</a>.</p>

</div>
</div><p>
<a class="anchor" name="2177b3fe8493058fb7fa092ecf8bdbd6"></a><!-- doxytag: member="FSDiskServ_W32.cpp::LOOKAHEAD_COUNT_HDD" ref="2177b3fe8493058fb7fa092ecf8bdbd6" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define LOOKAHEAD_COUNT_HDD&nbsp;&nbsp;&nbsp;128          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="_f_s_disk_serv___w32_8cpp-source.html#l00049">49</a> of file <a class="el" href="_f_s_disk_serv___w32_8cpp-source.html">FSDiskServ_W32.cpp</a>.</p>

</div>
</div><p>
<a class="anchor" name="c88e4ff9f0777c5ae5464096aa000832"></a><!-- doxytag: member="FSDiskServ_W32.cpp::LOOKAHEAD_SIZE_CD" ref="c88e4ff9f0777c5ae5464096aa000832" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define LOOKAHEAD_SIZE_CD&nbsp;&nbsp;&nbsp;65536          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="_f_s_disk_serv___w32_8cpp-source.html#l00046">46</a> of file <a class="el" href="_f_s_disk_serv___w32_8cpp-source.html">FSDiskServ_W32.cpp</a>.</p>

</div>
</div><p>
<a class="anchor" name="af5e2dcc3f408e04b8ec74c129404749"></a><!-- doxytag: member="FSDiskServ_W32.cpp::LOOKAHEAD_SIZE_DVD" ref="af5e2dcc3f408e04b8ec74c129404749" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define LOOKAHEAD_SIZE_DVD&nbsp;&nbsp;&nbsp;65536          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="_f_s_disk_serv___w32_8cpp-source.html#l00047">47</a> of file <a class="el" href="_f_s_disk_serv___w32_8cpp-source.html">FSDiskServ_W32.cpp</a>.</p>

</div>
</div><p>
<a class="anchor" name="7bbed87240f78355659b4285558e6a55"></a><!-- doxytag: member="FSDiskServ_W32.cpp::LOOKAHEAD_SIZE_HDD" ref="7bbed87240f78355659b4285558e6a55" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define LOOKAHEAD_SIZE_HDD&nbsp;&nbsp;&nbsp;65536          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="_f_s_disk_serv___w32_8cpp-source.html#l00045">45</a> of file <a class="el" href="_f_s_disk_serv___w32_8cpp-source.html">FSDiskServ_W32.cpp</a>.</p>

</div>
</div><p>
<a class="anchor" name="f4832b48e562107b481016b88342a01a"></a><!-- doxytag: member="FSDiskServ_W32.cpp::MAX_BLOCK_COUNT" ref="f4832b48e562107b481016b88342a01a" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MAX_BLOCK_COUNT&nbsp;&nbsp;&nbsp;1024          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="_f_s_disk_serv___w32_8cpp-source.html#l00023">23</a> of file <a class="el" href="_f_s_disk_serv___w32_8cpp-source.html">FSDiskServ_W32.cpp</a>.</p>

</div>
</div><p>
<a class="anchor" name="9d1051fc423c95127cfd80141482f402"></a><!-- doxytag: member="FSDiskServ_W32.cpp::MAX_DRIVE_COUNT" ref="9d1051fc423c95127cfd80141482f402" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MAX_DRIVE_COUNT&nbsp;&nbsp;&nbsp;32          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="_f_s_disk_serv___w32_8cpp-source.html#l00028">28</a> of file <a class="el" href="_f_s_disk_serv___w32_8cpp-source.html">FSDiskServ_W32.cpp</a>.</p>

</div>
</div><p>
<a class="anchor" name="ecc4c5fadbda3d12a5a810f93cf2fe43"></a><!-- doxytag: member="FSDiskServ_W32.cpp::MAX_PENDING_IO" ref="ecc4c5fadbda3d12a5a810f93cf2fe43" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MAX_PENDING_IO&nbsp;&nbsp;&nbsp;1024          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
this determines the maximum number of simultaneous asynchronous read/write operations. 
<p>Definition at line <a class="el" href="_f_s_disk_serv___w32_8cpp-source.html#l00027">27</a> of file <a class="el" href="_f_s_disk_serv___w32_8cpp-source.html">FSDiskServ_W32.cpp</a>.</p>

</div>
</div><p>
<a class="anchor" name="7d9a55bc9b2f042ecb83d94fe0e6aea1"></a><!-- doxytag: member="FSDiskServ_W32.cpp::SEEKBACK_SIZE_CD" ref="7d9a55bc9b2f042ecb83d94fe0e6aea1" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SEEKBACK_SIZE_CD&nbsp;&nbsp;&nbsp;2097152          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="_f_s_disk_serv___w32_8cpp-source.html#l00054">54</a> of file <a class="el" href="_f_s_disk_serv___w32_8cpp-source.html">FSDiskServ_W32.cpp</a>.</p>

</div>
</div><p>
<a class="anchor" name="7be663e58042a12b717c191c8ab8b5c5"></a><!-- doxytag: member="FSDiskServ_W32.cpp::SEEKBACK_SIZE_DVD" ref="7be663e58042a12b717c191c8ab8b5c5" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SEEKBACK_SIZE_DVD&nbsp;&nbsp;&nbsp;4194304          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="_f_s_disk_serv___w32_8cpp-source.html#l00055">55</a> of file <a class="el" href="_f_s_disk_serv___w32_8cpp-source.html">FSDiskServ_W32.cpp</a>.</p>

</div>
</div><p>
<a class="anchor" name="4f2067f0c6d65cc2382026aae315e15f"></a><!-- doxytag: member="FSDiskServ_W32.cpp::SEEKBACK_SIZE_HDD" ref="4f2067f0c6d65cc2382026aae315e15f" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SEEKBACK_SIZE_HDD&nbsp;&nbsp;&nbsp;8388608          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="_f_s_disk_serv___w32_8cpp-source.html#l00053">53</a> of file <a class="el" href="_f_s_disk_serv___w32_8cpp-source.html">FSDiskServ_W32.cpp</a>.</p>

</div>
</div><p>
<hr><h2>Typedef Documentation</h2>
<a class="anchor" name="630da930e26c1deb165f4229226561f2"></a><!-- doxytag: member="FSDiskServ_W32.cpp::SDrive" ref="630da930e26c1deb165f4229226561f2" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="struct_s_drive__t.html">SDrive_t</a>  <a class="el" href="struct_s_drive__t.html">SDrive</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="a3b8146975d5fc4207dff40a6dec6626"></a><!-- doxytag: member="FSDiskServ_W32.cpp::SFile" ref="a3b8146975d5fc4207dff40a6dec6626" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="struct_s_file__t.html">SFile_t</a>  <a class="el" href="struct_s_file__t.html">SFile</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
internal structures. 
<p>

</div>
</div><p>
<a class="anchor" name="095f7f554b6ae3aaab9b00f27d7f552d"></a><!-- doxytag: member="FSDiskServ_W32.cpp::SFileOp" ref="095f7f554b6ae3aaab9b00f27d7f552d" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="struct_s_file_op__t.html">SFileOp_t</a>  <a class="el" href="struct_s_file_op__t.html">SFileOp</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<hr><h2>Function Documentation</h2>
<a class="anchor" name="10cc1bec4052cb5632c89bc9b1b6e633"></a><!-- doxytag: member="FSDiskServ_W32.cpp::ConvertString" ref="10cc1bec4052cb5632c89bc9b1b6e633" args="(const FSchar *string)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TCHAR * ConvertString           </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="filesystem__afx_8h.html#08b81c947811e6def5d8994fd4d76481">FSchar</a> *&nbsp;</td>
          <td class="paramname"> <em>string</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
File local functions. 
<p>

<p>Definition at line <a class="el" href="_f_s_disk_serv___w32_8cpp-source.html#l00491">491</a> of file <a class="el" href="_f_s_disk_serv___w32_8cpp-source.html">FSDiskServ_W32.cpp</a>.</p>

</div>
</div><p>
<a class="anchor" name="cef30d4a2e6bb61af204268fb375313f"></a><!-- doxytag: member="FSDiskServ_W32.cpp::FreeString" ref="cef30d4a2e6bb61af204268fb375313f" args="(TCHAR *string)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void FreeString           </td>
          <td>(</td>
          <td class="paramtype">TCHAR *&nbsp;</td>
          <td class="paramname"> <em>string</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="_f_s_disk_serv___w32_8cpp-source.html#l00505">505</a> of file <a class="el" href="_f_s_disk_serv___w32_8cpp-source.html">FSDiskServ_W32.cpp</a>.</p>

</div>
</div><p>
<a class="anchor" name="29e88ae79f07f5d597e6729a4a66a76e"></a><!-- doxytag: member="FSDiskServ_W32.cpp::FS_CloseFile" ref="29e88ae79f07f5d597e6729a4a66a76e" args="(void *fileHandle)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void FS_CloseFile           </td>
          <td>(</td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>fileHandle</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>
get the file's entry.<p>
ensure that that handle is set to the invalid value. Simply return if the file has already been closed.<p>
flush the drive's queue to ensure that all read and write operations are finished.<p>
close the Win32 file.<p>
free the file-entry. 
<p>Definition at line <a class="el" href="_f_s_disk_serv___w32_8cpp-source.html#l00328">328</a> of file <a class="el" href="_f_s_disk_serv___w32_8cpp-source.html">FSDiskServ_W32.cpp</a>.</p>

</div>
</div><p>
<a class="anchor" name="c13642cf33b2e0afa23742d1d8f9d8dc"></a><!-- doxytag: member="FSDiskServ_W32.cpp::FS_GetFileSize" ref="c13642cf33b2e0afa23742d1d8f9d8dc" args="(void *fileHandle)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="filesystem__afx_8h.html#2dfedf2033eee861d23c808f79ed5837">FSsize</a> FS_GetFileSize           </td>
          <td>(</td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>fileHandle</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>
get the file's entry.<p>
flush the drive's queue to ensure that all write operations are finished.<p>
now get the file's size.<p>
return the file size. 
<p>Definition at line <a class="el" href="_f_s_disk_serv___w32_8cpp-source.html#l00357">357</a> of file <a class="el" href="_f_s_disk_serv___w32_8cpp-source.html">FSDiskServ_W32.cpp</a>.</p>

</div>
</div><p>
<a class="anchor" name="013362d3615068eee7220194a88a4d73"></a><!-- doxytag: member="FSDiskServ_W32.cpp::FS_IsComplete" ref="013362d3615068eee7220194a88a4d73" args="(volatile int *gate)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool FS_IsComplete           </td>
          <td>(</td>
          <td class="paramtype">volatile int *&nbsp;</td>
          <td class="paramname"> <em>gate</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
waits for and resets the gate's value. 
<p>

<p>
Return true if we reset the gate from non-zero to 0. 
<p>Definition at line <a class="el" href="_f_s_disk_serv___w32_8cpp-source.html#l00467">467</a> of file <a class="el" href="_f_s_disk_serv___w32_8cpp-source.html">FSDiskServ_W32.cpp</a>.</p>

</div>
</div><p>
<a class="anchor" name="34306284dd0c7f5c8f91de947b3e43f1"></a><!-- doxytag: member="FSDiskServ_W32.cpp::FS_IsReadComplete" ref="34306284dd0c7f5c8f91de947b3e43f1" args="(SFSFileReadBuffer *readBuffer)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool FS_IsReadComplete           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_s_f_s_file_read_buffer__t.html">SFSFileReadBuffer</a> *&nbsp;</td>
          <td class="paramname"> <em>readBuffer</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
checks and resets the gate's value. 
<p>

<p>Definition at line <a class="el" href="_f_s_disk_serv___w32_8cpp-source.html#l00474">474</a> of file <a class="el" href="_f_s_disk_serv___w32_8cpp-source.html">FSDiskServ_W32.cpp</a>.</p>

</div>
</div><p>
<a class="anchor" name="da15545e379beea3118877a61f7c4df6"></a><!-- doxytag: member="FSDiskServ_W32.cpp::FS_IsWriteComplete" ref="da15545e379beea3118877a61f7c4df6" args="(SFSFileWriteBuffer *writeBuffer)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool FS_IsWriteComplete           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_s_f_s_file_write_buffer__t.html">SFSFileWriteBuffer</a> *&nbsp;</td>
          <td class="paramname"> <em>writeBuffer</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="_f_s_disk_serv___w32_8cpp-source.html#l00480">480</a> of file <a class="el" href="_f_s_disk_serv___w32_8cpp-source.html">FSDiskServ_W32.cpp</a>.</p>

</div>
</div><p>
<a class="anchor" name="64815f6582883caa8b5e134620e36d47"></a><!-- doxytag: member="FSDiskServ_W32.cpp::FS_OpenFile" ref="64815f6582883caa8b5e134620e36d47" args="(const FSchar *name, unsigned int flags)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void* FS_OpenFile           </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="filesystem__afx_8h.html#08b81c947811e6def5d8994fd4d76481">FSchar</a> *&nbsp;</td>
          <td class="paramname"> <em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&nbsp;</td>
          <td class="paramname"> <em>flags</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>
First, immediately open the file. determine the Win32 access flags.<p>
determine the Win32 creation flags.<p>
determine the Win32 attribute flags.<p>
determine the Win32 file sharing flags.<p>
map the incoming string from UTF-8 to UCS-2.<p>
try open the file. If the file cannot be opened, simply return NULL.<p>
determine the length of the full path name of the file.<p>
get the file's full path name.<p>
Now determine what drive the file lies on.<p>
if we have a drive specifier, get the drive information.<p>
free the full path.<p>
free the UCS-2 string.<p>
ensure that *nothing* about the file is cached in memory.<p>
if we got here, then we need to grab a new file entry to return to the user. Spin until we gain control of the free list.<p>
allocate an item from the free list.<p>
make sure there is room for a new block.<p>
allocate file structures, aligned on 2K boundaries. Note that we simply use the alignment to determine where new memory blocks begin to keep from having to track blocks. This may be wasteful, depending on how the <a class="el" href="common__afx_8cpp.html#408828bf7887e862154788b40930b54a" title="aligned memory allocation">AlignedAlloc()</a> is implemented.<p>
link the file structures together.<p>
terminate the last link with null.<p>
register the block and advance the '_freeRegistered' count.<p>
grab a free file entry.<p>
release the free list gate.<p>
fill out the file-entry's data.<p>
get the file's physical address.<p>
if we successfully issued a command for the file's physical address, set it to the file entry. Otherwise, just assume that the file is at location 0. Note that on NTFS systems, small files are stored in the MFT if possible.<p>
wait for the DeviceIoControl() operation to complete.<p>
store the file's location on the disk.<p>
free the event we created for the DeviceIoControl operation.<p>
return the file-entry pointer. 
<p>Definition at line <a class="el" href="_f_s_disk_serv___w32_8cpp-source.html#l00167">167</a> of file <a class="el" href="_f_s_disk_serv___w32_8cpp-source.html">FSDiskServ_W32.cpp</a>.</p>

</div>
</div><p>
<a class="anchor" name="9e21afbbba101c7dc7be9a43fd5291f6"></a><!-- doxytag: member="FSDiskServ_W32.cpp::FS_ReadFile" ref="9e21afbbba101c7dc7be9a43fd5291f6" args="(SFSFileReadBuffer *dst, void *file, FSsize offset, unsigned int size)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void FS_ReadFile           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_s_f_s_file_read_buffer__t.html">SFSFileReadBuffer</a> *&nbsp;</td>
          <td class="paramname"> <em>dst</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="filesystem__afx_8h.html#2dfedf2033eee861d23c808f79ed5837">FSsize</a>&nbsp;</td>
          <td class="paramname"> <em>offset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&nbsp;</td>
          <td class="paramname"> <em>size</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>
get the file handle.<p>
acquire the push lock.<p>
determine if there is room on the queue. If not, we need to wait until there is.<p>
issue the read on our worker thread.<p>
fill out the current operation.<p>
if we got here, then the command can be safely issued.<p>
advance the push index.<p>
release the push lock. 
<p>Definition at line <a class="el" href="_f_s_disk_serv___w32_8cpp-source.html#l00375">375</a> of file <a class="el" href="_f_s_disk_serv___w32_8cpp-source.html">FSDiskServ_W32.cpp</a>.</p>

</div>
</div><p>
<a class="anchor" name="639bb9787444e8c425eec0256793d968"></a><!-- doxytag: member="FSDiskServ_W32.cpp::FS_ScanDrives" ref="639bb9787444e8c425eec0256793d968" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void FS_ScanDrives           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Global functions. 
<p>
File management functions. 
<p>
enumerate through logical drives. 
<p>Definition at line <a class="el" href="_f_s_disk_serv___w32_8cpp-source.html#l00154">154</a> of file <a class="el" href="_f_s_disk_serv___w32_8cpp-source.html">FSDiskServ_W32.cpp</a>.</p>

</div>
</div><p>
<a class="anchor" name="b8abbd85f1942b0f3dca1793ea4e8978"></a><!-- doxytag: member="FSDiskServ_W32.cpp::FS_Wait" ref="b8abbd85f1942b0f3dca1793ea4e8978" args="(volatile int *gate)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void FS_Wait           </td>
          <td>(</td>
          <td class="paramtype">volatile int *&nbsp;</td>
          <td class="paramname"> <em>gate</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>
wait for a file operation to be completed. 
<p>Definition at line <a class="el" href="_f_s_disk_serv___w32_8cpp-source.html#l00459">459</a> of file <a class="el" href="_f_s_disk_serv___w32_8cpp-source.html">FSDiskServ_W32.cpp</a>.</p>

</div>
</div><p>
<a class="anchor" name="c7abe5c9b19a9611de00573a09fd3a61"></a><!-- doxytag: member="FSDiskServ_W32.cpp::FS_WriteFile" ref="c7abe5c9b19a9611de00573a09fd3a61" args="(void *file, FSsize offset, SFSFileWriteBuffer *src, unsigned int size)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void FS_WriteFile           </td>
          <td>(</td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="filesystem__afx_8h.html#2dfedf2033eee861d23c808f79ed5837">FSsize</a>&nbsp;</td>
          <td class="paramname"> <em>offset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_s_f_s_file_write_buffer__t.html">SFSFileWriteBuffer</a> *&nbsp;</td>
          <td class="paramname"> <em>src</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&nbsp;</td>
          <td class="paramname"> <em>size</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>
get the file handle.<p>
acquire the push lock.<p>
determine if there is room on the queue. If not, we need to wait until there is.<p>
issue the write on our worker thread.<p>
fill out the current operation.<p>
if we got here, then the command can be safely issued.<p>
advance the push index.<p>
release the push lock. 
<p>Definition at line <a class="el" href="_f_s_disk_serv___w32_8cpp-source.html#l00417">417</a> of file <a class="el" href="_f_s_disk_serv___w32_8cpp-source.html">FSDiskServ_W32.cpp</a>.</p>

</div>
</div><p>
<hr><h2>Variable Documentation</h2>
<a class="anchor" name="87b9c234664a4d2cfabf2071df203fa6"></a><!-- doxytag: member="FSDiskServ_W32.cpp::FSfree" ref="87b9c234664a4d2cfabf2071df203fa6" args=")(void *mem)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void( * <a class="el" href="_f_s_disk_serv___w32_8cpp.html#87b9c234664a4d2cfabf2071df203fa6">FSfree</a>)(void *mem) = free          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="552500941af2ffc7f64f1e8a0fe00a0c"></a><!-- doxytag: member="FSDiskServ_W32.cpp::FSmalloc" ref="552500941af2ffc7f64f1e8a0fe00a0c" args=")(size_t size)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void*( * <a class="el" href="_f_s_disk_serv___w32_8cpp.html#552500941af2ffc7f64f1e8a0fe00a0c">FSmalloc</a>)(size_t <a class="el" href="glext__bak_8h.html#3d1e3edfcf61ca2d831883e1afbad89e">size</a>) = malloc          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Memory management routines. 
<p>

</div>
</div><p>
</div>
<hr size="1"><address style="text-align: right;"><small>Generated on Fri Feb 13 17:20:01 2009 for Bootstrap Engine by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.8 </small></address>
</body>
</html>
