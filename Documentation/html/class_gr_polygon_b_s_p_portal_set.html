<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>Bootstrap Engine: GrPolygonBSPPortalSet Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css">
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.8 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="annotated.html"><span>Class&nbsp;List</span></a></li>
      <li><a href="hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&nbsp;Members</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>GrPolygonBSPPortalSet Class Reference</h1><!-- doxytag: class="GrPolygonBSPPortalSet" -->class <a class="el" href="class_gr_polygon_b_s_p_portal_set.html" title="class GrPolygonBSPPortalSet">GrPolygonBSPPortalSet</a>  
<a href="#_details">More...</a>
<p>
<code>#include &lt;<a class="el" href="_gr_polygon_b_s_p_portal_set_8h-source.html">GrPolygonBSPPortalSet.h</a>&gt;</code>
<p>

<p>
<a href="class_gr_polygon_b_s_p_portal_set-members.html">List of all members.</a><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_gr_polygon_b_s_p_portal_set.html#8c999dbeada3a6fd085881a5cd9a6fac">GrPolygonBSPPortalSet</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">class header.  <a href="#8c999dbeada3a6fd085881a5cd9a6fac"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_gr_polygon_b_s_p_portal_set.html#e3a1f400a459229a3e8c77d6480cea86">GrPolygonBSPPortalSet</a> (<a class="el" href="class_gr_polygon_b_s_p_split.html">GrPolygonBSPSplit</a> *split, float <a class="el" href="glext__bak_8h.html#281421b881aa7a1266842b73a3bc7655">scale</a>)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_gr_polygon_b_s_p_portal_set.html#cf0bf0c229585ce6f1ffd51991c4f2a1">~GrPolygonBSPPortalSet</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_gr_polygon_b_s_p_portal_set.html#c5d3b95b76f34209537fcbe66e47aa9f">Subtract</a> (const <a class="el" href="class_gr_polygon.html">GrPolygon</a> &amp;polygon, float epsilon)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">public methods  <a href="#c5d3b95b76f34209537fcbe66e47aa9f"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_gr_polygon_b_s_p_portal_set.html#9215f97cca8ae51fc89dd82487fc14f2">Split</a> (<a class="el" href="class_gr_polygon_b_s_p_portal_set.html">GrPolygonBSPPortalSet</a> &amp;front, <a class="el" href="class_gr_polygon_b_s_p_portal_set.html">GrPolygonBSPPortalSet</a> &amp;back, const <a class="el" href="class_m_plane.html">MPlane</a> &amp;plane, float epsilon) const </td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">splits the portal polygons into two groups.  <a href="#9215f97cca8ae51fc89dd82487fc14f2"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_gr_polygon_b_s_p_portal_set.html#c5ed27275dfb126e94fbf1da5a5e787f">ReverseWinding</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">reverses the winding of all portals in the set.  <a href="#c5ed27275dfb126e94fbf1da5a5e787f"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">unsigned int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_gr_polygon_b_s_p_portal_set.html#d159b8572928f77a50b23264da9a95ac">GetPortalCount</a> () const </td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">generate frustums from portal geometry.  <a href="#d159b8572928f77a50b23264da9a95ac"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">const <a class="el" href="class_gr_portal.html">GrPortal</a> &amp;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_gr_polygon_b_s_p_portal_set.html#e771e0ac35b02fd0f7c229121e50e561">GetPortal</a> (unsigned int idx) const </td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_gr_polygon_b_s_p_portal_set.html#d91efd1c01bb37833352a012336cca60">GenCullPlaneSet</a> (std::vector&lt; <a class="el" href="class_m_plane.html">MPlane</a> &gt; &amp;planes, const <a class="el" href="class_gr_portal.html">GrPortal</a> &amp;fromPortal, unsigned int portalIdx, bool best, bool cache=true) const </td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">const <a class="el" href="class_gr_portal.html">GrPortal</a> &amp;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_gr_polygon_b_s_p_portal_set.html#b93adfe1f6c1cd860044c8531a933d99">GetHullPortal</a> () const </td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">returns a portal that is the convex hull of all portals.  <a href="#b93adfe1f6c1cd860044c8531a933d99"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_gr_polygon_b_s_p_portal_set.html#bf746cf2cfeaf5b44a803625986ba073">SetOwner</a> (<a class="el" href="class_gr_polygon_b_s_p_area.html">GrPolygonBSPArea</a> *owner)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">area management.  <a href="#bf746cf2cfeaf5b44a803625986ba073"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_gr_polygon_b_s_p_portal_set.html#d095e8a7483db5cbe0fc518b234bf964">SetNeighbor</a> (<a class="el" href="class_gr_polygon_b_s_p_area.html">GrPolygonBSPArea</a> *neighbor)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">const <a class="el" href="class_m_plane.html">MPlane</a> &amp;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_gr_polygon_b_s_p_portal_set.html#c58d0feb66fa4c5d875df0d25e7ad352">GetPlane</a> () const </td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="class_gr_polygon_b_s_p_split.html">GrPolygonBSPSplit</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_gr_polygon_b_s_p_portal_set.html#c4ae6e28d3a43e9dea180ba4c1b05f47">GetCreator</a> () const </td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="class_gr_polygon_b_s_p_area.html">GrPolygonBSPArea</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_gr_polygon_b_s_p_portal_set.html#84098f84d7dbf0ec066aaa6ad30aa1e1">GetOwner</a> () const </td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="class_gr_polygon_b_s_p_area.html">GrPolygonBSPArea</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_gr_polygon_b_s_p_portal_set.html#1828ab2d1236459003e49503672f4b6c">GetNeighbor</a> () const </td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="class_gr_mesh_inst.html">GrMeshInst</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_gr_polygon_b_s_p_portal_set.html#bb6f1689a2f57169d9e5a41d2e664bc1">GenMesh</a> (<a class="el" href="class_u_ref.html">URef</a>&lt; <a class="el" href="class_gr_material.html">GrMaterial</a> &gt; material)</td></tr>

</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
class <a class="el" href="class_gr_polygon_b_s_p_portal_set.html" title="class GrPolygonBSPPortalSet">GrPolygonBSPPortalSet</a> 
<p>Definition at line <a class="el" href="_gr_polygon_b_s_p_portal_set_8h-source.html#l00035">35</a> of file <a class="el" href="_gr_polygon_b_s_p_portal_set_8h-source.html">GrPolygonBSPPortalSet.h</a>.</p>
<hr><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" name="8c999dbeada3a6fd085881a5cd9a6fac"></a><!-- doxytag: member="GrPolygonBSPPortalSet::GrPolygonBSPPortalSet" ref="8c999dbeada3a6fd085881a5cd9a6fac" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">GrPolygonBSPPortalSet::GrPolygonBSPPortalSet           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
class header. 
<p>
project includes. class GrBSPPortal ctor &amp; dtor 
<p>Definition at line <a class="el" href="_gr_polygon_b_s_p_portal_set_8cpp-source.html#l00028">28</a> of file <a class="el" href="_gr_polygon_b_s_p_portal_set_8cpp-source.html">GrPolygonBSPPortalSet.cpp</a>.</p>

</div>
</div><p>
<a class="anchor" name="e3a1f400a459229a3e8c77d6480cea86"></a><!-- doxytag: member="GrPolygonBSPPortalSet::GrPolygonBSPPortalSet" ref="e3a1f400a459229a3e8c77d6480cea86" args="(GrPolygonBSPSplit *split, float scale)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">GrPolygonBSPPortalSet::GrPolygonBSPPortalSet           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_gr_polygon_b_s_p_split.html">GrPolygonBSPSplit</a> *&nbsp;</td>
          <td class="paramname"> <em>split</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&nbsp;</td>
          <td class="paramname"> <em>scale</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="_gr_polygon_b_s_p_portal_set_8cpp-source.html#l00042">42</a> of file <a class="el" href="_gr_polygon_b_s_p_portal_set_8cpp-source.html">GrPolygonBSPPortalSet.cpp</a>.</p>

</div>
</div><p>
<a class="anchor" name="cf0bf0c229585ce6f1ffd51991c4f2a1"></a><!-- doxytag: member="GrPolygonBSPPortalSet::~GrPolygonBSPPortalSet" ref="cf0bf0c229585ce6f1ffd51991c4f2a1" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">GrPolygonBSPPortalSet::~GrPolygonBSPPortalSet           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="_gr_polygon_b_s_p_portal_set_8cpp-source.html#l00060">60</a> of file <a class="el" href="_gr_polygon_b_s_p_portal_set_8cpp-source.html">GrPolygonBSPPortalSet.cpp</a>.</p>

</div>
</div><p>
<hr><h2>Member Function Documentation</h2>
<a class="anchor" name="d91efd1c01bb37833352a012336cca60"></a><!-- doxytag: member="GrPolygonBSPPortalSet::GenCullPlaneSet" ref="d91efd1c01bb37833352a012336cca60" args="(std::vector&lt; MPlane &gt; &amp;planes, const GrPortal &amp;fromPortal, unsigned int portalIdx, bool best, bool cache=true) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void GrPolygonBSPPortalSet::GenCullPlaneSet           </td>
          <td>(</td>
          <td class="paramtype">std::vector&lt; <a class="el" href="class_m_plane.html">MPlane</a> &gt; &amp;&nbsp;</td>
          <td class="paramname"> <em>planes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="class_gr_portal.html">GrPortal</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>fromPortal</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&nbsp;</td>
          <td class="paramname"> <em>portalIdx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&nbsp;</td>
          <td class="paramname"> <em>best</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&nbsp;</td>
          <td class="paramname"> <em>cache</em> = <code>true</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>
can we use the use cache?<p>
check to see if we need to flip the winding of the portal we're looking at.<p>
if the portal we're looking at is facing away from the current portal, then we need to reverse it's winding.<p>
now we can go through the edges of the plane we're looking at.<p>
worst possible value (cosine between portal face normals).<p>
get the current edge on the plane we're looking at.<p>
go through all vertices in the plane we're looking from in search of the best plane.<p>
calculate the normal of the current plane.<p>
check to see if the current plane is better than the previous plane.<p>
make sure that the bestDP was actually set. If not, then we didn't find ANY good planes... just means we have shared vertices.<p>
create the best plane (plane that is most coplanar to the portal we're looking at).<p>
create the best plane (plane that is most coplanar to the portal we're looking at). 
<p>Definition at line <a class="el" href="_gr_polygon_b_s_p_portal_set_8cpp-source.html#l00283">283</a> of file <a class="el" href="_gr_polygon_b_s_p_portal_set_8cpp-source.html">GrPolygonBSPPortalSet.cpp</a>.</p>

</div>
</div><p>
<a class="anchor" name="bb6f1689a2f57169d9e5a41d2e664bc1"></a><!-- doxytag: member="GrPolygonBSPPortalSet::GenMesh" ref="bb6f1689a2f57169d9e5a41d2e664bc1" args="(URef&lt; GrMaterial &gt; material)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_gr_mesh_inst.html">GrMeshInst</a> * GrPolygonBSPPortalSet::GenMesh           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_u_ref.html">URef</a>&lt; <a class="el" href="class_gr_material.html">GrMaterial</a> &gt;&nbsp;</td>
          <td class="paramname"> <em>material</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
generates a renderable mesh from the portal geometry. This is for debugging purposes only. 
<p>
return NULL if there are no polygons in the portal.<p>
create a new group and add our polygons to it.<p>
build the current polygon.<p>
set the polygon's vertices and add it to the group.<p>
delete the temporary array of vertices.<p>
next polygon.<p>
return null if there are no non-degenerate polygons.<p>
generate a tangent space basis so that any material can be applied to it.<p>
generate renderable meshes.<p>
there should only ever be one mesh in this case!<p>
return our mesh. 
<p>Definition at line <a class="el" href="_gr_polygon_b_s_p_portal_set_8cpp-source.html#l00464">464</a> of file <a class="el" href="_gr_polygon_b_s_p_portal_set_8cpp-source.html">GrPolygonBSPPortalSet.cpp</a>.</p>

</div>
</div><p>
<a class="anchor" name="c4ae6e28d3a43e9dea180ba4c1b05f47"></a><!-- doxytag: member="GrPolygonBSPPortalSet::GetCreator" ref="c4ae6e28d3a43e9dea180ba4c1b05f47" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_gr_polygon_b_s_p_split.html">GrPolygonBSPSplit</a>* GrPolygonBSPPortalSet::GetCreator           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td> const<code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="_gr_polygon_b_s_p_portal_set_8h-source.html#l00066">66</a> of file <a class="el" href="_gr_polygon_b_s_p_portal_set_8h-source.html">GrPolygonBSPPortalSet.h</a>.</p>

</div>
</div><p>
<a class="anchor" name="b93adfe1f6c1cd860044c8531a933d99"></a><!-- doxytag: member="GrPolygonBSPPortalSet::GetHullPortal" ref="b93adfe1f6c1cd860044c8531a933d99" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="class_gr_portal.html">GrPortal</a> &amp; GrPolygonBSPPortalSet::GetHullPortal           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
returns a portal that is the convex hull of all portals. 
<p>

<p>
clear the dirty flag.<p>
return the new hull portal. 
<p>Definition at line <a class="el" href="_gr_polygon_b_s_p_portal_set_8cpp-source.html#l00411">411</a> of file <a class="el" href="_gr_polygon_b_s_p_portal_set_8cpp-source.html">GrPolygonBSPPortalSet.cpp</a>.</p>

</div>
</div><p>
<a class="anchor" name="1828ab2d1236459003e49503672f4b6c"></a><!-- doxytag: member="GrPolygonBSPPortalSet::GetNeighbor" ref="1828ab2d1236459003e49503672f4b6c" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_gr_polygon_b_s_p_area.html">GrPolygonBSPArea</a>* GrPolygonBSPPortalSet::GetNeighbor           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td> const<code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="_gr_polygon_b_s_p_portal_set_8h-source.html#l00068">68</a> of file <a class="el" href="_gr_polygon_b_s_p_portal_set_8h-source.html">GrPolygonBSPPortalSet.h</a>.</p>

</div>
</div><p>
<a class="anchor" name="84098f84d7dbf0ec066aaa6ad30aa1e1"></a><!-- doxytag: member="GrPolygonBSPPortalSet::GetOwner" ref="84098f84d7dbf0ec066aaa6ad30aa1e1" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_gr_polygon_b_s_p_area.html">GrPolygonBSPArea</a>* GrPolygonBSPPortalSet::GetOwner           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td> const<code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="_gr_polygon_b_s_p_portal_set_8h-source.html#l00067">67</a> of file <a class="el" href="_gr_polygon_b_s_p_portal_set_8h-source.html">GrPolygonBSPPortalSet.h</a>.</p>

</div>
</div><p>
<a class="anchor" name="c58d0feb66fa4c5d875df0d25e7ad352"></a><!-- doxytag: member="GrPolygonBSPPortalSet::GetPlane" ref="c58d0feb66fa4c5d875df0d25e7ad352" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="class_m_plane.html">MPlane</a>&amp; GrPolygonBSPPortalSet::GetPlane           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td> const<code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="_gr_polygon_b_s_p_portal_set_8h-source.html#l00064">64</a> of file <a class="el" href="_gr_polygon_b_s_p_portal_set_8h-source.html">GrPolygonBSPPortalSet.h</a>.</p>

</div>
</div><p>
<a class="anchor" name="e771e0ac35b02fd0f7c229121e50e561"></a><!-- doxytag: member="GrPolygonBSPPortalSet::GetPortal" ref="e771e0ac35b02fd0f7c229121e50e561" args="(unsigned int idx) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="class_gr_portal.html">GrPortal</a> &amp; GrPolygonBSPPortalSet::GetPortal           </td>
          <td>(</td>
          <td class="paramtype">unsigned int&nbsp;</td>
          <td class="paramname"> <em>idx</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="_gr_polygon_b_s_p_portal_set_8cpp-source.html#l00275">275</a> of file <a class="el" href="_gr_polygon_b_s_p_portal_set_8cpp-source.html">GrPolygonBSPPortalSet.cpp</a>.</p>

</div>
</div><p>
<a class="anchor" name="d159b8572928f77a50b23264da9a95ac"></a><!-- doxytag: member="GrPolygonBSPPortalSet::GetPortalCount" ref="d159b8572928f77a50b23264da9a95ac" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned int GrPolygonBSPPortalSet::GetPortalCount           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
generate frustums from portal geometry. 
<p>

<p>Definition at line <a class="el" href="_gr_polygon_b_s_p_portal_set_8cpp-source.html#l00268">268</a> of file <a class="el" href="_gr_polygon_b_s_p_portal_set_8cpp-source.html">GrPolygonBSPPortalSet.cpp</a>.</p>

</div>
</div><p>
<a class="anchor" name="c5ed27275dfb126e94fbf1da5a5e787f"></a><!-- doxytag: member="GrPolygonBSPPortalSet::ReverseWinding" ref="c5ed27275dfb126e94fbf1da5a5e787f" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void GrPolygonBSPPortalSet::ReverseWinding           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
reverses the winding of all portals in the set. 
<p>

<p>
get the portal count.<p>
reverse the normal on the plane. 
<p>Definition at line <a class="el" href="_gr_polygon_b_s_p_portal_set_8cpp-source.html#l00252">252</a> of file <a class="el" href="_gr_polygon_b_s_p_portal_set_8cpp-source.html">GrPolygonBSPPortalSet.cpp</a>.</p>

</div>
</div><p>
<a class="anchor" name="d095e8a7483db5cbe0fc518b234bf964"></a><!-- doxytag: member="GrPolygonBSPPortalSet::SetNeighbor" ref="d095e8a7483db5cbe0fc518b234bf964" args="(GrPolygonBSPArea *neighbor)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void GrPolygonBSPPortalSet::SetNeighbor           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_gr_polygon_b_s_p_area.html">GrPolygonBSPArea</a> *&nbsp;</td>
          <td class="paramname"> <em>neighbor</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="_gr_polygon_b_s_p_portal_set_8cpp-source.html#l00436">436</a> of file <a class="el" href="_gr_polygon_b_s_p_portal_set_8cpp-source.html">GrPolygonBSPPortalSet.cpp</a>.</p>

</div>
</div><p>
<a class="anchor" name="bf746cf2cfeaf5b44a803625986ba073"></a><!-- doxytag: member="GrPolygonBSPPortalSet::SetOwner" ref="bf746cf2cfeaf5b44a803625986ba073" args="(GrPolygonBSPArea *owner)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void GrPolygonBSPPortalSet::SetOwner           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_gr_polygon_b_s_p_area.html">GrPolygonBSPArea</a> *&nbsp;</td>
          <td class="paramname"> <em>owner</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
area management. 
<p>

<p>Definition at line <a class="el" href="_gr_polygon_b_s_p_portal_set_8cpp-source.html#l00429">429</a> of file <a class="el" href="_gr_polygon_b_s_p_portal_set_8cpp-source.html">GrPolygonBSPPortalSet.cpp</a>.</p>

</div>
</div><p>
<a class="anchor" name="9215f97cca8ae51fc89dd82487fc14f2"></a><!-- doxytag: member="GrPolygonBSPPortalSet::Split" ref="9215f97cca8ae51fc89dd82487fc14f2" args="(GrPolygonBSPPortalSet &amp;front, GrPolygonBSPPortalSet &amp;back, const MPlane &amp;plane, float epsilon) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int GrPolygonBSPPortalSet::Split           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_gr_polygon_b_s_p_portal_set.html">GrPolygonBSPPortalSet</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>front</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_gr_polygon_b_s_p_portal_set.html">GrPolygonBSPPortalSet</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>back</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="class_m_plane.html">MPlane</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>plane</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&nbsp;</td>
          <td class="paramname"> <em>epsilon</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
splits the portal polygons into two groups. 
<p>

<p>
clear any polygons.<p>
get the portal count.<p>
get the current polygon.<p>
split the polygon.<p>
put the polygon(s) into the correct portal.<p>
return -1 of only the back has polygons and return 1 if only the front has polygons.<p>
return 0 since both have polygons. 
<p>Definition at line <a class="el" href="_gr_polygon_b_s_p_portal_set_8cpp-source.html#l00203">203</a> of file <a class="el" href="_gr_polygon_b_s_p_portal_set_8cpp-source.html">GrPolygonBSPPortalSet.cpp</a>.</p>

</div>
</div><p>
<a class="anchor" name="c5d3b95b76f34209537fcbe66e47aa9f"></a><!-- doxytag: member="GrPolygonBSPPortalSet::Subtract" ref="c5d3b95b76f34209537fcbe66e47aa9f" args="(const GrPolygon &amp;polygon, float epsilon)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool GrPolygonBSPPortalSet::Subtract           </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_gr_polygon.html">GrPolygon</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>polygon</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&nbsp;</td>
          <td class="paramname"> <em>epsilon</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
public methods 
<p>
subtracts a polygon from this geometry. Returns true if there are still polygons left after the subtraction. False otherwise. 
<p>
mark the hull as dirty.<p>
TODO: Rewrite this for better performance. If this is done on a per polygon basis, then we could get much better performance. This would be because fewer polygons would be created.<p>
for each polygon: for each plane, split polygon. remove polygon from list. remove polygons on same side of all planes. add remaining polygons only if a polygon was removed, otherwise add the original polygon back to the list.<p>
build a list of planes that face inward from the polygon passed in.<p>
determine the previous and current vertices.<p>
calculate the current edge.<p>
calculate the new plane's normal.<p>
ignore this edge if it's degenerate.<p>
ensure that the plane is facing inward.<p>
normalize the plane's normal.<p>
build the new plane and add.<p>
get the number of planes (should be one for every edge).<p>
check to see if the current portal is entirely on the negative side of any of the planes.<p>
go through all the vertices and see if they're all on the negative side of the current plane.<p>
do we need to early out?<p>
split the current portal by the planes. Only keep whats on the negative side. Things on the positive side replace whats currently in the portal's vertex list.<p>
split.<p>
add to our list of portals we should keep.<p>
replace current portal... will be split with next plane.<p>
nothing left to split!<p>
return true if there are portals still left. 
<p>Definition at line <a class="el" href="_gr_polygon_b_s_p_portal_set_8cpp-source.html#l00072">72</a> of file <a class="el" href="_gr_polygon_b_s_p_portal_set_8cpp-source.html">GrPolygonBSPPortalSet.cpp</a>.</p>

</div>
</div><p>
<hr>The documentation for this class was generated from the following files:<ul>
<li>C:/Bootstrap/ProjectBX/Documentation/Code/Engine/Graphics/<a class="el" href="_gr_polygon_b_s_p_portal_set_8h-source.html">GrPolygonBSPPortalSet.h</a><li>C:/Bootstrap/ProjectBX/Documentation/Code/Engine/Graphics/<a class="el" href="_gr_polygon_b_s_p_portal_set_8cpp-source.html">GrPolygonBSPPortalSet.cpp</a></ul>
</div>
<hr size="1"><address style="text-align: right;"><small>Generated on Fri Feb 13 17:20:05 2009 for Bootstrap Engine by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.8 </small></address>
</body>
</html>
