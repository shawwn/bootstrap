<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>Bootstrap Engine: MRay Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css">
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.8 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="annotated.html"><span>Class&nbsp;List</span></a></li>
      <li><a href="hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&nbsp;Members</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>MRay Class Reference</h1><!-- doxytag: class="MRay" -->class <a class="el" href="class_m_ray.html" title="class MRay">MRay</a>  
<a href="#_details">More...</a>
<p>
<code>#include &lt;<a class="el" href="_m_ray_8h-source.html">MRay.h</a>&gt;</code>
<p>

<p>
<a href="class_m_ray-members.html">List of all members.</a><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_m_ray.html#5babd699f32d3d26c009a23fb7a16079">MRay</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">class header.  <a href="#5babd699f32d3d26c009a23fb7a16079"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_m_ray.html#c9fb26538c0007be7fc62fda53519653">MRay</a> (const <a class="el" href="class_m_vec3.html">MVec3</a> &amp;<a class="el" href="glext__bak_8h.html#c55adc720a3098c1b454d2a4647f4361">start</a>, const <a class="el" href="class_m_vec3.html">MVec3</a> &amp;dir)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_m_ray.html#23fc1bdfd8238df1124a73f541dd4563">~MRay</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_m_ray.html#116cc00ec9c732cf178a57a8110b3efe">SetStart</a> (const <a class="el" href="class_m_vec3.html">MVec3</a> &amp;<a class="el" href="glext__bak_8h.html#c55adc720a3098c1b454d2a4647f4361">start</a>)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_m_ray.html#8239de44f8ebfe53f5d702aafb2e4804">SetDir</a> (const <a class="el" href="class_m_vec3.html">MVec3</a> &amp;dir)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">public methods  <a href="#8239de44f8ebfe53f5d702aafb2e4804"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_m_ray.html#5736afa27c05767f237c46842dece57f">SetDirFast</a> (const <a class="el" href="class_m_vec3.html">MVec3</a> &amp;dir)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">const <a class="el" href="class_m_vec3.html">MVec3</a> &amp;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_m_ray.html#50cd4ec247b5df4a4a336478a3a19c91">GetStart</a> () const </td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">const <a class="el" href="class_m_vec3.html">MVec3</a> &amp;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_m_ray.html#cd7ab740f3c8ff43dd79f95ed9a969b6">GetDir</a> () const </td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_m_ray.html#d58f4fca993f73968696e69fa58f4a93">Intersect</a> (const <a class="el" href="class_m_a_a_box.html">MAABox</a> &amp;box, float maxDist=FLT_MAX) const </td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">returns true if the ray intersects with the box provided.  <a href="#d58f4fca993f73968696e69fa58f4a93"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_m_ray.html#fb0bbae116de05c8e324382792caa4c0">Intersect</a> (<a class="el" href="class_m_vec3.html">MVec3</a> &amp;hitLoc, const <a class="el" href="class_m_a_a_box.html">MAABox</a> &amp;box, float maxDist=FLT_MAX) const </td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_m_ray.html#a1ba271e3402f579aa42db8bf9ff42f0">Intersect</a> (const <a class="el" href="class_m_o_box.html">MOBox</a> &amp;box) const </td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_m_ray.html#31a2e259d2ce5afbe1c7ee8cbcc60e63">Intersect</a> (<a class="el" href="class_m_vec3.html">MVec3</a> &amp;<a class="el" href="glext__bak_8h.html#4ad6f000813afde2b5727cbfdddc75be">coord</a>, const <a class="el" href="class_m_o_box.html">MOBox</a> &amp;box) const </td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_m_ray.html#ec4c564ad95eae52d3113431b89e1196">Intersect</a> (const <a class="el" href="class_m_sphere.html">MSphere</a> &amp;sphere) const </td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="class_m_ray.html">MRay</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_m_ray.html#7cd16f0d5b6882ebc5cf2f381af6e02a">Transform</a> (const <a class="el" href="class_m_mat4x4.html">MMat4x4</a> &amp;mat, const <a class="el" href="class_m_mat3x3.html">MMat3x3</a> &amp;normalRot) const </td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">transforms the ray.  <a href="#7cd16f0d5b6882ebc5cf2f381af6e02a"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_m_ray.html#e8b4fd4410de61bd1e3d8db92e0bcbb7">Intersect</a> (<a class="el" href="class_m_vec3.html">MVec3</a> &amp;hitPos, const <a class="el" href="class_m_plane.html">MPlane</a> &amp;plane, float maxDist) const </td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_m_ray.html#ad9ff091b32845ef02aab6baa1bed1b1">Intersect</a> (<a class="el" href="class_m_vec3.html">MVec3</a> &amp;point, float &amp;u, float &amp;<a class="el" href="glext__bak_8h.html#5cf89b94f7478c0ebc4429b60e7ef93b">v</a>, const <a class="el" href="class_m_vec3.html">MVec3</a> &amp;pt0, const <a class="el" href="class_m_vec3.html">MVec3</a> &amp;pt1, const <a class="el" href="class_m_vec3.html">MVec3</a> &amp;pt2, bool twoSided=false) const </td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_m_ray.html#5c809d98738674e546cc254e931ebe36">Intersect</a> (float &amp;dist, <a class="el" href="class_m_vec3.html">MVec3</a> &amp;point, float &amp;u, float &amp;<a class="el" href="glext__bak_8h.html#5cf89b94f7478c0ebc4429b60e7ef93b">v</a>, const <a class="el" href="class_m_vec3.html">MVec3</a> &amp;pt0, const <a class="el" href="class_m_vec3.html">MVec3</a> &amp;pt1, const <a class="el" href="class_m_vec3.html">MVec3</a> &amp;pt2, bool twoSided=false, float maxDist=FLT_MAX) const </td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_m_ray.html#773aeaf4f6aada0dfdc59da124e483ae">Intersect</a> (<a class="el" href="class_m_vec3.html">MVec3</a> &amp;point, float &amp;u, float &amp;<a class="el" href="glext__bak_8h.html#5cf89b94f7478c0ebc4429b60e7ef93b">v</a>, const <a class="el" href="class_m_vec3.html">MVec3</a> &amp;pt0, const <a class="el" href="class_m_vec3.html">MVec3</a> &amp;pt1, const <a class="el" href="class_m_vec3.html">MVec3</a> &amp;pt2, const <a class="el" href="class_m_vec3.html">MVec3</a> &amp;faceNormal, bool twoSided=false) const </td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">float&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_m_ray.html#258330bce7cfc69daff8f337e3a92215">Dist</a> (const <a class="el" href="class_m_vec3.html">MVec3</a> &amp;point) const </td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">distance from the ray to a point.  <a href="#258330bce7cfc69daff8f337e3a92215"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">float&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_m_ray.html#1b6c914026833000ea9760f177a2f890">Dist</a> (const <a class="el" href="class_m_line_segment.html">MLineSegment</a> &amp;segment, float epsilon) const </td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">distance between two rays.  <a href="#1b6c914026833000ea9760f177a2f890"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">float&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_m_ray.html#1500542719a23ff8e159e20c0e4cd350">Dist</a> (const <a class="el" href="class_m_line_segment.html">MLineSegment</a> &amp;segment, float &amp;rayMu, float &amp;segMu, float epsilon) const </td></tr>

</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
class <a class="el" href="class_m_ray.html" title="class MRay">MRay</a> 
<p>Definition at line <a class="el" href="_m_ray_8h-source.html#l00027">27</a> of file <a class="el" href="_m_ray_8h-source.html">MRay.h</a>.</p>
<hr><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" name="5babd699f32d3d26c009a23fb7a16079"></a><!-- doxytag: member="MRay::MRay" ref="5babd699f32d3d26c009a23fb7a16079" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">MRay::MRay           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
class header. 
<p>
File: <a class="el" href="_m_ray_8h.html">MRay.h</a> Author: Kevin Bray Created: 07-17-06 Copyright © 2004 Bootstrap Studios. All rights reserved. project includes. class <a class="el" href="class_m_ray.html" title="class MRay">MRay</a> ctor &amp; dtor 
<p>Definition at line <a class="el" href="_m_ray_8cpp-source.html#l00029">29</a> of file <a class="el" href="_m_ray_8cpp-source.html">MRay.cpp</a>.</p>

</div>
</div><p>
<a class="anchor" name="c9fb26538c0007be7fc62fda53519653"></a><!-- doxytag: member="MRay::MRay" ref="c9fb26538c0007be7fc62fda53519653" args="(const MVec3 &amp;start, const MVec3 &amp;dir)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">MRay::MRay           </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_m_vec3.html">MVec3</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>start</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="class_m_vec3.html">MVec3</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>dir</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="_m_ray_8cpp-source.html#l00037">37</a> of file <a class="el" href="_m_ray_8cpp-source.html">MRay.cpp</a>.</p>

</div>
</div><p>
<a class="anchor" name="23fc1bdfd8238df1124a73f541dd4563"></a><!-- doxytag: member="MRay::~MRay" ref="23fc1bdfd8238df1124a73f541dd4563" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">MRay::~MRay           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="_m_ray_8cpp-source.html#l00045">45</a> of file <a class="el" href="_m_ray_8cpp-source.html">MRay.cpp</a>.</p>

</div>
</div><p>
<hr><h2>Member Function Documentation</h2>
<a class="anchor" name="1500542719a23ff8e159e20c0e4cd350"></a><!-- doxytag: member="MRay::Dist" ref="1500542719a23ff8e159e20c0e4cd350" args="(const MLineSegment &amp;segment, float &amp;rayMu, float &amp;segMu, float epsilon) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">float MRay::Dist           </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_m_line_segment.html">MLineSegment</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>segment</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float &amp;&nbsp;</td>
          <td class="paramname"> <em>rayMu</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float &amp;&nbsp;</td>
          <td class="paramname"> <em>segMu</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&nbsp;</td>
          <td class="paramname"> <em>epsilon</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>
here, we're trying to solve a specialized line-line distance equation. We need to do the following:<p>
<ul>
<li>The line that connects the two closest points on either segment will be perpendicular... that is: A dot C = 0 &amp;&amp; B dot C = 0.<ul>
<li>The points must lie on the ray and the segment... otherwise the</li></ul>
</li></ul>
<p>
A = s2 - s1 B = rdir<p>
A dot C = 0 B dot C = 0 C = ?<p>
Ax * Cx + Ay * Cy + Az * Cz = 0 Bx * Cx + By * Cy + Bz * Cz = 0<p>
p13 = vector from starting point to starting point.<p>
p43 = _dir. p21 = line segment dir.<p>
is the segment just a point?<p>
<a class="el" href="wglext_8h.html#d77deca22f617d3f0e0eb786445689fc">p13.x</a> * <a class="el" href="wglext_8h.html#d77deca22f617d3f0e0eb786445689fc">p43.x</a> + <a class="el" href="wglext_8h.html#9298c7ad619074f5285b32c6b72bfdea">p13.y</a> * <a class="el" href="wglext_8h.html#9298c7ad619074f5285b32c6b72bfdea">p43.y</a> + <a class="el" href="glext__bak_8h.html#5b27107fca91cf19a778530405575b37">p13.z</a> * <a class="el" href="glext__bak_8h.html#5b27107fca91cf19a778530405575b37">p43.z</a>;<p>
<a class="el" href="wglext_8h.html#d77deca22f617d3f0e0eb786445689fc">p43.x</a> * <a class="el" href="wglext_8h.html#d77deca22f617d3f0e0eb786445689fc">p21.x</a> + <a class="el" href="wglext_8h.html#9298c7ad619074f5285b32c6b72bfdea">p43.y</a> * <a class="el" href="wglext_8h.html#9298c7ad619074f5285b32c6b72bfdea">p21.y</a> + <a class="el" href="glext__bak_8h.html#5b27107fca91cf19a778530405575b37">p43.z</a> * <a class="el" href="glext__bak_8h.html#5b27107fca91cf19a778530405575b37">p21.z</a>;<p>
<a class="el" href="wglext_8h.html#d77deca22f617d3f0e0eb786445689fc">p13.x</a> * <a class="el" href="wglext_8h.html#d77deca22f617d3f0e0eb786445689fc">p21.x</a> + <a class="el" href="wglext_8h.html#9298c7ad619074f5285b32c6b72bfdea">p13.y</a> * <a class="el" href="wglext_8h.html#9298c7ad619074f5285b32c6b72bfdea">p21.y</a> + <a class="el" href="glext__bak_8h.html#5b27107fca91cf19a778530405575b37">p13.z</a> * <a class="el" href="glext__bak_8h.html#5b27107fca91cf19a778530405575b37">p21.z</a>;<p>
<a class="el" href="wglext_8h.html#d77deca22f617d3f0e0eb786445689fc">p21.x</a> * <a class="el" href="wglext_8h.html#d77deca22f617d3f0e0eb786445689fc">p21.x</a> + <a class="el" href="wglext_8h.html#9298c7ad619074f5285b32c6b72bfdea">p21.y</a> * <a class="el" href="wglext_8h.html#9298c7ad619074f5285b32c6b72bfdea">p21.y</a> + <a class="el" href="glext__bak_8h.html#5b27107fca91cf19a778530405575b37">p21.z</a> * <a class="el" href="glext__bak_8h.html#5b27107fca91cf19a778530405575b37">p21.z</a>;<p>
parallel.<p>
calculate the positions on the ray and line segment.<p>
now figure out the distances.<p>
distance between the ray and the start of the line segment.<p>
distance between the ray and the end of the line segment.<p>
distnace between the ray and the line segment. 
<p>Definition at line <a class="el" href="_m_ray_8cpp-source.html#l00678">678</a> of file <a class="el" href="_m_ray_8cpp-source.html">MRay.cpp</a>.</p>

</div>
</div><p>
<a class="anchor" name="1b6c914026833000ea9760f177a2f890"></a><!-- doxytag: member="MRay::Dist" ref="1b6c914026833000ea9760f177a2f890" args="(const MLineSegment &amp;segment, float epsilon) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">float MRay::Dist           </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_m_line_segment.html">MLineSegment</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>segment</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&nbsp;</td>
          <td class="paramname"> <em>epsilon</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
distance between two rays. 
<p>
distance between a ray and a line segment. This function returns -1.0f if the line segment is just a point. 
<p>Definition at line <a class="el" href="_m_ray_8cpp-source.html#l00669">669</a> of file <a class="el" href="_m_ray_8cpp-source.html">MRay.cpp</a>.</p>

</div>
</div><p>
<a class="anchor" name="258330bce7cfc69daff8f337e3a92215"></a><!-- doxytag: member="MRay::Dist" ref="258330bce7cfc69daff8f337e3a92215" args="(const MVec3 &amp;point) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">float MRay::Dist           </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_m_vec3.html">MVec3</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>point</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
distance from the ray to a point. 
<p>

<p>
return the shortest distance to the line from the point.<p>
calculate where the line comes closest to point 'pt'.<p>
if we don't come closest to the point 'pt' somewhere on the segment, take the distance to the respective end points.<p>
return the distance to the line. 
<p>Definition at line <a class="el" href="_m_ray_8cpp-source.html#l00642">642</a> of file <a class="el" href="_m_ray_8cpp-source.html">MRay.cpp</a>.</p>

</div>
</div><p>
<a class="anchor" name="cd7ab740f3c8ff43dd79f95ed9a969b6"></a><!-- doxytag: member="MRay::GetDir" ref="cd7ab740f3c8ff43dd79f95ed9a969b6" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="class_m_vec3.html">MVec3</a>&amp; MRay::GetDir           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td> const<code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="_m_ray_8h-source.html#l00039">39</a> of file <a class="el" href="_m_ray_8h-source.html">MRay.h</a>.</p>

</div>
</div><p>
<a class="anchor" name="50cd4ec247b5df4a4a336478a3a19c91"></a><!-- doxytag: member="MRay::GetStart" ref="50cd4ec247b5df4a4a336478a3a19c91" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="class_m_vec3.html">MVec3</a>&amp; MRay::GetStart           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td> const<code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="_m_ray_8h-source.html#l00038">38</a> of file <a class="el" href="_m_ray_8h-source.html">MRay.h</a>.</p>

</div>
</div><p>
<a class="anchor" name="773aeaf4f6aada0dfdc59da124e483ae"></a><!-- doxytag: member="MRay::Intersect" ref="773aeaf4f6aada0dfdc59da124e483ae" args="(MVec3 &amp;point, float &amp;u, float &amp;v, const MVec3 &amp;pt0, const MVec3 &amp;pt1, const MVec3 &amp;pt2, const MVec3 &amp;faceNormal, bool twoSided=false) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool MRay::Intersect           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_m_vec3.html">MVec3</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>point</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float &amp;&nbsp;</td>
          <td class="paramname"> <em>u</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float &amp;&nbsp;</td>
          <td class="paramname"> <em>v</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="class_m_vec3.html">MVec3</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>pt0</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="class_m_vec3.html">MVec3</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>pt1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="class_m_vec3.html">MVec3</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>pt2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="class_m_vec3.html">MVec3</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>faceNormal</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&nbsp;</td>
          <td class="paramname"> <em>twoSided</em> = <code>false</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>
calculate some useful vars.<p>
calculate the point on the triangle's plane along the ray.<p>
if the ray is shooting away from the plane, then simply return false.<p>
calculate the distance along the ray to the plane.<p>
calculate where we intersect the plane the triangle lies on.<p>
choose an axis to throw away and solve in 2D.<p>
calculate the barycentric coordinates.<p>
return true if we're inside the triangle. 
<p>Definition at line <a class="el" href="_m_ray_8cpp-source.html#l00574">574</a> of file <a class="el" href="_m_ray_8cpp-source.html">MRay.cpp</a>.</p>

</div>
</div><p>
<a class="anchor" name="5c809d98738674e546cc254e931ebe36"></a><!-- doxytag: member="MRay::Intersect" ref="5c809d98738674e546cc254e931ebe36" args="(float &amp;dist, MVec3 &amp;point, float &amp;u, float &amp;v, const MVec3 &amp;pt0, const MVec3 &amp;pt1, const MVec3 &amp;pt2, bool twoSided=false, float maxDist=FLT_MAX) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool MRay::Intersect           </td>
          <td>(</td>
          <td class="paramtype">float &amp;&nbsp;</td>
          <td class="paramname"> <em>dist</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_m_vec3.html">MVec3</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>point</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float &amp;&nbsp;</td>
          <td class="paramname"> <em>u</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float &amp;&nbsp;</td>
          <td class="paramname"> <em>v</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="class_m_vec3.html">MVec3</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>pt0</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="class_m_vec3.html">MVec3</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>pt1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="class_m_vec3.html">MVec3</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>pt2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&nbsp;</td>
          <td class="paramname"> <em>twoSided</em> = <code>false</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&nbsp;</td>
          <td class="paramname"> <em>maxDist</em> = <code>FLT_MAX</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>
calculate some useful vars.<p>
perform our test. calculate the face normal.<p>
normalize the face normal.<p>
calculate the point on the triangle's plane along the ray.<p>
if the ray is shooting away from the plane, then simply return false.<p>
calculate the distance along the ray to the plane.<p>
calculate where we intersect the plane the triangle lies on.<p>
choose an axis to throw away and solve in 2D.<p>
calculate the barycentric coordinates.<p>
return true if we're inside the triangle. 
<p>Definition at line <a class="el" href="_m_ray_8cpp-source.html#l00490">490</a> of file <a class="el" href="_m_ray_8cpp-source.html">MRay.cpp</a>.</p>

</div>
</div><p>
<a class="anchor" name="ad9ff091b32845ef02aab6baa1bed1b1"></a><!-- doxytag: member="MRay::Intersect" ref="ad9ff091b32845ef02aab6baa1bed1b1" args="(MVec3 &amp;point, float &amp;u, float &amp;v, const MVec3 &amp;pt0, const MVec3 &amp;pt1, const MVec3 &amp;pt2, bool twoSided=false) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool MRay::Intersect           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_m_vec3.html">MVec3</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>point</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float &amp;&nbsp;</td>
          <td class="paramname"> <em>u</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float &amp;&nbsp;</td>
          <td class="paramname"> <em>v</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="class_m_vec3.html">MVec3</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>pt0</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="class_m_vec3.html">MVec3</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>pt1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="class_m_vec3.html">MVec3</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>pt2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&nbsp;</td>
          <td class="paramname"> <em>twoSided</em> = <code>false</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
returns the distance from the ray to the triangle as well as the barycentric coordinates of the intersection if a intersection occurs. If no intersection occurs, then the function returns -1.0. 
<p>
calculate some useful vars.<p>
perform our test. calculate the face normal.<p>
normalize the face normal.<p>
calculate the point on the triangle's plane along the ray.<p>
if the ray is shooting away from the plane, then simply return false.<p>
calculate the distance along the ray to the plane.<p>
calculate where we intersect the plane the triangle lies on.<p>
choose an axis to throw away and solve in 2D.<p>
calculate the barycentric coordinates.<p>
return true if we're inside the triangle. 
<p>Definition at line <a class="el" href="_m_ray_8cpp-source.html#l00414">414</a> of file <a class="el" href="_m_ray_8cpp-source.html">MRay.cpp</a>.</p>

</div>
</div><p>
<a class="anchor" name="e8b4fd4410de61bd1e3d8db92e0bcbb7"></a><!-- doxytag: member="MRay::Intersect" ref="e8b4fd4410de61bd1e3d8db92e0bcbb7" args="(MVec3 &amp;hitPos, const MPlane &amp;plane, float maxDist) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool MRay::Intersect           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_m_vec3.html">MVec3</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>hitPos</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="class_m_plane.html">MPlane</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>plane</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&nbsp;</td>
          <td class="paramname"> <em>maxDist</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
returns true if the ray intersects with the plane. It also returns where the ray intersects with the plane. 
<p>
get the distance from the ray's start to the plane along the ray's normal.<p>
get the cosecant between the ray's direction and the plane's normal. This gives us a ratio of how much longer the ray is until the intersection of the plane.<p>
calculate the final position and return true to indicate intersection. 
<p>Definition at line <a class="el" href="_m_ray_8cpp-source.html#l00377">377</a> of file <a class="el" href="_m_ray_8cpp-source.html">MRay.cpp</a>.</p>

</div>
</div><p>
<a class="anchor" name="ec4c564ad95eae52d3113431b89e1196"></a><!-- doxytag: member="MRay::Intersect" ref="ec4c564ad95eae52d3113431b89e1196" args="(const MSphere &amp;sphere) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool MRay::Intersect           </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_m_sphere.html">MSphere</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>sphere</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>
return the shortest distance to the line from the point.<p>
calculate where the line comes closest to point 'pt'.<p>
if we don't come closest to the point 'pt' somewhere on the ray, then take the distance to the start point and return true if the radius of the sphere is greater than or equal to that distance.<p>
if the radius of the sphere is greater than or equal to the distance to the line, then return true. 
<p>Definition at line <a class="el" href="_m_ray_8cpp-source.html#l00355">355</a> of file <a class="el" href="_m_ray_8cpp-source.html">MRay.cpp</a>.</p>

</div>
</div><p>
<a class="anchor" name="31a2e259d2ce5afbe1c7ee8cbcc60e63"></a><!-- doxytag: member="MRay::Intersect" ref="31a2e259d2ce5afbe1c7ee8cbcc60e63" args="(MVec3 &amp;coord, const MOBox &amp;box) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool MRay::Intersect           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_m_vec3.html">MVec3</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>coord</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="class_m_o_box.html">MOBox</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>box</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>
calculate the matrices needed to transform the ray into the box's space.<p>
transform the ray into the box's space.<p>
perform an AABox intersection with the new ray params.<p>
Find candidate planes; this loop can be avoided if rays cast all from the eye(assume perpsective view)<p>
Ray start inside bounding box<p>
Calculate T distances to candidate planes<p>
Get largest of the maxT's for final choice of intersection<p>
Check final candidate actually inside box<p>
transform the coordinate into world space.<p>
ray hits box 
<p>Definition at line <a class="el" href="_m_ray_8cpp-source.html#l00260">260</a> of file <a class="el" href="_m_ray_8cpp-source.html">MRay.cpp</a>.</p>

</div>
</div><p>
<a class="anchor" name="a1ba271e3402f579aa42db8bf9ff42f0"></a><!-- doxytag: member="MRay::Intersect" ref="a1ba271e3402f579aa42db8bf9ff42f0" args="(const MOBox &amp;box) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool MRay::Intersect           </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_m_o_box.html">MOBox</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>box</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>
calculate the matrices needed to transform the ray into the box's space.<p>
transform the ray into the box's space.<p>
perform an AABox intersection with the new ray params.<p>
Find candidate planes; this loop can be avoided if rays cast all from the eye(assume perpsective view)<p>
Ray start inside bounding box<p>
Calculate T distances to candidate planes<p>
Get largest of the maxT's for final choice of intersection<p>
Check final candidate actually inside box<p>
ray hits box 
<p>Definition at line <a class="el" href="_m_ray_8cpp-source.html#l00167">167</a> of file <a class="el" href="_m_ray_8cpp-source.html">MRay.cpp</a>.</p>

</div>
</div><p>
<a class="anchor" name="fb0bbae116de05c8e324382792caa4c0"></a><!-- doxytag: member="MRay::Intersect" ref="fb0bbae116de05c8e324382792caa4c0" args="(MVec3 &amp;hitLoc, const MAABox &amp;box, float maxDist=FLT_MAX) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool MRay::Intersect           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_m_vec3.html">MVec3</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>hitLoc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="class_m_a_a_box.html">MAABox</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>box</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&nbsp;</td>
          <td class="paramname"> <em>maxDist</em> = <code>FLT_MAX</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>
Find candidate planes; this loop can be avoided if rays cast all from the eye(assume perspective view)<p>
Ray start inside bounding box<p>
Calculate T distances to candidate planes<p>
Get largest of the maxT's for final choice of intersection<p>
Check final candidate actually inside box<p>
ray hits box 
<p>Definition at line <a class="el" href="_m_ray_8cpp-source.html#l00088">88</a> of file <a class="el" href="_m_ray_8cpp-source.html">MRay.cpp</a>.</p>

</div>
</div><p>
<a class="anchor" name="d58f4fca993f73968696e69fa58f4a93"></a><!-- doxytag: member="MRay::Intersect" ref="d58f4fca993f73968696e69fa58f4a93" args="(const MAABox &amp;box, float maxDist=FLT_MAX) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool MRay::Intersect           </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_m_a_a_box.html">MAABox</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>box</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&nbsp;</td>
          <td class="paramname"> <em>maxDist</em> = <code>FLT_MAX</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
returns true if the ray intersects with the box provided. 
<p>

<p>Definition at line <a class="el" href="_m_ray_8cpp-source.html#l00080">80</a> of file <a class="el" href="_m_ray_8cpp-source.html">MRay.cpp</a>.</p>

</div>
</div><p>
<a class="anchor" name="8239de44f8ebfe53f5d702aafb2e4804"></a><!-- doxytag: member="MRay::SetDir" ref="8239de44f8ebfe53f5d702aafb2e4804" args="(const MVec3 &amp;dir)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void MRay::SetDir           </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_m_vec3.html">MVec3</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>dir</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
public methods 
<p>

<p>Definition at line <a class="el" href="_m_ray_8cpp-source.html#l00057">57</a> of file <a class="el" href="_m_ray_8cpp-source.html">MRay.cpp</a>.</p>

</div>
</div><p>
<a class="anchor" name="5736afa27c05767f237c46842dece57f"></a><!-- doxytag: member="MRay::SetDirFast" ref="5736afa27c05767f237c46842dece57f" args="(const MVec3 &amp;dir)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void MRay::SetDirFast           </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_m_vec3.html">MVec3</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>dir</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>
make sure the incoming vector is mostly normalized. 
<p>Definition at line <a class="el" href="_m_ray_8cpp-source.html#l00065">65</a> of file <a class="el" href="_m_ray_8cpp-source.html">MRay.cpp</a>.</p>

</div>
</div><p>
<a class="anchor" name="116cc00ec9c732cf178a57a8110b3efe"></a><!-- doxytag: member="MRay::SetStart" ref="116cc00ec9c732cf178a57a8110b3efe" args="(const MVec3 &amp;start)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void MRay::SetStart           </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_m_vec3.html">MVec3</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>start</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="_m_ray_8h-source.html#l00034">34</a> of file <a class="el" href="_m_ray_8h-source.html">MRay.h</a>.</p>

</div>
</div><p>
<a class="anchor" name="7cd16f0d5b6882ebc5cf2f381af6e02a"></a><!-- doxytag: member="MRay::Transform" ref="7cd16f0d5b6882ebc5cf2f381af6e02a" args="(const MMat4x4 &amp;mat, const MMat3x3 &amp;normalRot) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_m_ray.html">MRay</a> MRay::Transform           </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_m_mat4x4.html">MMat4x4</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>mat</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="class_m_mat3x3.html">MMat3x3</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>normalRot</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
transforms the ray. 
<p>

<p>Definition at line <a class="el" href="_m_ray_8cpp-source.html#l00407">407</a> of file <a class="el" href="_m_ray_8cpp-source.html">MRay.cpp</a>.</p>

</div>
</div><p>
<hr>The documentation for this class was generated from the following files:<ul>
<li>C:/Bootstrap/ProjectBX/Documentation/Code/Engine/Common/<a class="el" href="_m_ray_8h-source.html">MRay.h</a><li>C:/Bootstrap/ProjectBX/Documentation/Code/Engine/Common/<a class="el" href="_m_ray_8cpp-source.html">MRay.cpp</a></ul>
</div>
<hr size="1"><address style="text-align: right;"><small>Generated on Fri Feb 13 17:20:06 2009 for Bootstrap Engine by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.8 </small></address>
</body>
</html>
