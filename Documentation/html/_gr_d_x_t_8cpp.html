<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>Bootstrap Engine: C:/Bootstrap/ProjectBX/Documentation/Code/Engine/Graphics/GrDXT.cpp File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css">
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.8 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
      <li><a href="globals.html"><span>File&nbsp;Members</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>C:/Bootstrap/ProjectBX/Documentation/Code/Engine/Graphics/GrDXT.cpp File Reference</h1><code>#include &quot;<a class="el" href="graphics__afx_8h-source.html">graphics_afx.h</a>&quot;</code><br>
<code>#include &quot;<a class="el" href="_gr_d_x_t_8h-source.html">GrDXT.h</a>&quot;</code><br>

<p>
<a href="_gr_d_x_t_8cpp-source.html">Go to the source code of this file.</a><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Defines</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="_gr_d_x_t_8cpp.html#d70aa2a8dfa4bb16bcf276525ed8f28e">COLORBOX_INSET_SHIFT</a>&nbsp;&nbsp;&nbsp;4</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Purpose: To perform DXT compression in realtime.  <a href="#d70aa2a8dfa4bb16bcf276525ed8f28e"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="_gr_d_x_t_8cpp.html#2ed897de9b16b2d8df4cfb20dff37c31">ALIGN_16</a>&nbsp;&nbsp;&nbsp;__declspec( align( 16 ) )</td></tr>

<tr><td colspan="2"><br><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="_gr_d_x_t_8cpp.html#ea79e51a48321341147a6941296e88b1">Extract4x4</a> (unsigned int *block, unsigned int *<a class="el" href="glext__bak_8h.html#72e0fdf0f845ded60b1fada9e9195cd7">src</a>, unsigned int srcWidth)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">forward declarations.  <a href="#ea79e51a48321341147a6941296e88b1"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="_gr_d_x_t_8cpp.html#07b96e0ea41b877ec445e7709162c6ca">Extract4x4BGR</a> (unsigned char *block, unsigned char *<a class="el" href="glext__bak_8h.html#72e0fdf0f845ded60b1fada9e9195cd7">src</a>, unsigned int srcStride)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="_gr_d_x_t_8cpp.html#b305a36de9037f74db50d680889c5219">Extract4x4XY1</a> (unsigned char *block, unsigned char *<a class="el" href="glext__bak_8h.html#72e0fdf0f845ded60b1fada9e9195cd7">src</a>, unsigned int srcStride)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="_gr_d_x_t_8cpp.html#1fdb75290722c62bee98e5c5074a0953">MinMax</a> (unsigned char *min, unsigned char *max, unsigned char *block)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="_gr_d_x_t_8cpp.html#594351b0aeb50d8e2917e00c382806b0">ColorDistSqr</a> (unsigned char *color0, unsigned char *color1)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">unsigned short&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="_gr_d_x_t_8cpp.html#a1ff9abbb8b314db2e2f2448081d4ae4">ColorTo565</a> (const unsigned char *<a class="el" href="glext_8h.html#3ea846f998d64f079b86052b6c4193a8">color</a>)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="_gr_d_x_t_8cpp.html#2718b289e2a29c0b65f797943e308378">CompressBlockBGR</a> (unsigned int *dest, unsigned char *block, unsigned char *min, unsigned char *max)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="_gr_d_x_t_8cpp.html#f52d934a19e6d8cbe1f6bb4be63e2ce3">CompressBlockAlpha</a> (unsigned int *dest, unsigned char *block, unsigned char *min, unsigned char *max)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">unsigned int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="_gr_d_x_t_8cpp.html#b7a13663aedeac66caf6543f6133bd8e">CalcImageSizeDXT1</a> (unsigned int <a class="el" href="wglext_8h.html#e6531b1788ca42a9ae8155b0c52e7630">width</a>, unsigned int <a class="el" href="wglext_8h.html#b2e63df950c3789599e1e43f477bc9e3">height</a>)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">global functions.  <a href="#b7a13663aedeac66caf6543f6133bd8e"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">unsigned int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="_gr_d_x_t_8cpp.html#a19404b9b0e18bf7dd6568829478282a">CalcImageSizeDXT5</a> (unsigned int <a class="el" href="wglext_8h.html#e6531b1788ca42a9ae8155b0c52e7630">width</a>, unsigned int <a class="el" href="wglext_8h.html#b2e63df950c3789599e1e43f477bc9e3">height</a>)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="_gr_d_x_t_8cpp.html#be92fad224c6ac43e6b53fcc6a003a81">CompressDXT1</a> (unsigned int *<a class="el" href="glext__bak_8h.html#92034251bfd455d524a9b5610cddba00">dst</a>, unsigned int <a class="el" href="wglext_8h.html#e6531b1788ca42a9ae8155b0c52e7630">width</a>, unsigned int <a class="el" href="wglext_8h.html#b2e63df950c3789599e1e43f477bc9e3">height</a>, void *<a class="el" href="glext__bak_8h.html#72e0fdf0f845ded60b1fada9e9195cd7">src</a>)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">BGRX to DXT1.  <a href="#be92fad224c6ac43e6b53fcc6a003a81"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="_gr_d_x_t_8cpp.html#8758097783ede2ba1339749cc90e3f55">CompressDXT1BGR</a> (unsigned int *<a class="el" href="glext__bak_8h.html#92034251bfd455d524a9b5610cddba00">dst</a>, unsigned int <a class="el" href="wglext_8h.html#e6531b1788ca42a9ae8155b0c52e7630">width</a>, unsigned int <a class="el" href="wglext_8h.html#b2e63df950c3789599e1e43f477bc9e3">height</a>, void *<a class="el" href="glext__bak_8h.html#72e0fdf0f845ded60b1fada9e9195cd7">src</a>)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="_gr_d_x_t_8cpp.html#4382e6418d4cb2a01b1df61a72d889f3">CompressDXT5</a> (unsigned int *<a class="el" href="glext__bak_8h.html#92034251bfd455d524a9b5610cddba00">dst</a>, unsigned int <a class="el" href="wglext_8h.html#e6531b1788ca42a9ae8155b0c52e7630">width</a>, unsigned int <a class="el" href="wglext_8h.html#b2e63df950c3789599e1e43f477bc9e3">height</a>, void *<a class="el" href="glext__bak_8h.html#72e0fdf0f845ded60b1fada9e9195cd7">src</a>)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">BGRA to DXT5.  <a href="#4382e6418d4cb2a01b1df61a72d889f3"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="_gr_d_x_t_8cpp.html#fa4a392d3ebdddaddcee0f63639c13e3">CompressDXT5XY1</a> (unsigned int *<a class="el" href="glext__bak_8h.html#92034251bfd455d524a9b5610cddba00">dst</a>, unsigned int <a class="el" href="wglext_8h.html#e6531b1788ca42a9ae8155b0c52e7630">width</a>, unsigned int <a class="el" href="wglext_8h.html#b2e63df950c3789599e1e43f477bc9e3">height</a>, void *<a class="el" href="glext__bak_8h.html#72e0fdf0f845ded60b1fada9e9195cd7">src</a>)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="_gr_d_x_t_8cpp.html#9367b26f9770131cfe1d59ccf55bd07f">FillDXT1</a> (void *<a class="el" href="glext__bak_8h.html#92034251bfd455d524a9b5610cddba00">dst</a>, unsigned int <a class="el" href="wglext_8h.html#e6531b1788ca42a9ae8155b0c52e7630">width</a>, unsigned int <a class="el" href="wglext_8h.html#b2e63df950c3789599e1e43f477bc9e3">height</a>, unsigned char *bgrxColor)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">fills a DXT encoded image with the color specified.  <a href="#9367b26f9770131cfe1d59ccf55bd07f"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="_gr_d_x_t_8cpp.html#ddda053009cd1ebfe0f8c9ea17580094">FillDXT5</a> (void *<a class="el" href="glext__bak_8h.html#92034251bfd455d524a9b5610cddba00">dst</a>, unsigned int <a class="el" href="wglext_8h.html#e6531b1788ca42a9ae8155b0c52e7630">width</a>, unsigned int <a class="el" href="wglext_8h.html#b2e63df950c3789599e1e43f477bc9e3">height</a>, unsigned char *bgraColor)</td></tr>

</table>
<hr><h2>Define Documentation</h2>
<a class="anchor" name="2ed897de9b16b2d8df4cfb20dff37c31"></a><!-- doxytag: member="GrDXT.cpp::ALIGN_16" ref="2ed897de9b16b2d8df4cfb20dff37c31" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ALIGN_16&nbsp;&nbsp;&nbsp;__declspec( align( 16 ) )          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="_gr_d_x_t_8cpp-source.html#l00032">32</a> of file <a class="el" href="_gr_d_x_t_8cpp-source.html">GrDXT.cpp</a>.</p>

</div>
</div><p>
<a class="anchor" name="d70aa2a8dfa4bb16bcf276525ed8f28e"></a><!-- doxytag: member="GrDXT.cpp::COLORBOX_INSET_SHIFT" ref="d70aa2a8dfa4bb16bcf276525ed8f28e" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define COLORBOX_INSET_SHIFT&nbsp;&nbsp;&nbsp;4          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Purpose: To perform DXT compression in realtime. 
<p>
File: <a class="el" href="_gr_d_x_t_8cpp.html">GrDXT.cpp</a> Author: Kevin Bray Created: 04-03-08 Copyright © 2004 Bootstrap Studios. All rights reserved. file header. this decreases the size of the bounding box by 1/16th of it's size. This makes the min/max through color space closer together, and thus reduces the overall error in the image (makes error tend towards the average of a 4x4 block). 
<p>Definition at line <a class="el" href="_gr_d_x_t_8cpp-source.html#l00019">19</a> of file <a class="el" href="_gr_d_x_t_8cpp-source.html">GrDXT.cpp</a>.</p>

</div>
</div><p>
<hr><h2>Function Documentation</h2>
<a class="anchor" name="b7a13663aedeac66caf6543f6133bd8e"></a><!-- doxytag: member="GrDXT.cpp::CalcImageSizeDXT1" ref="b7a13663aedeac66caf6543f6133bd8e" args="(unsigned int width, unsigned int height)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned int CalcImageSizeDXT1           </td>
          <td>(</td>
          <td class="paramtype">unsigned int&nbsp;</td>
          <td class="paramname"> <em>width</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&nbsp;</td>
          <td class="paramname"> <em>height</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
global functions. 
<p>
Purpose: To perform DXT compression in realtime. 
<p>Definition at line <a class="el" href="_gr_d_x_t_8cpp-source.html#l00039">39</a> of file <a class="el" href="_gr_d_x_t_8cpp-source.html">GrDXT.cpp</a>.</p>

</div>
</div><p>
<a class="anchor" name="a19404b9b0e18bf7dd6568829478282a"></a><!-- doxytag: member="GrDXT.cpp::CalcImageSizeDXT5" ref="a19404b9b0e18bf7dd6568829478282a" args="(unsigned int width, unsigned int height)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned int CalcImageSizeDXT5           </td>
          <td>(</td>
          <td class="paramtype">unsigned int&nbsp;</td>
          <td class="paramname"> <em>width</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&nbsp;</td>
          <td class="paramname"> <em>height</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="_gr_d_x_t_8cpp-source.html#l00048">48</a> of file <a class="el" href="_gr_d_x_t_8cpp-source.html">GrDXT.cpp</a>.</p>

</div>
</div><p>
<a class="anchor" name="594351b0aeb50d8e2917e00c382806b0"></a><!-- doxytag: member="GrDXT.cpp::ColorDistSqr" ref="594351b0aeb50d8e2917e00c382806b0" args="(unsigned char *color0, unsigned char *color1)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ColorDistSqr           </td>
          <td>(</td>
          <td class="paramtype">unsigned char *&nbsp;</td>
          <td class="paramname"> <em>color0</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned char *&nbsp;</td>
          <td class="paramname"> <em>color1</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="_gr_d_x_t_8cpp-source.html#l00347">347</a> of file <a class="el" href="_gr_d_x_t_8cpp-source.html">GrDXT.cpp</a>.</p>

</div>
</div><p>
<a class="anchor" name="a1ff9abbb8b314db2e2f2448081d4ae4"></a><!-- doxytag: member="GrDXT.cpp::ColorTo565" ref="a1ff9abbb8b314db2e2f2448081d4ae4" args="(const unsigned char *color)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned short ColorTo565           </td>
          <td>(</td>
          <td class="paramtype">const unsigned char *&nbsp;</td>
          <td class="paramname"> <em>color</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="_gr_d_x_t_8cpp-source.html#l00355">355</a> of file <a class="el" href="_gr_d_x_t_8cpp-source.html">GrDXT.cpp</a>.</p>

</div>
</div><p>
<a class="anchor" name="f52d934a19e6d8cbe1f6bb4be63e2ce3"></a><!-- doxytag: member="GrDXT.cpp::CompressBlockAlpha" ref="f52d934a19e6d8cbe1f6bb4be63e2ce3" args="(unsigned int *dest, unsigned char *block, unsigned char *min, unsigned char *max)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void CompressBlockAlpha           </td>
          <td>(</td>
          <td class="paramtype">unsigned int *&nbsp;</td>
          <td class="paramname"> <em>dest</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned char *&nbsp;</td>
          <td class="paramname"> <em>block</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned char *&nbsp;</td>
          <td class="paramname"> <em>min</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned char *&nbsp;</td>
          <td class="paramname"> <em>max</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>
calculate our alpha table.<p>
calculate the indices.<p>
write the min/max values down before emitting the indices.<p>
now store the indices. 
<p>Definition at line <a class="el" href="_gr_d_x_t_8cpp-source.html#l00420">420</a> of file <a class="el" href="_gr_d_x_t_8cpp-source.html">GrDXT.cpp</a>.</p>

</div>
</div><p>
<a class="anchor" name="2718b289e2a29c0b65f797943e308378"></a><!-- doxytag: member="GrDXT.cpp::CompressBlockBGR" ref="2718b289e2a29c0b65f797943e308378" args="(unsigned int *dest, unsigned char *block, unsigned char *min, unsigned char *max)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void CompressBlockBGR           </td>
          <td>(</td>
          <td class="paramtype">unsigned int *&nbsp;</td>
          <td class="paramname"> <em>dest</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned char *&nbsp;</td>
          <td class="paramname"> <em>block</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned char *&nbsp;</td>
          <td class="paramname"> <em>min</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned char *&nbsp;</td>
          <td class="paramname"> <em>max</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>
calculate our color table.<p>
RGB0<p>
RGB1<p>
(2*RGB0+RGB1)/3<p>
(RGB0+2*RGB1)/3<p>
now perform our fit.<p>
calculate the best index.<p>
write out the best index.<p>
write out our max color/min color.<p>
write the indices. 
<p>Definition at line <a class="el" href="_gr_d_x_t_8cpp-source.html#l00364">364</a> of file <a class="el" href="_gr_d_x_t_8cpp-source.html">GrDXT.cpp</a>.</p>

</div>
</div><p>
<a class="anchor" name="be92fad224c6ac43e6b53fcc6a003a81"></a><!-- doxytag: member="GrDXT.cpp::CompressDXT1" ref="be92fad224c6ac43e6b53fcc6a003a81" args="(unsigned int *dst, unsigned int width, unsigned int height, void *src)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void CompressDXT1           </td>
          <td>(</td>
          <td class="paramtype">unsigned int *&nbsp;</td>
          <td class="paramname"> <em>dst</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&nbsp;</td>
          <td class="paramname"> <em>width</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&nbsp;</td>
          <td class="paramname"> <em>height</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>src</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
BGRX to DXT1. 
<p>

<p>
reserve some space for the 4x4 block of pixels.<p>
iterate through blocks.<p>
move data into our local cache.<p>
get the color space min/max.<p>
write out the color indices. 
<p>Definition at line <a class="el" href="_gr_d_x_t_8cpp-source.html#l00057">57</a> of file <a class="el" href="_gr_d_x_t_8cpp-source.html">GrDXT.cpp</a>.</p>

</div>
</div><p>
<a class="anchor" name="8758097783ede2ba1339749cc90e3f55"></a><!-- doxytag: member="GrDXT.cpp::CompressDXT1BGR" ref="8758097783ede2ba1339749cc90e3f55" args="(unsigned int *dst, unsigned int width, unsigned int height, void *src)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void CompressDXT1BGR           </td>
          <td>(</td>
          <td class="paramtype">unsigned int *&nbsp;</td>
          <td class="paramname"> <em>dst</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&nbsp;</td>
          <td class="paramname"> <em>width</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&nbsp;</td>
          <td class="paramname"> <em>height</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>src</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>
reserve some space for the 4x4 block of pixels.<p>
iterate through blocks.<p>
move data into our local cache.<p>
get the color space min/max.<p>
write out the color indices. 
<p>Definition at line <a class="el" href="_gr_d_x_t_8cpp-source.html#l00086">86</a> of file <a class="el" href="_gr_d_x_t_8cpp-source.html">GrDXT.cpp</a>.</p>

</div>
</div><p>
<a class="anchor" name="4382e6418d4cb2a01b1df61a72d889f3"></a><!-- doxytag: member="GrDXT.cpp::CompressDXT5" ref="4382e6418d4cb2a01b1df61a72d889f3" args="(unsigned int *dst, unsigned int width, unsigned int height, void *src)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void CompressDXT5           </td>
          <td>(</td>
          <td class="paramtype">unsigned int *&nbsp;</td>
          <td class="paramname"> <em>dst</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&nbsp;</td>
          <td class="paramname"> <em>width</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&nbsp;</td>
          <td class="paramname"> <em>height</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>src</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
BGRA to DXT5. 
<p>

<p>
reserve some space for the 4x4 block of pixels.<p>
iterate through blocks.<p>
note: by treating these as DWORDs, this could cause problems with store forwarding. Basically, the block is getting written to and read from in bytes by other functions, so the different addresses would simply cause store forwarding not to work for 3 out of 4 read operations!<p>
get the color space min/max.<p>
write out the alpha indices.<p>
write out the color indices. 
<p>Definition at line <a class="el" href="_gr_d_x_t_8cpp-source.html#l00117">117</a> of file <a class="el" href="_gr_d_x_t_8cpp-source.html">GrDXT.cpp</a>.</p>

</div>
</div><p>
<a class="anchor" name="fa4a392d3ebdddaddcee0f63639c13e3"></a><!-- doxytag: member="GrDXT.cpp::CompressDXT5XY1" ref="fa4a392d3ebdddaddcee0f63639c13e3" args="(unsigned int *dst, unsigned int width, unsigned int height, void *src)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void CompressDXT5XY1           </td>
          <td>(</td>
          <td class="paramtype">unsigned int *&nbsp;</td>
          <td class="paramname"> <em>dst</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&nbsp;</td>
          <td class="paramname"> <em>width</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&nbsp;</td>
          <td class="paramname"> <em>height</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>src</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>
reserve some space for the 4x4 block of pixels.<p>
iterate through blocks.<p>
note: by treating these as DWORDs, this could cause problems with store forwarding. Basically, the block is getting written to and read from in bytes by other functions, so the different addresses would simply cause store forwarding not to work for 3 out of 4 read operations!<p>
get the color space min/max.<p>
write out the alpha indices.<p>
NOTE: we can do a faster technique for this since we know that that two of the three color values are set to 1.0 (255). write out the color indices. 
<p>Definition at line <a class="el" href="_gr_d_x_t_8cpp-source.html#l00151">151</a> of file <a class="el" href="_gr_d_x_t_8cpp-source.html">GrDXT.cpp</a>.</p>

</div>
</div><p>
<a class="anchor" name="ea79e51a48321341147a6941296e88b1"></a><!-- doxytag: member="GrDXT.cpp::Extract4x4" ref="ea79e51a48321341147a6941296e88b1" args="(unsigned int *block, unsigned int *src, unsigned int srcWidth)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Extract4x4           </td>
          <td>(</td>
          <td class="paramtype">unsigned int *&nbsp;</td>
          <td class="paramname"> <em>block</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int *&nbsp;</td>
          <td class="paramname"> <em>src</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&nbsp;</td>
          <td class="paramname"> <em>srcWidth</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
forward declarations. 
<p>
file local functions. 
<p>Definition at line <a class="el" href="_gr_d_x_t_8cpp-source.html#l00244">244</a> of file <a class="el" href="_gr_d_x_t_8cpp-source.html">GrDXT.cpp</a>.</p>

</div>
</div><p>
<a class="anchor" name="07b96e0ea41b877ec445e7709162c6ca"></a><!-- doxytag: member="GrDXT.cpp::Extract4x4BGR" ref="07b96e0ea41b877ec445e7709162c6ca" args="(unsigned char *block, unsigned char *src, unsigned int srcStride)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Extract4x4BGR           </td>
          <td>(</td>
          <td class="paramtype">unsigned char *&nbsp;</td>
          <td class="paramname"> <em>block</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned char *&nbsp;</td>
          <td class="paramname"> <em>src</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&nbsp;</td>
          <td class="paramname"> <em>srcStride</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="_gr_d_x_t_8cpp-source.html#l00255">255</a> of file <a class="el" href="_gr_d_x_t_8cpp-source.html">GrDXT.cpp</a>.</p>

</div>
</div><p>
<a class="anchor" name="b305a36de9037f74db50d680889c5219"></a><!-- doxytag: member="GrDXT.cpp::Extract4x4XY1" ref="b305a36de9037f74db50d680889c5219" args="(unsigned char *block, unsigned char *src, unsigned int srcStride)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Extract4x4XY1           </td>
          <td>(</td>
          <td class="paramtype">unsigned char *&nbsp;</td>
          <td class="paramname"> <em>block</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned char *&nbsp;</td>
          <td class="paramname"> <em>src</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&nbsp;</td>
          <td class="paramname"> <em>srcStride</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="_gr_d_x_t_8cpp-source.html#l00272">272</a> of file <a class="el" href="_gr_d_x_t_8cpp-source.html">GrDXT.cpp</a>.</p>

</div>
</div><p>
<a class="anchor" name="9367b26f9770131cfe1d59ccf55bd07f"></a><!-- doxytag: member="GrDXT.cpp::FillDXT1" ref="9367b26f9770131cfe1d59ccf55bd07f" args="(void *dst, unsigned int width, unsigned int height, unsigned char *bgrxColor)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void FillDXT1           </td>
          <td>(</td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>dst</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&nbsp;</td>
          <td class="paramname"> <em>width</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&nbsp;</td>
          <td class="paramname"> <em>height</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned char *&nbsp;</td>
          <td class="paramname"> <em>bgrxColor</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
fills a DXT encoded image with the color specified. 
<p>

<p>
calculate the color palette for each block.<p>
fill each DXT block with the palette data specified.<p>
color palette.<p>
color indices. 
<p>Definition at line <a class="el" href="_gr_d_x_t_8cpp-source.html#l00192">192</a> of file <a class="el" href="_gr_d_x_t_8cpp-source.html">GrDXT.cpp</a>.</p>

</div>
</div><p>
<a class="anchor" name="ddda053009cd1ebfe0f8c9ea17580094"></a><!-- doxytag: member="GrDXT.cpp::FillDXT5" ref="ddda053009cd1ebfe0f8c9ea17580094" args="(void *dst, unsigned int width, unsigned int height, unsigned char *bgraColor)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void FillDXT5           </td>
          <td>(</td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>dst</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&nbsp;</td>
          <td class="paramname"> <em>width</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&nbsp;</td>
          <td class="paramname"> <em>height</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned char *&nbsp;</td>
          <td class="paramname"> <em>bgraColor</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>
calculate the color palette for each block.<p>
calculate the alpha palette for each block. Technically, only the first 2 bytes of alphaPelette are the palette. The remaining two bytes are part of the indices.<p>
fill each DXT block with the palette data specified.<p>
color palette.<p>
color indices.<p>
alpha palette.<p>
alpha indices. 
<p>Definition at line <a class="el" href="_gr_d_x_t_8cpp-source.html#l00211">211</a> of file <a class="el" href="_gr_d_x_t_8cpp-source.html">GrDXT.cpp</a>.</p>

</div>
</div><p>
<a class="anchor" name="1fdb75290722c62bee98e5c5074a0953"></a><!-- doxytag: member="GrDXT.cpp::MinMax" ref="1fdb75290722c62bee98e5c5074a0953" args="(unsigned char *min, unsigned char *max, unsigned char *block)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void MinMax           </td>
          <td>(</td>
          <td class="paramtype">unsigned char *&nbsp;</td>
          <td class="paramname"> <em>min</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned char *&nbsp;</td>
          <td class="paramname"> <em>max</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned char *&nbsp;</td>
          <td class="paramname"> <em>block</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>
clear.<p>
calculate the min/max of the color cube.<p>
calculate the min/max.<p>
is this really even worth it?<p>
calculate the inset of the box.<p>
CAN dstMin + inset be larger than 255? adjust the minimum.<p>
CAN dstMax - inset be negative? adjust the maximum.<p>
adjust the min to ensure that it isn't equal to max.<p>
adjust the max to ensure that it isn't equal to min. 
<p>Definition at line <a class="el" href="_gr_d_x_t_8cpp-source.html#l00289">289</a> of file <a class="el" href="_gr_d_x_t_8cpp-source.html">GrDXT.cpp</a>.</p>

</div>
</div><p>
</div>
<hr size="1"><address style="text-align: right;"><small>Generated on Fri Feb 13 17:20:03 2009 for Bootstrap Engine by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.8 </small></address>
</body>
</html>
