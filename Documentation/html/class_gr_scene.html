<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>Bootstrap Engine: GrScene Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css">
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.8 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="annotated.html"><span>Class&nbsp;List</span></a></li>
      <li><a href="hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&nbsp;Members</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>GrScene Class Reference</h1><!-- doxytag: class="GrScene" -->class <a class="el" href="class_gr_scene.html" title="class GrScene">GrScene</a>  
<a href="#_details">More...</a>
<p>
<code>#include &lt;<a class="el" href="_gr_scene_8h-source.html">GrScene.h</a>&gt;</code>
<p>

<p>
<a href="class_gr_scene-members.html">List of all members.</a><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Public Types</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">typedef unsigned int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_gr_scene.html#7645ba831bfac8f4543f59ff7b2c63bd">PickFlags</a></td></tr>

<tr><td colspan="2"><br><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_gr_scene.html#e34b9d499e43774f936ead2aaa262538">GrScene</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">class <a class="el" href="class_gr_scene.html" title="class GrScene">GrScene</a>  <a href="#e34b9d499e43774f936ead2aaa262538"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_gr_scene.html#282d695d3b86b54e68319f2297a2e8b4">~GrScene</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">const <a class="el" href="class_u_path.html">UPath</a> &amp;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_gr_scene.html#3553093b4916089dbba484029cba2d11">GetSceneDefPath</a> () const </td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">returns the location of the current scene's SDF.  <a href="#3553093b4916089dbba484029cba2d11"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_gr_scene.html#dba42ed71a18bab46a9c02aefb6c5b36">LoadScene</a> (const <a class="el" href="class_u_path.html">UPath</a> &amp;path, <a class="el" href="common__afx_8h.html#816fa58fd77499b0edb2c69ebe803d5c">tstring</a> &amp;errors)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">load a scene.  <a href="#dba42ed71a18bab46a9c02aefb6c5b36"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_gr_scene.html#b95fdcbb9647160d1491e8de740122a7">Reset</a> (const <a class="el" href="class_u_path.html">UPath</a> &amp;sceneDefPath, const <a class="el" href="common__afx_8h.html#816fa58fd77499b0edb2c69ebe803d5c">tstring</a> &amp;<a class="el" href="glext__bak_8h.html#bb62efe59ccdd153ce42e1a418352209">name</a>, <a class="el" href="class_gr_b_s_p_tree.html">GrBSPTree</a> *bspTree, bool zUp)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">resets the scene.  <a href="#b95fdcbb9647160d1491e8de740122a7"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_gr_scene.html#d7926eb0813b3d6802b735a8c9a7880f">GetZUp</a> () const </td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">returns true if the scene is Z up, false if Y up (both are right handed).  <a href="#d7926eb0813b3d6802b735a8c9a7880f"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_gr_scene.html#c54d822c42d667aff5aea61a64553402">Update</a> (unsigned int gameTimeDelta, unsigned int sysTimeDelta)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">updates dynamic elements in the scene that are specific to the scene.  <a href="#c54d822c42d667aff5aea61a64553402"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_gr_scene.html#73ef4498b63c8574ad8c34c81b8c5baf">SetName</a> (const <a class="el" href="common__afx_8h.html#816fa58fd77499b0edb2c69ebe803d5c">tstring</a> &amp;<a class="el" href="glext__bak_8h.html#bb62efe59ccdd153ce42e1a418352209">name</a>)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">mutators.  <a href="#73ef4498b63c8574ad8c34c81b8c5baf"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">const <a class="el" href="common__afx_8h.html#816fa58fd77499b0edb2c69ebe803d5c">tstring</a> &amp;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_gr_scene.html#e7530eaa5692d6eecde9b90d14ff6639">GetName</a> () const </td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">scene name.  <a href="#e7530eaa5692d6eecde9b90d14ff6639"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_gr_scene.html#52d1ea4f232a02be349daed6a108a6c6">SetClearColor</a> (const <a class="el" href="class_gr_color.html">GrColor</a> &amp;<a class="el" href="glext_8h.html#3ea846f998d64f079b86052b6c4193a8">color</a>)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">clear color.  <a href="#52d1ea4f232a02be349daed6a108a6c6"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">const <a class="el" href="class_gr_color.html">GrColor</a> &amp;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_gr_scene.html#09f41cffdbef52b99439473e482faef8">GetClearColor</a> () const </td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">unsigned int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_gr_scene.html#38c11228869fe18212a2e9828d7664bb">GetSceneTime</a> () const </td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">scene time.  <a href="#38c11228869fe18212a2e9828d7664bb"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">unsigned int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_gr_scene.html#6b41fa1f794c9c955beff22da3f2e948">GetTimeDelta</a> () const </td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">unsigned int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_gr_scene.html#fbe441d52737edbdf48e2f0925129ace">GetFrameId</a> () const </td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="class_gr_scene.html#7645ba831bfac8f4543f59ff7b2c63bd">PickFlags</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_gr_scene.html#55ff6809eccf8aee6efbe9093902e241">Pick</a> (<a class="el" href="class_gr_model.html">GrModel</a> *&amp;model, <a class="el" href="class_gr_model_node.html">GrModelNode</a> *&amp;modelNode, <a class="el" href="class_gr_mesh_inst.html">GrMeshInst</a> *&amp;meshInst, <a class="el" href="struct_gr_mesh_1_1_s_tri_collision.html">GrMesh::STriCollision</a> &amp;hit, const <a class="el" href="class_m_ray.html">MRay</a> &amp;ray, <a class="el" href="class_gr_scene.html#7645ba831bfac8f4543f59ff7b2c63bd">PickFlags</a> <a class="el" href="_u_t_message_8h.html#0a3c0b351ab09281b662a9ff4f900a53">flags</a>=<a class="el" href="class_gr_scene.html#a8cf807b21fc873fd6158af7ca6da3e5">kPickAll</a>)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">perform a picking operation on the scene.  <a href="#55ff6809eccf8aee6efbe9093902e241"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="class_gr_b_s_p_tree.html">GrBSPTree</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_gr_scene.html#0b35a3a91dac9b66a606cedb305e6e03">GetBSPTree</a> () const </td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">accessors.  <a href="#0b35a3a91dac9b66a606cedb305e6e03"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="class_gr_model.html">GrModel</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_gr_scene.html#77053ce45ce06b5253e28c63660bbe20">GetRootModel</a> () const </td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="class_gr_model.html">GrModel</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_gr_scene.html#b6bba978374af9a4e07fc144d7aaee4d">GetSkyboxModel</a> () const </td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_gr_scene.html#edba5aec2c8d98d63416dd3be618a427">AddLight</a> (<a class="el" href="class_u_ref.html">URef</a>&lt; <a class="el" href="class_gr_light.html">GrLight</a> &gt; light)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">light management.  <a href="#edba5aec2c8d98d63416dd3be618a427"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="class_u_ref.html">URef</a>&lt; <a class="el" href="class_gr_light.html">GrLight</a> &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_gr_scene.html#72b23cf24995f4e8ed564694e47111e5">FindLight</a> (const char *<a class="el" href="glext__bak_8h.html#58c2a664503e14ffb8f21012aabff3e9">id</a>, int cmpLen=-1) const </td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_gr_scene.html#d164195244a057f9a27808fed5e49a97">RemoveLight</a> (const char *<a class="el" href="glext__bak_8h.html#58c2a664503e14ffb8f21012aabff3e9">id</a>)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_gr_scene.html#56a9545a1667c9dae82eecb89c4a60d7">RemoveLight</a> (<a class="el" href="class_gr_light.html">GrLight</a> *light)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">unsigned int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_gr_scene.html#0aecbaefcc7f4c2e7f03f9103df539ea">GetLightCount</a> () const </td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="class_u_ref.html">URef</a>&lt; <a class="el" href="class_gr_light.html">GrLight</a> &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_gr_scene.html#afe37dfc9c622a8e711da54913de9f82">GetLight</a> (unsigned int idx) const </td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_gr_scene.html#d8cf055496150d2f331ef24cf74dc0b6">SetGlobalAmbience</a> (const <a class="el" href="class_gr_color.html">GrColor</a> &amp;ambience)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">ambient lighting  <a href="#d8cf055496150d2f331ef24cf74dc0b6"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">const <a class="el" href="class_gr_color.html">GrColor</a> &amp;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_gr_scene.html#59c6545b88059447aac8f9ca4d1c3bf2">GetGlobalAmbience</a> () const </td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_gr_scene.html#1834cc42ace852985a396a950847a57e">SetLightEnable</a> (bool enabled)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">enable/disable all lights.  <a href="#1834cc42ace852985a396a950847a57e"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_gr_scene.html#4221a4094e3df2199d1192b84d57f741">DbgSetWireframe</a> (bool wireframe)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">debug functionality  <a href="#4221a4094e3df2199d1192b84d57f741"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_gr_scene.html#1115b4bd5df43fe6c184aeea371bb3c4">DbgGetWireframe</a> () const </td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_gr_scene.html#a48f857953dfa7af6103b4a9bf6ee7c6">DbgDrawHierarchy</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_gr_scene.html#121b1f76ae65b017b644f2748fd52b05">ShowAffected</a> (<a class="el" href="class_gr_light.html">GrLight</a> *light)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_gr_scene.html#d0b2a12e012faf97823cab5067eb4fb0">Cache</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">show scene elements affected by the light.  <a href="#d0b2a12e012faf97823cab5067eb4fb0"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_gr_scene.html#cb24d3dbe6ccb8f318934a381d440541">Evict</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_gr_scene.html#881037f45a998cb19df5256943f9b50f">Render</a> (const <a class="el" href="class_gr_camera.html">GrCamera</a> *camera)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">render the entire scene using the camera passed in.  <a href="#881037f45a998cb19df5256943f9b50f"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_gr_scene.html#5e92ae713e6a097e7407cb82c9a45db7">RenderTexture</a> (const <a class="el" href="class_gr_camera.html">GrCamera</a> *camera, const <a class="el" href="class_m_vec3.html">MVec3</a> &amp;pvsEyePos)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_gr_scene.html#29e762ce8bc2054ff7564cbae4aafea5">Clear</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">empty out the scene.  <a href="#29e762ce8bc2054ff7564cbae4aafea5"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_gr_scene.html#bd77c55363f70fdc20c346976948ab18">Traverse</a> (<a class="el" href="class_gr_scene_traverser.html">GrSceneTraverser</a> *traverser, <a class="el" href="class_gr_scene.html#7645ba831bfac8f4543f59ff7b2c63bd">PickFlags</a> elems=<a class="el" href="class_gr_scene.html#a8cf807b21fc873fd6158af7ca6da3e5">kPickAll</a>)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">scene object traversal.  <a href="#bd77c55363f70fdc20c346976948ab18"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_gr_scene.html#5a2aeac93da5261846c53b92d7333025">FindMeshInstsInFrustum</a> (<a class="el" href="class_gr_render_list.html">GrRenderList</a> &amp;meshInsts, const <a class="el" href="class_gr_frustum.html">GrFrustum</a> &amp;frustum)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">builds a list of meshInsts that overlap a frustum.  <a href="#5a2aeac93da5261846c53b92d7333025"></a><br></td></tr>
<tr><td colspan="2"><br><h2>Static Public Attributes</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">static const unsigned int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_gr_scene.html#d8f34543a299f163c881ba927ca00ced">kPickNone</a> = 0x00</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">static const unsigned int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_gr_scene.html#a2d4949176b03e4de401133af3c7539c">kPickBSP</a> = 0x01</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">static const unsigned int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_gr_scene.html#812919af44c1508b2e91ef02618a3794">kPickModels</a> = 0x02</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">static const unsigned int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_gr_scene.html#f34d527cd99bc6bb9029a87a57de4b96">kPickModelNodes</a> = 0x04</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">static const unsigned int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_gr_scene.html#a8cf807b21fc873fd6158af7ca6da3e5">kPickAll</a> = <a class="el" href="class_gr_scene.html#a2d4949176b03e4de401133af3c7539c">kPickBSP</a> | <a class="el" href="class_gr_scene.html#812919af44c1508b2e91ef02618a3794">kPickModels</a> | <a class="el" href="class_gr_scene.html#f34d527cd99bc6bb9029a87a57de4b96">kPickModelNodes</a></td></tr>

</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
class <a class="el" href="class_gr_scene.html" title="class GrScene">GrScene</a> 
<p>Definition at line <a class="el" href="_gr_scene_8h-source.html#l00049">49</a> of file <a class="el" href="_gr_scene_8h-source.html">GrScene.h</a>.</p>
<hr><h2>Member Typedef Documentation</h2>
<a class="anchor" name="7645ba831bfac8f4543f59ff7b2c63bd"></a><!-- doxytag: member="GrScene::PickFlags" ref="7645ba831bfac8f4543f59ff7b2c63bd" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef unsigned int <a class="el" href="class_gr_scene.html#7645ba831bfac8f4543f59ff7b2c63bd">GrScene::PickFlags</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
NOTE: The values of the flags in Scene.h and EdPick.h must match the values of the corresponding flags in this enumeration. 
<p>Definition at line <a class="el" href="_gr_scene_8h-source.html#l00054">54</a> of file <a class="el" href="_gr_scene_8h-source.html">GrScene.h</a>.</p>

</div>
</div><p>
<hr><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" name="e34b9d499e43774f936ead2aaa262538"></a><!-- doxytag: member="GrScene::GrScene" ref="e34b9d499e43774f936ead2aaa262538" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">GrScene::GrScene           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
class <a class="el" href="class_gr_scene.html" title="class GrScene">GrScene</a> 
<p>
ctor &amp; dtor 
<p>
make sure the resource manager is up and running.<p>
register some useful callbacks.<p>
make sure the scene hasn't already been created. 
<p>Definition at line <a class="el" href="_gr_scene_8cpp-source.html#l00125">125</a> of file <a class="el" href="_gr_scene_8cpp-source.html">GrScene.cpp</a>.</p>

</div>
</div><p>
<a class="anchor" name="282d695d3b86b54e68319f2297a2e8b4"></a><!-- doxytag: member="GrScene::~GrScene" ref="282d695d3b86b54e68319f2297a2e8b4" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">GrScene::~GrScene           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>
free the node tree. 
<p>Definition at line <a class="el" href="_gr_scene_8cpp-source.html#l00151">151</a> of file <a class="el" href="_gr_scene_8cpp-source.html">GrScene.cpp</a>.</p>

</div>
</div><p>
<hr><h2>Member Function Documentation</h2>
<a class="anchor" name="edba5aec2c8d98d63416dd3be618a427"></a><!-- doxytag: member="GrScene::AddLight" ref="edba5aec2c8d98d63416dd3be618a427" args="(URef&lt; GrLight &gt; light)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void GrScene::AddLight           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_u_ref.html">URef</a>&lt; <a class="el" href="class_gr_light.html">GrLight</a> &gt;&nbsp;</td>
          <td class="paramname"> <em>light</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
light management. 
<p>

<p>
add the light. Replace any existing light with the same name. 
<p>Definition at line <a class="el" href="_gr_scene_8cpp-source.html#l00325">325</a> of file <a class="el" href="_gr_scene_8cpp-source.html">GrScene.cpp</a>.</p>

</div>
</div><p>
<a class="anchor" name="d0b2a12e012faf97823cab5067eb4fb0"></a><!-- doxytag: member="GrScene::Cache" ref="d0b2a12e012faf97823cab5067eb4fb0" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void GrScene::Cache           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
show scene elements affected by the light. 
<p>
caches or evicts geometry. 
<p>Definition at line <a class="el" href="_gr_scene_8cpp-source.html#l00377">377</a> of file <a class="el" href="_gr_scene_8cpp-source.html">GrScene.cpp</a>.</p>

</div>
</div><p>
<a class="anchor" name="29e762ce8bc2054ff7564cbae4aafea5"></a><!-- doxytag: member="GrScene::Clear" ref="29e762ce8bc2054ff7564cbae4aafea5" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void GrScene::Clear           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
empty out the scene. 
<p>

<p>Definition at line <a class="el" href="_gr_scene_8cpp-source.html#l00435">435</a> of file <a class="el" href="_gr_scene_8cpp-source.html">GrScene.cpp</a>.</p>

</div>
</div><p>
<a class="anchor" name="a48f857953dfa7af6103b4a9bf6ee7c6"></a><!-- doxytag: member="GrScene::DbgDrawHierarchy" ref="a48f857953dfa7af6103b4a9bf6ee7c6" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void GrScene::DbgDrawHierarchy           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="_gr_scene_8cpp-source.html#l00370">370</a> of file <a class="el" href="_gr_scene_8cpp-source.html">GrScene.cpp</a>.</p>

</div>
</div><p>
<a class="anchor" name="1115b4bd5df43fe6c184aeea371bb3c4"></a><!-- doxytag: member="GrScene::DbgGetWireframe" ref="1115b4bd5df43fe6c184aeea371bb3c4" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool GrScene::DbgGetWireframe           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td> const<code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="_gr_scene_8h-source.html#l00120">120</a> of file <a class="el" href="_gr_scene_8h-source.html">GrScene.h</a>.</p>

</div>
</div><p>
<a class="anchor" name="4221a4094e3df2199d1192b84d57f741"></a><!-- doxytag: member="GrScene::DbgSetWireframe" ref="4221a4094e3df2199d1192b84d57f741" args="(bool wireframe)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void GrScene::DbgSetWireframe           </td>
          <td>(</td>
          <td class="paramtype">bool&nbsp;</td>
          <td class="paramname"> <em>wireframe</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
debug functionality 
<p>

<p>Definition at line <a class="el" href="_gr_scene_8h-source.html#l00119">119</a> of file <a class="el" href="_gr_scene_8h-source.html">GrScene.h</a>.</p>

</div>
</div><p>
<a class="anchor" name="cb24d3dbe6ccb8f318934a381d440541"></a><!-- doxytag: member="GrScene::Evict" ref="cb24d3dbe6ccb8f318934a381d440541" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void GrScene::Evict           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="_gr_scene_8cpp-source.html#l00386">386</a> of file <a class="el" href="_gr_scene_8cpp-source.html">GrScene.cpp</a>.</p>

</div>
</div><p>
<a class="anchor" name="72b23cf24995f4e8ed564694e47111e5"></a><!-- doxytag: member="GrScene::FindLight" ref="72b23cf24995f4e8ed564694e47111e5" args="(const char *id, int cmpLen=&#45;1) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_u_ref.html">URef</a>&lt; <a class="el" href="class_gr_light.html">GrLight</a> &gt; GrScene::FindLight           </td>
          <td>(</td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>cmpLen</em> = <code>-1</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="_gr_scene_8cpp-source.html#l00335">335</a> of file <a class="el" href="_gr_scene_8cpp-source.html">GrScene.cpp</a>.</p>

</div>
</div><p>
<a class="anchor" name="5a2aeac93da5261846c53b92d7333025"></a><!-- doxytag: member="GrScene::FindMeshInstsInFrustum" ref="5a2aeac93da5261846c53b92d7333025" args="(GrRenderList &amp;meshInsts, const GrFrustum &amp;frustum)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void GrScene::FindMeshInstsInFrustum           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_gr_render_list.html">GrRenderList</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>meshInsts</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="class_gr_frustum.html">GrFrustum</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>frustum</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
builds a list of meshInsts that overlap a frustum. 
<p>

<p>
TODO: this is probably not the correct way to do this.<p>
update any dirty transforms. 
<p>Definition at line <a class="el" href="_gr_scene_8cpp-source.html#l00453">453</a> of file <a class="el" href="_gr_scene_8cpp-source.html">GrScene.cpp</a>.</p>

</div>
</div><p>
<a class="anchor" name="0b35a3a91dac9b66a606cedb305e6e03"></a><!-- doxytag: member="GrScene::GetBSPTree" ref="0b35a3a91dac9b66a606cedb305e6e03" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_gr_b_s_p_tree.html">GrBSPTree</a>* GrScene::GetBSPTree           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td> const<code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
accessors. 
<p>

<p>Definition at line <a class="el" href="_gr_scene_8h-source.html#l00099">99</a> of file <a class="el" href="_gr_scene_8h-source.html">GrScene.h</a>.</p>

</div>
</div><p>
<a class="anchor" name="09f41cffdbef52b99439473e482faef8"></a><!-- doxytag: member="GrScene::GetClearColor" ref="09f41cffdbef52b99439473e482faef8" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="class_gr_color.html">GrColor</a>&amp; GrScene::GetClearColor           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td> const<code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="_gr_scene_8h-source.html#l00087">87</a> of file <a class="el" href="_gr_scene_8h-source.html">GrScene.h</a>.</p>

</div>
</div><p>
<a class="anchor" name="fbe441d52737edbdf48e2f0925129ace"></a><!-- doxytag: member="GrScene::GetFrameId" ref="fbe441d52737edbdf48e2f0925129ace" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned int GrScene::GetFrameId           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td> const<code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="_gr_scene_8h-source.html#l00092">92</a> of file <a class="el" href="_gr_scene_8h-source.html">GrScene.h</a>.</p>

</div>
</div><p>
<a class="anchor" name="59c6545b88059447aac8f9ca4d1c3bf2"></a><!-- doxytag: member="GrScene::GetGlobalAmbience" ref="59c6545b88059447aac8f9ca4d1c3bf2" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="class_gr_color.html">GrColor</a>&amp; GrScene::GetGlobalAmbience           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td> const<code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="_gr_scene_8h-source.html#l00113">113</a> of file <a class="el" href="_gr_scene_8h-source.html">GrScene.h</a>.</p>

</div>
</div><p>
<a class="anchor" name="afe37dfc9c622a8e711da54913de9f82"></a><!-- doxytag: member="GrScene::GetLight" ref="afe37dfc9c622a8e711da54913de9f82" args="(unsigned int idx) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_u_ref.html">URef</a>&lt; <a class="el" href="class_gr_light.html">GrLight</a> &gt; GrScene::GetLight           </td>
          <td>(</td>
          <td class="paramtype">unsigned int&nbsp;</td>
          <td class="paramname"> <em>idx</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="_gr_scene_8cpp-source.html#l00363">363</a> of file <a class="el" href="_gr_scene_8cpp-source.html">GrScene.cpp</a>.</p>

</div>
</div><p>
<a class="anchor" name="0aecbaefcc7f4c2e7f03f9103df539ea"></a><!-- doxytag: member="GrScene::GetLightCount" ref="0aecbaefcc7f4c2e7f03f9103df539ea" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned int GrScene::GetLightCount           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="_gr_scene_8cpp-source.html#l00356">356</a> of file <a class="el" href="_gr_scene_8cpp-source.html">GrScene.cpp</a>.</p>

</div>
</div><p>
<a class="anchor" name="e7530eaa5692d6eecde9b90d14ff6639"></a><!-- doxytag: member="GrScene::GetName" ref="e7530eaa5692d6eecde9b90d14ff6639" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="common__afx_8h.html#816fa58fd77499b0edb2c69ebe803d5c">tstring</a>&amp; GrScene::GetName           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td> const<code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
scene name. 
<p>

<p>Definition at line <a class="el" href="_gr_scene_8h-source.html#l00083">83</a> of file <a class="el" href="_gr_scene_8h-source.html">GrScene.h</a>.</p>

</div>
</div><p>
<a class="anchor" name="77053ce45ce06b5253e28c63660bbe20"></a><!-- doxytag: member="GrScene::GetRootModel" ref="77053ce45ce06b5253e28c63660bbe20" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_gr_model.html">GrModel</a>* GrScene::GetRootModel           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td> const<code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="_gr_scene_8h-source.html#l00100">100</a> of file <a class="el" href="_gr_scene_8h-source.html">GrScene.h</a>.</p>

</div>
</div><p>
<a class="anchor" name="3553093b4916089dbba484029cba2d11"></a><!-- doxytag: member="GrScene::GetSceneDefPath" ref="3553093b4916089dbba484029cba2d11" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="class_u_path.html">UPath</a>&amp; GrScene::GetSceneDefPath           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td> const<code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
returns the location of the current scene's SDF. 
<p>

<p>Definition at line <a class="el" href="_gr_scene_8h-source.html#l00065">65</a> of file <a class="el" href="_gr_scene_8h-source.html">GrScene.h</a>.</p>

</div>
</div><p>
<a class="anchor" name="38c11228869fe18212a2e9828d7664bb"></a><!-- doxytag: member="GrScene::GetSceneTime" ref="38c11228869fe18212a2e9828d7664bb" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned int GrScene::GetSceneTime           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td> const<code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
scene time. 
<p>

<p>Definition at line <a class="el" href="_gr_scene_8h-source.html#l00090">90</a> of file <a class="el" href="_gr_scene_8h-source.html">GrScene.h</a>.</p>

</div>
</div><p>
<a class="anchor" name="b6bba978374af9a4e07fc144d7aaee4d"></a><!-- doxytag: member="GrScene::GetSkyboxModel" ref="b6bba978374af9a4e07fc144d7aaee4d" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_gr_model.html">GrModel</a>* GrScene::GetSkyboxModel           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td> const<code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="_gr_scene_8h-source.html#l00101">101</a> of file <a class="el" href="_gr_scene_8h-source.html">GrScene.h</a>.</p>

</div>
</div><p>
<a class="anchor" name="6b41fa1f794c9c955beff22da3f2e948"></a><!-- doxytag: member="GrScene::GetTimeDelta" ref="6b41fa1f794c9c955beff22da3f2e948" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned int GrScene::GetTimeDelta           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td> const<code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="_gr_scene_8h-source.html#l00091">91</a> of file <a class="el" href="_gr_scene_8h-source.html">GrScene.h</a>.</p>

</div>
</div><p>
<a class="anchor" name="d7926eb0813b3d6802b735a8c9a7880f"></a><!-- doxytag: member="GrScene::GetZUp" ref="d7926eb0813b3d6802b735a8c9a7880f" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool GrScene::GetZUp           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td> const<code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
returns true if the scene is Z up, false if Y up (both are right handed). 
<p>

<p>Definition at line <a class="el" href="_gr_scene_8h-source.html#l00074">74</a> of file <a class="el" href="_gr_scene_8h-source.html">GrScene.h</a>.</p>

</div>
</div><p>
<a class="anchor" name="dba42ed71a18bab46a9c02aefb6c5b36"></a><!-- doxytag: member="GrScene::LoadScene" ref="dba42ed71a18bab46a9c02aefb6c5b36" args="(const UPath &amp;path, tstring &amp;errors)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool GrScene::LoadScene           </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_u_path.html">UPath</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="common__afx_8h.html#816fa58fd77499b0edb2c69ebe803d5c">tstring</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>errors</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
load a scene. 
<p>
public methods 
<p>Definition at line <a class="el" href="_gr_scene_8cpp-source.html#l00168">168</a> of file <a class="el" href="_gr_scene_8cpp-source.html">GrScene.cpp</a>.</p>

</div>
</div><p>
<a class="anchor" name="55ff6809eccf8aee6efbe9093902e241"></a><!-- doxytag: member="GrScene::Pick" ref="55ff6809eccf8aee6efbe9093902e241" args="(GrModel *&amp;model, GrModelNode *&amp;modelNode, GrMeshInst *&amp;meshInst, GrMesh::STriCollision &amp;hit, const MRay &amp;ray, PickFlags flags=kPickAll)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_gr_scene.html#7645ba831bfac8f4543f59ff7b2c63bd">GrScene::PickFlags</a> GrScene::Pick           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_gr_model.html">GrModel</a> *&amp;&nbsp;</td>
          <td class="paramname"> <em>model</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_gr_model_node.html">GrModelNode</a> *&amp;&nbsp;</td>
          <td class="paramname"> <em>modelNode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_gr_mesh_inst.html">GrMeshInst</a> *&amp;&nbsp;</td>
          <td class="paramname"> <em>meshInst</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_gr_mesh_1_1_s_tri_collision.html">GrMesh::STriCollision</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>hit</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="class_m_ray.html">MRay</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>ray</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_gr_scene.html#7645ba831bfac8f4543f59ff7b2c63bd">PickFlags</a>&nbsp;</td>
          <td class="paramname"> <em>flags</em> = <code><a class="el" href="class_gr_scene.html#a8cf807b21fc873fd6158af7ca6da3e5">kPickAll</a></code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
perform a picking operation on the scene. 
<p>

<p>
pick against the BSP tree.<p>
push the ray out to a value too large.<p>
perform the pick operations.<p>
TODO: clean this up.<p>
check for an early out.<p>
check distances.<p>
get the closest hit.<p>
if we hit a model's meshInst and we're picking model nodes, determine which modelNode that meshInst belongs to.<p>
validate the parameters.<p>
find the model node that contains that meshInst.<p>
if the model node was found, update the hitType.<p>
return flags that indicate what we hit. 
<p>Definition at line <a class="el" href="_gr_scene_8cpp-source.html#l00194">194</a> of file <a class="el" href="_gr_scene_8cpp-source.html">GrScene.cpp</a>.</p>

</div>
</div><p>
<a class="anchor" name="56a9545a1667c9dae82eecb89c4a60d7"></a><!-- doxytag: member="GrScene::RemoveLight" ref="56a9545a1667c9dae82eecb89c4a60d7" args="(GrLight *light)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool GrScene::RemoveLight           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_gr_light.html">GrLight</a> *&nbsp;</td>
          <td class="paramname"> <em>light</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="_gr_scene_8cpp-source.html#l00349">349</a> of file <a class="el" href="_gr_scene_8cpp-source.html">GrScene.cpp</a>.</p>

</div>
</div><p>
<a class="anchor" name="d164195244a057f9a27808fed5e49a97"></a><!-- doxytag: member="GrScene::RemoveLight" ref="d164195244a057f9a27808fed5e49a97" args="(const char *id)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool GrScene::RemoveLight           </td>
          <td>(</td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>id</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="_gr_scene_8cpp-source.html#l00342">342</a> of file <a class="el" href="_gr_scene_8cpp-source.html">GrScene.cpp</a>.</p>

</div>
</div><p>
<a class="anchor" name="881037f45a998cb19df5256943f9b50f"></a><!-- doxytag: member="GrScene::Render" ref="881037f45a998cb19df5256943f9b50f" args="(const GrCamera *camera)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void GrScene::Render           </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_gr_camera.html">GrCamera</a> *&nbsp;</td>
          <td class="paramname"> <em>camera</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
render the entire scene using the camera passed in. 
<p>

<p>
clear the previous frame's statistics.<p>
generate any procedural textures.<p>
start rendering frame.<p>
render the scene to the texture ( the framebuffer is a texture ).<p>
end rendering frame.<p>
draw out the hierarchy as a debug function. 
<p>Definition at line <a class="el" href="_gr_scene_8cpp-source.html#l00395">395</a> of file <a class="el" href="_gr_scene_8cpp-source.html">GrScene.cpp</a>.</p>

</div>
</div><p>
<a class="anchor" name="5e92ae713e6a097e7407cb82c9a45db7"></a><!-- doxytag: member="GrScene::RenderTexture" ref="5e92ae713e6a097e7407cb82c9a45db7" args="(const GrCamera *camera, const MVec3 &amp;pvsEyePos)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void GrScene::RenderTexture           </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_gr_camera.html">GrCamera</a> *&nbsp;</td>
          <td class="paramname"> <em>camera</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="class_m_vec3.html">MVec3</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>pvsEyePos</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
render the scene onto a texture. Note that the texture is expected to be the currently bound framebuffer. 
<p>
clear the framebuffer.<p>
increment the frame ID.<p>
render lights. 
<p>Definition at line <a class="el" href="_gr_scene_8cpp-source.html#l00421">421</a> of file <a class="el" href="_gr_scene_8cpp-source.html">GrScene.cpp</a>.</p>

</div>
</div><p>
<a class="anchor" name="b95fdcbb9647160d1491e8de740122a7"></a><!-- doxytag: member="GrScene::Reset" ref="b95fdcbb9647160d1491e8de740122a7" args="(const UPath &amp;sceneDefPath, const tstring &amp;name, GrBSPTree *bspTree, bool zUp)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void GrScene::Reset           </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_u_path.html">UPath</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>sceneDefPath</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="common__afx_8h.html#816fa58fd77499b0edb2c69ebe803d5c">tstring</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_gr_b_s_p_tree.html">GrBSPTree</a> *&nbsp;</td>
          <td class="paramname"> <em>bspTree</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&nbsp;</td>
          <td class="paramname"> <em>zUp</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
resets the scene. 
<p>

<p>
ensure that the parameters coming in are valid.<p>
clean the current scene and set the data.<p>
notify the BSP tree that it's been added to the scene. 
<p>Definition at line <a class="el" href="_gr_scene_8cpp-source.html#l00176">176</a> of file <a class="el" href="_gr_scene_8cpp-source.html">GrScene.cpp</a>.</p>

</div>
</div><p>
<a class="anchor" name="52d1ea4f232a02be349daed6a108a6c6"></a><!-- doxytag: member="GrScene::SetClearColor" ref="52d1ea4f232a02be349daed6a108a6c6" args="(const GrColor &amp;color)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void GrScene::SetClearColor           </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_gr_color.html">GrColor</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>color</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
clear color. 
<p>

<p>Definition at line <a class="el" href="_gr_scene_8h-source.html#l00086">86</a> of file <a class="el" href="_gr_scene_8h-source.html">GrScene.h</a>.</p>

</div>
</div><p>
<a class="anchor" name="d8cf055496150d2f331ef24cf74dc0b6"></a><!-- doxytag: member="GrScene::SetGlobalAmbience" ref="d8cf055496150d2f331ef24cf74dc0b6" args="(const GrColor &amp;ambience)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void GrScene::SetGlobalAmbience           </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_gr_color.html">GrColor</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>ambience</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
ambient lighting 
<p>

<p>Definition at line <a class="el" href="_gr_scene_8h-source.html#l00112">112</a> of file <a class="el" href="_gr_scene_8h-source.html">GrScene.h</a>.</p>

</div>
</div><p>
<a class="anchor" name="1834cc42ace852985a396a950847a57e"></a><!-- doxytag: member="GrScene::SetLightEnable" ref="1834cc42ace852985a396a950847a57e" args="(bool enabled)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void GrScene::SetLightEnable           </td>
          <td>(</td>
          <td class="paramtype">bool&nbsp;</td>
          <td class="paramname"> <em>enabled</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
enable/disable all lights. 
<p>

<p>Definition at line <a class="el" href="_gr_scene_8h-source.html#l00116">116</a> of file <a class="el" href="_gr_scene_8h-source.html">GrScene.h</a>.</p>

</div>
</div><p>
<a class="anchor" name="73ef4498b63c8574ad8c34c81b8c5baf"></a><!-- doxytag: member="GrScene::SetName" ref="73ef4498b63c8574ad8c34c81b8c5baf" args="(const tstring &amp;name)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void GrScene::SetName           </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="common__afx_8h.html#816fa58fd77499b0edb2c69ebe803d5c">tstring</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>name</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
mutators. 
<p>

<p>Definition at line <a class="el" href="_gr_scene_8h-source.html#l00080">80</a> of file <a class="el" href="_gr_scene_8h-source.html">GrScene.h</a>.</p>

</div>
</div><p>
<a class="anchor" name="121b1f76ae65b017b644f2748fd52b05"></a><!-- doxytag: member="GrScene::ShowAffected" ref="121b1f76ae65b017b644f2748fd52b05" args="(GrLight *light)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void GrScene::ShowAffected           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_gr_light.html">GrLight</a> *&nbsp;</td>
          <td class="paramname"> <em>light</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="bd77c55363f70fdc20c346976948ab18"></a><!-- doxytag: member="GrScene::Traverse" ref="bd77c55363f70fdc20c346976948ab18" args="(GrSceneTraverser *traverser, PickFlags elems=kPickAll)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void GrScene::Traverse           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_gr_scene_traverser.html">GrSceneTraverser</a> *&nbsp;</td>
          <td class="paramname"> <em>traverser</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_gr_scene.html#7645ba831bfac8f4543f59ff7b2c63bd">PickFlags</a>&nbsp;</td>
          <td class="paramname"> <em>elems</em> = <code><a class="el" href="class_gr_scene.html#a8cf807b21fc873fd6158af7ca6da3e5">kPickAll</a></code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
scene object traversal. 
<p>

<p>
iterate through elements on the BSP tree. 
<p>Definition at line <a class="el" href="_gr_scene_8cpp-source.html#l00442">442</a> of file <a class="el" href="_gr_scene_8cpp-source.html">GrScene.cpp</a>.</p>

</div>
</div><p>
<a class="anchor" name="c54d822c42d667aff5aea61a64553402"></a><!-- doxytag: member="GrScene::Update" ref="c54d822c42d667aff5aea61a64553402" args="(unsigned int gameTimeDelta, unsigned int sysTimeDelta)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void GrScene::Update           </td>
          <td>(</td>
          <td class="paramtype">unsigned int&nbsp;</td>
          <td class="paramname"> <em>gameTimeDelta</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&nbsp;</td>
          <td class="paramname"> <em>sysTimeDelta</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
updates dynamic elements in the scene that are specific to the scene. 
<p>

<p>
update the renderer's time.<p>
update the current time.<p>
update the dynamic node tree.<p>
update lights. 
<p>Definition at line <a class="el" href="_gr_scene_8cpp-source.html#l00303">303</a> of file <a class="el" href="_gr_scene_8cpp-source.html">GrScene.cpp</a>.</p>

</div>
</div><p>
<hr><h2>Member Data Documentation</h2>
<a class="anchor" name="a8cf807b21fc873fd6158af7ca6da3e5"></a><!-- doxytag: member="GrScene::kPickAll" ref="a8cf807b21fc873fd6158af7ca6da3e5" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const unsigned int <a class="el" href="class_gr_scene.html#a8cf807b21fc873fd6158af7ca6da3e5">GrScene::kPickAll</a> = <a class="el" href="class_gr_scene.html#a2d4949176b03e4de401133af3c7539c">kPickBSP</a> | <a class="el" href="class_gr_scene.html#812919af44c1508b2e91ef02618a3794">kPickModels</a> | <a class="el" href="class_gr_scene.html#f34d527cd99bc6bb9029a87a57de4b96">kPickModelNodes</a><code> [static]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="_gr_scene_8h-source.html#l00059">59</a> of file <a class="el" href="_gr_scene_8h-source.html">GrScene.h</a>.</p>

</div>
</div><p>
<a class="anchor" name="a2d4949176b03e4de401133af3c7539c"></a><!-- doxytag: member="GrScene::kPickBSP" ref="a2d4949176b03e4de401133af3c7539c" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const unsigned int <a class="el" href="class_gr_scene.html#a2d4949176b03e4de401133af3c7539c">GrScene::kPickBSP</a> = 0x01<code> [static]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="_gr_scene_8h-source.html#l00056">56</a> of file <a class="el" href="_gr_scene_8h-source.html">GrScene.h</a>.</p>

</div>
</div><p>
<a class="anchor" name="f34d527cd99bc6bb9029a87a57de4b96"></a><!-- doxytag: member="GrScene::kPickModelNodes" ref="f34d527cd99bc6bb9029a87a57de4b96" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const unsigned int <a class="el" href="class_gr_scene.html#f34d527cd99bc6bb9029a87a57de4b96">GrScene::kPickModelNodes</a> = 0x04<code> [static]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="_gr_scene_8h-source.html#l00058">58</a> of file <a class="el" href="_gr_scene_8h-source.html">GrScene.h</a>.</p>

</div>
</div><p>
<a class="anchor" name="812919af44c1508b2e91ef02618a3794"></a><!-- doxytag: member="GrScene::kPickModels" ref="812919af44c1508b2e91ef02618a3794" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const unsigned int <a class="el" href="class_gr_scene.html#812919af44c1508b2e91ef02618a3794">GrScene::kPickModels</a> = 0x02<code> [static]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="_gr_scene_8h-source.html#l00057">57</a> of file <a class="el" href="_gr_scene_8h-source.html">GrScene.h</a>.</p>

</div>
</div><p>
<a class="anchor" name="d8f34543a299f163c881ba927ca00ced"></a><!-- doxytag: member="GrScene::kPickNone" ref="d8f34543a299f163c881ba927ca00ced" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const unsigned int <a class="el" href="class_gr_scene.html#d8f34543a299f163c881ba927ca00ced">GrScene::kPickNone</a> = 0x00<code> [static]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="_gr_scene_8h-source.html#l00055">55</a> of file <a class="el" href="_gr_scene_8h-source.html">GrScene.h</a>.</p>

</div>
</div><p>
<hr>The documentation for this class was generated from the following files:<ul>
<li>C:/Bootstrap/ProjectBX/Documentation/Code/Engine/Graphics/<a class="el" href="_gr_scene_8h-source.html">GrScene.h</a><li>C:/Bootstrap/ProjectBX/Documentation/Code/Engine/Graphics/<a class="el" href="_gr_scene_8cpp-source.html">GrScene.cpp</a></ul>
</div>
<hr size="1"><address style="text-align: right;"><small>Generated on Fri Feb 13 17:20:05 2009 for Bootstrap Engine by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.8 </small></address>
</body>
</html>
