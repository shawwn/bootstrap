<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>Bootstrap Engine: C:/Bootstrap/ProjectBX/Documentation/Code/Engine/Graphics/GrModel.h Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css">
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.8 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
      <li><a href="globals.html"><span>File&nbsp;Members</span></a></li>
    </ul>
  </div>
<h1>C:/Bootstrap/ProjectBX/Documentation/Code/Engine/Graphics/GrModel.h</h1><a href="_gr_model_8h.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="comment">//----------------------------------------------------------</span>
<a name="l00004"></a>00004 <span class="comment"></span><span class="comment">//</span>
<a name="l00006"></a>00006 <span class="comment"></span><span class="comment">//</span>
<a name="l00009"></a>00009 <span class="comment"></span><span class="comment">//----------------------------------------------------------</span>
<a name="l00010"></a>00010 <span class="preprocessor">#pragma once</span>
<a name="l00011"></a>00011 <span class="preprocessor"></span>
<a name="l00013"></a>00013 <span class="preprocessor">#include "<a class="code" href="_u_table_8h.html">UTable.h</a>"</span>
<a name="l00014"></a>00014 <span class="preprocessor">#include "<a class="code" href="_m_mat4x4_array_8h.html">MMat4x4Array.h</a>"</span>
<a name="l00015"></a>00015 <span class="preprocessor">#include "<a class="code" href="_m_mat4x4_8h.html">MMat4x4.h</a>"</span>
<a name="l00016"></a>00016 <span class="preprocessor">#include "<a class="code" href="_m_a_a_box_8h.html">MAABox.h</a>"</span>
<a name="l00017"></a>00017 <span class="preprocessor">#include "<a class="code" href="_u_ref_8h.html">URef.h</a>"</span>
<a name="l00018"></a>00018 <span class="preprocessor">#include "<a class="code" href="_u_path_8h.html">UPath.h</a>"</span>
<a name="l00019"></a>00019 <span class="preprocessor">#include "<a class="code" href="_gr_mesh_8h.html">GrMesh.h</a>"</span>
<a name="l00020"></a>00020 
<a name="l00022"></a>00022 <span class="preprocessor">#include &lt;map&gt;</span>
<a name="l00023"></a>00023 <span class="preprocessor">#include &lt;vector&gt;</span>
<a name="l00024"></a>00024 
<a name="l00025"></a>00025 <span class="keyword">class </span><a class="code" href="class_gr_polygon_node.html" title="class GrPolygonNode">GrPolygonNode</a>;
<a name="l00026"></a>00026 <span class="keyword">class </span><a class="code" href="class_gr_polygon_mesh.html" title="class GrPolygonMesh">GrPolygonMesh</a>;
<a name="l00027"></a>00027 <span class="keyword">class </span>GrAttachment;
<a name="l00028"></a>00028 <span class="keyword">class </span><a class="code" href="class_gr_mesh_inst.html" title="class GrMeshInst">GrMeshInst</a>;
<a name="l00029"></a>00029 <span class="keyword">class </span><a class="code" href="class_gr_mesh.html" title="class GrMesh">GrMesh</a>;
<a name="l00030"></a>00030 <span class="keyword">class </span><a class="code" href="class_gr_frustum.html" title="class GrFrustum">GrFrustum</a>;
<a name="l00031"></a>00031 <span class="keyword">class </span><a class="code" href="class_u_reader.html" title="Purpose: To wrap and simplify pointer read operations.">UReader</a>;
<a name="l00032"></a>00032 <span class="keyword">class </span><a class="code" href="class_u_writer.html" title="Purpose: To wrap and simplify pointer write operations.">UWriter</a>;
<a name="l00033"></a>00033 <span class="keyword">class </span><a class="code" href="class_gr_model_node.html" title="class GrModelNode">GrModelNode</a>;
<a name="l00034"></a>00034 <span class="keyword">class </span><a class="code" href="class_gr_anim_player.html" title="class GrAnimPlayer">GrAnimPlayer</a>;
<a name="l00035"></a>00035 <span class="keyword">class </span><a class="code" href="class_gr_k_f_anim.html" title="class GrKFAnim">GrKFAnim</a>;
<a name="l00036"></a>00036 <span class="keyword">class </span><a class="code" href="class_gr_model_skin_controller.html" title="class GrModelSkinController">GrModelSkinController</a>;
<a name="l00037"></a>00037 <span class="keyword">class </span><a class="code" href="class_gr_render_list.html" title="class GrRenderList">GrRenderList</a>;
<a name="l00038"></a>00038 <span class="keyword">class </span><a class="code" href="class_gr_scene_traverser.html" title="class GrSceneTraverser">GrSceneTraverser</a>;
<a name="l00039"></a>00039 <span class="keyword">class </span><a class="code" href="class_gr_light.html" title="class GrLight">GrLight</a>;
<a name="l00040"></a>00040 <span class="keyword">class </span><a class="code" href="class_m_sphere.html" title="class MSphere">MSphere</a>;
<a name="l00041"></a>00041 <span class="keyword">class </span><a class="code" href="class_m_ray.html" title="class MRay">MRay</a>;
<a name="l00042"></a>00042 
<a name="l00043"></a>00043 <span class="comment">//**********************************************************</span>
<a name="l00045"></a>00045 <span class="comment"></span><span class="comment">//**********************************************************</span>
<a name="l00046"></a><a class="code" href="class_gr_model.html">00046</a> <span class="keyword">class </span><a class="code" href="class_gr_model.html" title="class GrModel">GrModel</a> : <span class="keyword">public</span> <a class="code" href="class_u_ref_count.html" title="Purpose: Maintain a ref-count for smart pointers.">URefCount</a>
<a name="l00047"></a>00047 {
<a name="l00048"></a>00048 <span class="keyword">public</span>:
<a name="l00049"></a><a class="code" href="class_gr_model.html#1bc87aacfe8601c9096280a5257679cd">00049</a>         <span class="keyword">typedef</span> <a class="code" href="class_u_fast_array.html" title="Purpose: To act like a std::vector, only faster. Avoids.">UFastArray&lt; URef&lt; GrModel &gt;</a> &gt; <a class="code" href="class_u_fast_array.html">ModelArray</a>;
<a name="l00050"></a>00050 
<a name="l00052"></a>00052         <a class="code" href="class_gr_model.html" title="class GrModel">GrModel</a>( <span class="keyword">const</span> <a class="code" href="common__afx_8h.html#816fa58fd77499b0edb2c69ebe803d5c" title="include BootstrapFS.">tstring</a>&amp; <a class="code" href="glext_8h.html#f7477b8725fcf509c9623f64b9d09164">name</a> );
<a name="l00053"></a>00053 
<a name="l00055"></a>00055         <a class="code" href="class_gr_model.html" title="class GrModel">GrModel</a>( <span class="keyword">const</span> <a class="code" href="class_u_path.html" title="Purpose: To provide a clean way to represent paths strings.">UPath</a>&amp; instName, <a class="code" href="class_gr_polygon_node.html" title="class GrPolygonNode">GrPolygonNode</a>* root );
<a name="l00056"></a>00056         <a class="code" href="class_gr_model.html" title="class GrModel">GrModel</a>( <span class="keyword">const</span> <a class="code" href="class_u_path.html" title="Purpose: To provide a clean way to represent paths strings.">UPath</a>&amp; fileName, <span class="keyword">const</span> <a class="code" href="class_u_path.html" title="Purpose: To provide a clean way to represent paths strings.">UPath</a>&amp; instName, <a class="code" href="class_u_reader.html" title="Purpose: To wrap and simplify pointer read operations.">UReader</a>&amp; reader );
<a name="l00057"></a>00057         <a class="code" href="class_gr_model.html#e48b47449f463e0b0a7b42943db1310c">~GrModel</a>();
<a name="l00058"></a>00058 
<a name="l00060"></a><a class="code" href="class_gr_model.html#390da9636c9c396d1fa3241b72ff6166">00060</a>         <span class="keyword">const</span> <a class="code" href="class_u_path.html" title="Purpose: To provide a clean way to represent paths strings.">UPath</a>&amp;                    <a class="code" href="class_gr_model.html#390da9636c9c396d1fa3241b72ff6166" title="returns information about the model&amp;#39;s name.">GetFileName</a>()<span class="keyword"> const                                                     </span>{       <span class="keywordflow">return</span> _fileName;                       }
<a name="l00061"></a><a class="code" href="class_gr_model.html#e8a075163c88d6bf6623db37d65cd17a">00061</a>         <span class="keyword">const</span> <a class="code" href="class_u_path.html" title="Purpose: To provide a clean way to represent paths strings.">UPath</a>&amp;                    <a class="code" href="class_gr_model.html#e8a075163c88d6bf6623db37d65cd17a">GetInstName</a>()<span class="keyword"> const                                                     </span>{       <span class="keywordflow">return</span> _instName;                       }
<a name="l00062"></a>00062 
<a name="l00063"></a><a class="code" href="class_gr_model.html#155e00b717c10f201168f4dfc1f2c141">00063</a>         <span class="keywordtype">void</span>                                    <a class="code" href="class_gr_model.html#155e00b717c10f201168f4dfc1f2c141">SetPickable</a>( <span class="keywordtype">bool</span> pickable )                            {       _pickable = pickable;           }
<a name="l00064"></a><a class="code" href="class_gr_model.html#fa97c9215a2c2dcee2df132561f03698">00064</a>         <span class="keywordtype">bool</span>                                    <a class="code" href="class_gr_model.html#fa97c9215a2c2dcee2df132561f03698">GetPickable</a>()<span class="keyword"> const                                                     </span>{       <span class="keywordflow">return</span> _pickable;                       }
<a name="l00065"></a>00065 
<a name="l00068"></a>00068         <a class="code" href="class_gr_model.html" title="class GrModel">GrModel</a>*                                <a class="code" href="class_gr_model.html#29d55ee007063d294ee9097c56d9f453" title="public methods">Clone</a>( <span class="keyword">const</span> <a class="code" href="class_u_path.html" title="Purpose: To provide a clean way to represent paths strings.">UPath</a>&amp; instName, <span class="keywordtype">bool</span> deep = <span class="keyword">false</span>, <span class="keywordtype">bool</span> lights = <span class="keyword">false</span> ) <span class="keyword">const</span>;
<a name="l00069"></a>00069         <a class="code" href="class_gr_model.html" title="class GrModel">GrModel</a>*                                <a class="code" href="class_gr_model.html#fe7a05f880c1d67b55ef8130971836d6">CloneFile</a>( <span class="keyword">const</span> <a class="code" href="class_u_path.html" title="Purpose: To provide a clean way to represent paths strings.">UPath</a>&amp; fileName, <span class="keyword">const</span> <a class="code" href="class_u_path.html" title="Purpose: To provide a clean way to represent paths strings.">UPath</a>&amp; instName ) <span class="keyword">const</span>;
<a name="l00070"></a>00070 
<a name="l00071"></a><a class="code" href="class_gr_model.html#ad017a6434f66a1051a57920b0561098">00071</a>         <a class="code" href="class_gr_model.html" title="class GrModel">GrModel</a>*                                <a class="code" href="class_gr_model.html#ad017a6434f66a1051a57920b0561098">GetParent</a>()<span class="keyword"> const                                                       </span>{       <span class="keywordflow">return</span> _parent;                         }
<a name="l00072"></a><a class="code" href="class_gr_model.html#3497944f601c7427a96f66cafc3a151e">00072</a>         <a class="code" href="class_gr_model_node.html" title="class GrModelNode">GrModelNode</a>*                    <a class="code" href="class_gr_model.html#3497944f601c7427a96f66cafc3a151e">GetParentNode</a>()<span class="keyword"> const                                           </span>{       <span class="keywordflow">return</span> _parentNode;                     }
<a name="l00073"></a>00073 
<a name="l00076"></a>00076         <a class="code" href="class_gr_anim_player.html" title="class GrAnimPlayer">GrAnimPlayer</a>*                   <a class="code" href="class_gr_model.html#1759e9f0d11efd39892411dc80fd3312">GetAnimPlayer</a>( <span class="keywordtype">bool</span> create = <span class="keyword">false</span> );
<a name="l00077"></a>00077         <a class="code" href="class_gr_anim_player.html" title="class GrAnimPlayer">GrAnimPlayer</a>*                   <a class="code" href="class_gr_model.html#1759e9f0d11efd39892411dc80fd3312">GetAnimPlayer</a>() <span class="keyword">const</span>;
<a name="l00078"></a>00078 
<a name="l00080"></a><a class="code" href="class_gr_model.html#8ae2497533c112953c1b4d4cc0e72cad">00080</a>         <span class="keywordtype">void</span>                                    <a class="code" href="class_gr_model.html#8ae2497533c112953c1b4d4cc0e72cad" title="ambient animation.">SetDefaultAnim</a>( <a class="code" href="class_gr_k_f_anim.html" title="class GrKFAnim">GrKFAnim</a>* anim )                        {       _defaultAnim = anim;            }
<a name="l00081"></a><a class="code" href="class_gr_model.html#a9b644ea4efa86b73299934940c8b155">00081</a>         <a class="code" href="class_gr_k_f_anim.html" title="class GrKFAnim">GrKFAnim</a>*                               <a class="code" href="class_gr_model.html#a9b644ea4efa86b73299934940c8b155">GetDefaultAnim</a>()<span class="keyword"> const                                          </span>{       <span class="keywordflow">return</span> _defaultAnim;            }
<a name="l00082"></a>00082 
<a name="l00084"></a>00084         <span class="keywordtype">void</span>                                    <a class="code" href="class_gr_model.html#e99405dcb83200626b7c715755f70836" title="local transform.">SetLocal</a>( <span class="keyword">const</span> <a class="code" href="class_m_mat4x4.html" title="class MMat4x4">MMat4x4</a>&amp; <a class="code" href="glext_8h.html#07993c0d92c1aeeb357ba0495c8b5325">transform</a> );
<a name="l00085"></a><a class="code" href="class_gr_model.html#539780a5145b366b29e97a480846f67d">00085</a>         <span class="keyword">const</span> <a class="code" href="class_m_mat4x4.html" title="class MMat4x4">MMat4x4</a>&amp;                  <a class="code" href="class_gr_model.html#539780a5145b366b29e97a480846f67d">GetLocal</a>()<span class="keyword"> const                                                    </span>{   <span class="keywordflow">return</span> _local;                      }
<a name="l00086"></a>00086 
<a name="l00089"></a>00089     <span class="keywordtype">void</span>                    <a class="code" href="class_gr_model.html#a3f1827d34de5f0c67d20103cf0d97bc">SetWorld</a>( <span class="keyword">const</span> <a class="code" href="class_m_mat4x4.html" title="class MMat4x4">MMat4x4</a>&amp; <a class="code" href="glext_8h.html#07993c0d92c1aeeb357ba0495c8b5325">transform</a> );
<a name="l00090"></a>00090     <a class="code" href="class_m_mat4x4.html" title="class MMat4x4">MMat4x4</a>                 <a class="code" href="class_gr_model.html#624ce6372c1bdd5a077e51c16adb9242">GetWorld</a>();
<a name="l00091"></a>00091 
<a name="l00093"></a><a class="code" href="class_gr_model.html#3667043cfbdca6e413d4de9d0449aa5f">00093</a>         <span class="keyword">const</span> <a class="code" href="class_m_a_a_box.html" title="class MAABox">MAABox</a>&amp;                   <a class="code" href="class_gr_model.html#3667043cfbdca6e413d4de9d0449aa5f" title="returns the current bounds of the model.">GetBounds</a>()                                                                     {       <span class="keywordflow">return</span> _bounds;                         }
<a name="l00094"></a>00094 
<a name="l00096"></a><a class="code" href="class_gr_model.html#c5dbd78174e81a8cd4c64782d9b21bc9">00096</a>         <a class="code" href="class_gr_model_node.html" title="class GrModelNode">GrModelNode</a>*                    <a class="code" href="class_gr_model.html#c5dbd78174e81a8cd4c64782d9b21bc9" title="node manipulation.">GetRootNode</a>()<span class="keyword"> const                                                     </span>{       <span class="keywordflow">return</span> _root;                           }
<a name="l00097"></a>00097 
<a name="l00099"></a>00099         <span class="keywordtype">void</span>                                    <a class="code" href="class_gr_model.html#c232d8ab1c8c5e6349acd53eebc9db61" title="child models.">AddChild</a>( <a class="code" href="class_u_ref.html">URef&lt; GrModel &gt;</a> model, <a class="code" href="class_gr_model_node.html" title="class GrModelNode">GrModelNode</a>* attachTo = 0 );
<a name="l00100"></a>00100         <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>                    <a class="code" href="class_gr_model.html#0d67f658382989a2dc3744dc88b28c22">GetChildCount</a>() <span class="keyword">const</span>;
<a name="l00101"></a>00101         <a class="code" href="class_u_ref.html">URef&lt; GrModel &gt;</a>                 <a class="code" href="class_gr_model.html#462d3723b7fe4909bc9a92b3fcb0028c">GetChild</a>( <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> idx );
<a name="l00102"></a>00102         <span class="keywordtype">bool</span>                                    <a class="code" href="class_gr_model.html#9148b455251ccd009790f95c126ec936">RemoveChild</a>( <a class="code" href="class_gr_model.html" title="class GrModel">GrModel</a>* model );
<a name="l00103"></a>00103         <span class="keywordtype">void</span>                                    <a class="code" href="class_gr_model.html#79e3bfacd56b97bf810b971f064d4a91">RemoveChildren</a>();
<a name="l00104"></a>00104 
<a name="l00106"></a>00106         <span class="keywordtype">void</span>                                    <a class="code" href="class_gr_model.html#4d7fbb62dd1022da5a5fd25c6cb0e1fc" title="child lights.">AddLight</a>( <a class="code" href="class_u_ref.html">URef&lt; GrLight &gt;</a> light, <a class="code" href="class_gr_model_node.html" title="class GrModelNode">GrModelNode</a>* attachTo = 0 );
<a name="l00107"></a>00107         <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>                    <a class="code" href="class_gr_model.html#fbd44f70a2b06c82884eac31c40baeab">GetLightCount</a>() <span class="keyword">const</span>;
<a name="l00108"></a>00108         <a class="code" href="class_u_ref.html">URef&lt; GrLight &gt;</a>                 <a class="code" href="class_gr_model.html#6f9177f0b2648997f0cb8dd4da0a481b">GetLight</a>( <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> idx );
<a name="l00109"></a>00109         <a class="code" href="class_gr_model_node.html" title="class GrModelNode">GrModelNode</a>*                    <a class="code" href="class_gr_model.html#7ff4ed21e0a840da8ce5570b31b68a15">GetLightParent</a>( <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> idx );
<a name="l00110"></a>00110         <span class="keywordtype">bool</span>                                    <a class="code" href="class_gr_model.html#931e8f832b0858244d75b1dda2d5a70d">RemoveLight</a>( <a class="code" href="class_gr_light.html" title="class GrLight">GrLight</a>* light );
<a name="l00111"></a>00111         <span class="keywordtype">void</span>                                    <a class="code" href="class_gr_model.html#95abd2705120c297a44287fe1d173224">RemoveLights</a>();
<a name="l00112"></a>00112 
<a name="l00114"></a>00114         <a class="code" href="class_u_ref.html">URef&lt; GrModel &gt;</a>                 <a class="code" href="class_gr_model.html#edeff0285708b660e0c21e2cb65da360" title="recursively finds a model by its instance name or its file name.">FindModelByInstName</a>( <span class="keyword">const</span> <a class="code" href="class_u_path.html" title="Purpose: To provide a clean way to represent paths strings.">UPath</a>&amp; instName );
<a name="l00115"></a>00115         <span class="keywordtype">void</span>                            <a class="code" href="class_gr_model.html#51f1bc0e7546b45969e3d40f600f7690">FindModelsByFileName</a>( <a class="code" href="class_u_fast_array.html" title="Purpose: To act like a std::vector, only faster. Avoids.">UFastArray</a>&lt; <a class="code" href="class_u_ref.html">URef&lt; GrModel &gt;</a> &gt;&amp; models, <span class="keyword">const</span> <a class="code" href="class_u_path.html" title="Purpose: To provide a clean way to represent paths strings.">UPath</a>&amp; fileName );
<a name="l00116"></a>00116 
<a name="l00118"></a>00118         <span class="keywordtype">void</span>                                    <a class="code" href="class_gr_model.html#0b9f56be2def3c655a5a37ed425539c4" title="retreives all of the mesh instances from the model.">GetMeshInsts</a>( <a class="code" href="class_u_fast_array.html">UFastArray&lt; GrMeshInst* &gt;</a>&amp; meshInsts );
<a name="l00119"></a>00119 
<a name="l00121"></a>00121         <span class="keywordtype">void</span>                                    <a class="code" href="class_gr_model.html#2c9c76c4d7715ab154fb9f89dd62d4d0" title="retrieves all of the mesh instances from the model and from each of its children...">GetAllMeshInsts</a>( <a class="code" href="class_u_fast_array.html">UFastArray&lt; GrMeshInst* &gt;</a>&amp; meshInsts );
<a name="l00122"></a>00122 
<a name="l00125"></a>00125         <span class="keywordtype">bool</span>                                    <a class="code" href="class_gr_model.html#dbb1580e4409efde8590f9a6feacd0c9">Update</a>( <span class="keywordtype">bool</span> forceXFormUpdate = <span class="keyword">false</span> );
<a name="l00126"></a>00126 
<a name="l00128"></a>00128         <span class="keywordtype">void</span>                                    <a class="code" href="class_gr_model.html#fbc38dc0bd373a8b199535d55a06fc84" title="updates transforms. This is should usually only be called internally.">UpdateXForms</a>();
<a name="l00129"></a>00129 
<a name="l00132"></a>00132     <span class="keywordtype">void</span>                    <a class="code" href="class_gr_model.html#12002759a1e3c55bf2ec71d21f197a0d">EnsureUpdated</a>();
<a name="l00133"></a>00133 
<a name="l00135"></a>00135         <span class="keywordtype">bool</span>                                    <a class="code" href="class_gr_model.html#fbbc5426863525467f35ff2df3cca3ce" title="pick against the mesh.">Pick</a>( <span class="keywordtype">float</span>&amp; dist, <span class="keyword">const</span> <a class="code" href="class_m_ray.html" title="class MRay">MRay</a>&amp; ray );
<a name="l00136"></a>00136         <span class="keywordtype">bool</span>                                    <a class="code" href="class_gr_model.html#fbbc5426863525467f35ff2df3cca3ce" title="pick against the mesh.">Pick</a>( <a class="code" href="class_gr_model.html" title="class GrModel">GrModel</a>*&amp; model, <a class="code" href="class_gr_mesh_inst.html" title="class GrMeshInst">GrMeshInst</a>*&amp; meshInst, <a class="code" href="struct_gr_mesh_1_1_s_tri_collision.html" title="triangle collision data.">GrMesh::STriCollision</a>&amp; hit, <span class="keyword">const</span> <a class="code" href="class_m_ray.html" title="class MRay">MRay</a>&amp; ray );
<a name="l00137"></a>00137 
<a name="l00139"></a>00139         <span class="keywordtype">void</span>                                    <a class="code" href="class_gr_model.html#89501566d6de6f63cda4527fb7cae760" title="traverses meshes in the model higherarchy.">Traverse</a>( <a class="code" href="class_gr_scene_traverser.html" title="class GrSceneTraverser">GrSceneTraverser</a>* traverser );
<a name="l00140"></a>00140 
<a name="l00142"></a>00142         <span class="keywordtype">void</span>                                    <a class="code" href="class_gr_model.html#a125d73b384a3353dfbac65a93588282" title="debug functionality.">DbgDrawHierarchy</a>();
<a name="l00143"></a>00143 
<a name="l00145"></a>00145         <span class="keywordtype">void</span>                                    <a class="code" href="class_gr_model.html#d3a2e4287aebf5351e971b9b64dbbe11" title="caches and evicts meshes.">Cache</a>();
<a name="l00146"></a>00146         <span class="keywordtype">void</span>                                    <a class="code" href="class_gr_model.html#2b4b150bcaf7982b1e70cb80549bc704">Evict</a>();
<a name="l00147"></a>00147 
<a name="l00149"></a>00149         <span class="keywordtype">void</span>                                    <a class="code" href="class_gr_model.html#c6e775a1ef9fd0321916e99a2de5db2d" title="rendering services.">GetLitObjectsAndMarkVisible</a>( <a class="code" href="class_gr_render_list.html" title="class GrRenderList">GrRenderList</a>&amp; lightReceivers, <span class="keyword">const</span> <a class="code" href="class_gr_frustum.html" title="class GrFrustum">GrFrustum</a>&amp; frustum, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> frameId ) <span class="keyword">const</span>;
<a name="l00150"></a>00150         <span class="keywordtype">void</span>                                    <a class="code" href="class_gr_model.html#4dbbe93eef470aa2339ae8921535780a">GetLitObjects</a>( <a class="code" href="class_gr_render_list.html" title="class GrRenderList">GrRenderList</a>&amp; lightReceivers, <a class="code" href="class_gr_render_list.html" title="class GrRenderList">GrRenderList</a>* shadowCasters, <span class="keyword">const</span> <a class="code" href="class_m_sphere.html" title="class MSphere">MSphere</a>&amp; sphere,
<a name="l00151"></a>00151                                                                                    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> frameId ) <span class="keyword">const</span>;
<a name="l00152"></a>00152         <span class="keywordtype">void</span>                                    <a class="code" href="class_gr_model.html#4dbbe93eef470aa2339ae8921535780a">GetLitObjects</a>( <a class="code" href="class_gr_render_list.html" title="class GrRenderList">GrRenderList</a>&amp; lightReceivers, <a class="code" href="class_gr_render_list.html" title="class GrRenderList">GrRenderList</a>* shadowCasters, <span class="keyword">const</span> <a class="code" href="class_gr_frustum.html" title="class GrFrustum">GrFrustum</a>&amp; frustum,
<a name="l00153"></a>00153                                                                                    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> frameId ) <span class="keyword">const</span>;
<a name="l00154"></a>00154 
<a name="l00156"></a>00156     <span class="keywordtype">void</span>                    <a class="code" href="class_gr_model.html#d152158878fd8ee7d0f4f07915c54d01" title="query services.">GetObjectsInFrustum</a>( <a class="code" href="class_gr_render_list.html" title="class GrRenderList">GrRenderList</a>&amp; objects, <span class="keyword">const</span> <a class="code" href="class_gr_frustum.html" title="class GrFrustum">GrFrustum</a>&amp; frustum ) <span class="keyword">const</span>;
<a name="l00157"></a>00157 
<a name="l00159"></a>00159         <span class="keywordtype">void</span>                                    <a class="code" href="class_gr_model.html#94605ad2262faa9e3e858cd2f9b5d9d1" title="load and save the model. This does not save children.">Save</a>( <a class="code" href="class_u_writer.html" title="Purpose: To wrap and simplify pointer write operations.">UWriter</a>&amp; writer ) <span class="keyword">const</span>;
<a name="l00160"></a>00160 
<a name="l00162"></a>00162         <span class="keywordtype">void</span>                                    <a class="code" href="class_gr_model.html#b29ae276eab8a6460d09a0f727765c40" title="forces transforms/bounds to be updated. Internal use only.">MarkAsDirty</a>();
<a name="l00163"></a>00163 
<a name="l00165"></a>00165         <span class="keywordtype">void</span>                                    <a class="code" href="class_gr_model.html#905a993701b32fe30d1370deb32e35d2" title="is this the scene model? This should only be called from the scene.">SetSceneModel</a>( <span class="keywordtype">bool</span> sceneModel );
<a name="l00166"></a>00166 
<a name="l00168"></a><a class="code" href="class_gr_model.html#2c82df629316012566ad43ae802e1ed9">00168</a>         <span class="keywordtype">bool</span>                                    <a class="code" href="class_gr_model.html#2c82df629316012566ad43ae802e1ed9" title="returns true if this model is currently in the scene.">IsInScene</a>()<span class="keyword"> const                               </span>{       <span class="keywordflow">return</span> _inScene;                        }
<a name="l00169"></a>00169 
<a name="l00172"></a><a class="code" href="class_gr_model.html#7eb54cf62bdaf0cf4e32ef5628b54bc8">00172</a>         <span class="keywordtype">void</span>                                    <a class="code" href="class_gr_model.html#7eb54cf62bdaf0cf4e32ef5628b54bc8">SetUserPtr</a>( <span class="keywordtype">void</span>* <a class="code" href="glext_8h.html#6a4f8a1a444e9080b297963b3db29fe0">value</a> )               {       _userPtr = value;                       }
<a name="l00173"></a><a class="code" href="class_gr_model.html#32d18da9318a7541316adaa52e8e2b99">00173</a>         <span class="keywordtype">void</span>*                                   <a class="code" href="class_gr_model.html#32d18da9318a7541316adaa52e8e2b99">GetUserPtr</a>()<span class="keyword"> const                              </span>{       <span class="keywordflow">return</span> _userPtr;                        }
<a name="l00174"></a>00174 
<a name="l00175"></a>00175 <span class="keyword">private</span>:
<a name="l00176"></a>00176         <span class="keyword">typedef</span> <a class="code" href="class_u_fast_array.html" title="Purpose: To act like a std::vector, only faster. Avoids.">UFastArray&lt; GrModelSkinController* &gt;</a> SkinControllerArray;
<a name="l00177"></a>00177 
<a name="l00179"></a>00179         <span class="keyword">struct </span>SLightAttachment
<a name="l00180"></a>00180         {
<a name="l00181"></a>00181                 <a class="code" href="class_gr_model_node.html" title="class GrModelNode">GrModelNode</a>* parent;
<a name="l00182"></a>00182                 <a class="code" href="class_u_ref.html">URef&lt; GrLight &gt;</a> light;
<a name="l00183"></a>00183         };
<a name="l00184"></a>00184         <span class="keyword">typedef</span> std::vector&lt; SLightAttachment &gt; LightVec;
<a name="l00185"></a>00185 
<a name="l00187"></a>00187         <a class="code" href="class_gr_model.html" title="class GrModel">GrModel</a>();
<a name="l00188"></a>00188 
<a name="l00189"></a>00189         <span class="keywordtype">void</span>                                    SetInScene( <span class="keywordtype">bool</span> inScene );
<a name="l00190"></a>00190         <span class="keywordtype">void</span>                                    Load( <span class="keyword">const</span> <a class="code" href="class_u_path.html" title="Purpose: To provide a clean way to represent paths strings.">UPath</a>&amp; fileName, <a class="code" href="class_u_reader.html" title="Purpose: To wrap and simplify pointer read operations.">UReader</a>&amp; reader );
<a name="l00191"></a>00191         <span class="keywordtype">void</span>                                    CreateSkinControllers();
<a name="l00192"></a>00192         <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>                    GetSkinInstCount( <a class="code" href="class_gr_model_node.html" title="class GrModelNode">GrModelNode</a>* root );
<a name="l00193"></a>00193         <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>                    InitSkinControllers( <a class="code" href="class_gr_model_node.html" title="class GrModelNode">GrModelNode</a>* root, <a class="code" href="class_gr_model_skin_controller.html" title="class GrModelSkinController">GrModelSkinController</a>* controllers );
<a name="l00194"></a>00194         <span class="keywordtype">void</span>                                    AddLightsToScene( <a class="code" href="class_gr_model_node.html" title="class GrModelNode">GrModelNode</a>* root );
<a name="l00195"></a>00195         <span class="keywordtype">void</span>                                    RemoveLightsFromScene( <a class="code" href="class_gr_model_node.html" title="class GrModelNode">GrModelNode</a>* root );
<a name="l00196"></a>00196         <span class="keywordtype">void</span>                                    Optimize( <a class="code" href="class_gr_model_node.html" title="class GrModelNode">GrModelNode</a>* root );
<a name="l00197"></a>00197         <span class="keywordtype">void</span>                                    <a class="code" href="class_gr_model.html#0b9f56be2def3c655a5a37ed425539c4" title="retreives all of the mesh instances from the model.">GetMeshInsts</a>( <a class="code" href="class_u_fast_array.html">UFastArray&lt; GrMeshInst* &gt;</a>&amp; meshInsts, <a class="code" href="class_gr_model_node.html" title="class GrModelNode">GrModelNode</a>* root );
<a name="l00198"></a>00198         <span class="keywordtype">bool</span>                                    PickNode( <a class="code" href="class_gr_mesh_inst.html" title="class GrMeshInst">GrMeshInst</a>*&amp; mesh, <a class="code" href="struct_gr_mesh_1_1_s_tri_collision.html" title="triangle collision data.">GrMesh::STriCollision</a>&amp; hit, <a class="code" href="class_gr_model_node.html" title="class GrModelNode">GrModelNode</a>* root, <span class="keyword">const</span> <a class="code" href="class_m_ray.html" title="class MRay">MRay</a>&amp; ray );
<a name="l00199"></a>00199         <span class="keywordtype">void</span>                                    TraverseNode( <a class="code" href="class_gr_scene_traverser.html" title="class GrSceneTraverser">GrSceneTraverser</a>* traverser, <a class="code" href="class_gr_model_node.html" title="class GrModelNode">GrModelNode</a>* root );
<a name="l00200"></a>00200         <span class="keywordtype">void</span>                                    DbgDrawNode( <a class="code" href="class_gr_model_node.html" title="class GrModelNode">GrModelNode</a>* node );
<a name="l00201"></a>00201         <span class="keywordtype">void</span>                                    Clean();
<a name="l00202"></a>00202 
<a name="l00204"></a>00204         <span class="keyword">static</span> <a class="code" href="class_gr_model.html" title="class GrModel">GrModel</a>*                 _rootModel;
<a name="l00205"></a>00205 
<a name="l00206"></a>00206         <a class="code" href="class_u_path.html" title="Purpose: To provide a clean way to represent paths strings.">UPath</a>                                   _fileName;                              
<a name="l00207"></a>00207         <a class="code" href="class_u_path.html" title="Purpose: To provide a clean way to represent paths strings.">UPath</a>                                   _instName;                              
<a name="l00208"></a>00208         <a class="code" href="common__afx_8h.html#816fa58fd77499b0edb2c69ebe803d5c" title="include BootstrapFS.">tstring</a>                                 _source;                                
<a name="l00209"></a>00209         <a class="code" href="common__afx_8h.html#816fa58fd77499b0edb2c69ebe803d5c" title="include BootstrapFS.">tstring</a>                                 _author;                                
<a name="l00210"></a>00210         <a class="code" href="class_m_mat4x4.html" title="class MMat4x4">MMat4x4</a>                                 _local;
<a name="l00211"></a>00211         LightVec                                _lights;
<a name="l00212"></a>00212         <a class="code" href="class_gr_model.html" title="class GrModel">GrModel</a>*                                _parent;
<a name="l00213"></a>00213         <a class="code" href="class_gr_model_node.html" title="class GrModelNode">GrModelNode</a>*                    _parentNode;                    
<a name="l00214"></a>00214         <a class="code" href="class_gr_model_node.html" title="class GrModelNode">GrModelNode</a>*                    _root;
<a name="l00215"></a>00215         <a class="code" href="class_gr_k_f_anim.html" title="class GrKFAnim">GrKFAnim</a>*                               _defaultAnim;                   
<a name="l00216"></a>00216         <a class="code" href="class_gr_anim_player.html" title="class GrAnimPlayer">GrAnimPlayer</a>*                   _animPlayer;
<a name="l00217"></a>00217         <a class="code" href="class_gr_model.html#1bc87aacfe8601c9096280a5257679cd">ModelArray</a>                              _children;                              
<a name="l00218"></a>00218         <a class="code" href="class_gr_model_skin_controller.html" title="class GrModelSkinController">GrModelSkinController</a>*  _skinControllers;               
<a name="l00219"></a>00219         <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>                    _skinControllerCount;   
<a name="l00220"></a>00220         <a class="code" href="class_m_a_a_box.html" title="class MAABox">MAABox</a>                                  _bounds;
<a name="l00221"></a>00221         <span class="keyword">mutable</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>    _lastVisibleFrameId;
<a name="l00222"></a>00222         <span class="keywordtype">void</span>*                                   _userPtr;
<a name="l00223"></a>00223         <span class="keywordtype">bool</span>                                    _inScene;
<a name="l00224"></a>00224         <span class="keywordtype">bool</span>                                    _dirty;
<a name="l00225"></a>00225         <span class="keywordtype">bool</span>                                    _pickable;
<a name="l00226"></a>00226 
<a name="l00229"></a>00229 };
</pre></div></div>
<hr size="1"><address style="text-align: right;"><small>Generated on Fri Feb 13 17:19:56 2009 for Bootstrap Engine by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.8 </small></address>
</body>
</html>
