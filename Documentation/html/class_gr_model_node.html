<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>Bootstrap Engine: GrModelNode Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css">
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.8 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="annotated.html"><span>Class&nbsp;List</span></a></li>
      <li><a href="hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&nbsp;Members</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>GrModelNode Class Reference</h1><!-- doxytag: class="GrModelNode" -->class <a class="el" href="class_gr_model_node.html" title="class GrModelNode">GrModelNode</a>  
<a href="#_details">More...</a>
<p>
<code>#include &lt;<a class="el" href="_gr_model_node_8h-source.html">GrModelNode.h</a>&gt;</code>
<p>

<p>
<a href="class_gr_model_node-members.html">List of all members.</a><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Public Types</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">typedef <a class="el" href="class_u_fast_array.html">UFastArray</a>&lt; <a class="el" href="class_gr_mesh_inst.html">GrMeshInst</a> * &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_gr_model_node.html#7476f52e379fe6e8778e1f990343cee0">MeshInstArray</a></td></tr>

<tr><td colspan="2"><br><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_gr_model_node.html#30cd7578448ddbb5b07276de2d96cfed">GrModelNode</a> (<a class="el" href="class_gr_model.html">GrModel</a> *owner, <a class="el" href="class_gr_model_node.html">GrModelNode</a> *parent, const <a class="el" href="class_m_mat4x4.html">MMat4x4</a> &amp;local, <a class="el" href="class_gr_mesh_inst.html">GrMeshInst</a> *meshInst=0)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">class header.  <a href="#30cd7578448ddbb5b07276de2d96cfed"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_gr_model_node.html#b63d4ab8c48384da1c14bc5032fde28d">GrModelNode</a> (<a class="el" href="class_gr_model.html">GrModel</a> *owner, <a class="el" href="class_gr_polygon_node.html">GrPolygonNode</a> *fromTree)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_gr_model_node.html#391064a9dadfae2e8e0022a1f7009602">GrModelNode</a> (<a class="el" href="class_gr_model.html">GrModel</a> *owner, <a class="el" href="class_u_reader.html">UReader</a> &amp;reader, const <a class="el" href="class_u_fast_array.html">UFastArray</a>&lt; <a class="el" href="class_u_ref.html">URef</a>&lt; <a class="el" href="class_gr_mesh.html">GrMesh</a> &gt; &gt; &amp;meshes, unsigned short majorVer, unsigned short minorVer)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_gr_model_node.html#2dfd62bcdf39b2c3004c762d865ffb0d">~GrModelNode</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">const <a class="el" href="common__afx_8h.html#816fa58fd77499b0edb2c69ebe803d5c">tstring</a> &amp;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_gr_model_node.html#7cf09b5e2cf96cf2d1d797c2f569ea01">GetName</a> () const </td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="class_gr_model.html">GrModel</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_gr_model_node.html#f03b5dd5229d1c4f8f6232fd6d419335">GetOwner</a> () const </td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="class_gr_model_node.html">GrModelNode</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_gr_model_node.html#6bcd4b9a2763671b7bd20a5556aa1a22">Clone</a> (<a class="el" href="class_gr_model.html">GrModel</a> *newOwner, bool deep=false, <a class="el" href="class_gr_model_node.html">GrModelNode</a> *parent=0)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">clones a node hierarchy.  <a href="#6bcd4b9a2763671b7bd20a5556aa1a22"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_gr_model_node.html#1de0741bd0fbf78cb7ef6802948b6080">SetLocal</a> (const <a class="el" href="class_m_mat4x4.html">MMat4x4</a> &amp;local)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">transform management.  <a href="#1de0741bd0fbf78cb7ef6802948b6080"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">const <a class="el" href="class_m_mat4x4.html">MMat4x4</a> &amp;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_gr_model_node.html#830a21b1037e3b0d6859626bc5bfcf74">GetLocal</a> () const </td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">unsigned int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_gr_model_node.html#a21248145ac1e276678ee4e8e1b02b0c">GetChildCount</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">child management.  <a href="#a21248145ac1e276678ee4e8e1b02b0c"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="class_gr_model_node.html">GrModelNode</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_gr_model_node.html#5b6cf7fff3778f0c4411823132cb5c28">GetChild</a> (unsigned int idx)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="class_gr_model_node.html">GrModelNode</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_gr_model_node.html#ea35f9469b11a8a8033f8ad1c7a54c24">FindNode</a> (const char *<a class="el" href="glext__bak_8h.html#bb62efe59ccdd153ce42e1a418352209">name</a>, bool ignoreCase)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="class_gr_model_node.html">GrModelNode</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_gr_model_node.html#e203953dfdbddbb5cf35859187a2e749">GetParent</a> () const </td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">unsigned int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_gr_model_node.html#34fb55f7a4af15a5d6f241117f62012f">GetMeshInstCount</a> () const </td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">mesh instance management.  <a href="#34fb55f7a4af15a5d6f241117f62012f"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="class_gr_mesh_inst.html">GrMeshInst</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_gr_model_node.html#f5340d3bc303ba7f9211f89e791b013d">GetMeshInst</a> (unsigned int idx) const </td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_gr_model_node.html#c5c58f7cd659b01c66e0f45054cd6200">Update</a> (const <a class="el" href="class_m_mat4x4.html">MMat4x4</a> &amp;parentMatrix)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">updates the transform.  <a href="#c5c58f7cd659b01c66e0f45054cd6200"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_gr_model_node.html#91040763448f20348673c730e8e6fbf8">CalcBounds</a> (<a class="el" href="class_m_a_a_box.html">MAABox</a> &amp;bounds)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">calculates an AABB from geometry that includes the origin.  <a href="#91040763448f20348673c730e8e6fbf8"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_gr_model_node.html#3bc9a825d5c12c5f8484a869e992ac0f">CalcBoundsExact</a> (<a class="el" href="class_m_a_a_box.html">MAABox</a> &amp;bounds, bool boundsInit=false)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">calculates the optimal AABB from geometry.  <a href="#3bc9a825d5c12c5f8484a869e992ac0f"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">const <a class="el" href="class_m_mat4x4.html">MMat4x4</a> &amp;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_gr_model_node.html#2799107e185b3fb30a4429b1bb0cf1f9">GetWorld</a> () const </td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_gr_model_node.html#65acb56567cf1c21de6124a9e3ef0b71">SetWorld</a> (const <a class="el" href="class_m_mat4x4.html">MMat4x4</a> &amp;<a class="el" href="glext__bak_8h.html#07993c0d92c1aeeb357ba0495c8b5325">transform</a>)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_gr_model_node.html#2c131ad23d4aa9b499340a803690e3d0">BuildMeshList</a> (<a class="el" href="class_u_fast_array.html">UFastArray</a>&lt; <a class="el" href="class_u_ref.html">URef</a>&lt; <a class="el" href="class_gr_mesh.html">GrMesh</a> &gt; &gt; &amp;meshes)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">builds a list of all unique meshes in the hierarchy.  <a href="#2c131ad23d4aa9b499340a803690e3d0"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_gr_model_node.html#6dd727604b84d6463b1ba282d0702b4a">Optimize</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">optimize meshes on this node.  <a href="#6dd727604b84d6463b1ba282d0702b4a"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_gr_model_node.html#8dfebc45736fa221d3988d7bc05f71bf">Cache</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">caches or evicts child nodes.  <a href="#8dfebc45736fa221d3988d7bc05f71bf"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_gr_model_node.html#598ada3ae0f7b3028d0b9f3cff6c1edd">Evict</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_gr_model_node.html#5232522d893c1b123115f95a6e1b1a7a">Save</a> (<a class="el" href="class_u_writer.html">UWriter</a> &amp;writer) const </td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">load and save the node tree.  <a href="#5232522d893c1b123115f95a6e1b1a7a"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_gr_model_node.html#ad9c0636157e8cad390826cf91e16780">GetRenderableObjects</a> (<a class="el" href="class_gr_render_list.html">GrRenderList</a> &amp;lightReceivers, <a class="el" href="class_gr_render_list.html">GrRenderList</a> *shadowCasters) const </td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">send to the renderer.  <a href="#ad9c0636157e8cad390826cf91e16780"></a><br></td></tr>
</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
class <a class="el" href="class_gr_model_node.html" title="class GrModelNode">GrModelNode</a> 
<p>Definition at line <a class="el" href="_gr_model_node_8h-source.html#l00035">35</a> of file <a class="el" href="_gr_model_node_8h-source.html">GrModelNode.h</a>.</p>
<hr><h2>Member Typedef Documentation</h2>
<a class="anchor" name="7476f52e379fe6e8778e1f990343cee0"></a><!-- doxytag: member="GrModelNode::MeshInstArray" ref="7476f52e379fe6e8778e1f990343cee0" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef <a class="el" href="class_u_fast_array.html">UFastArray</a>&lt; <a class="el" href="class_gr_mesh_inst.html">GrMeshInst</a>* &gt; <a class="el" href="class_u_fast_array.html">GrModelNode::MeshInstArray</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="_gr_model_node_8h-source.html#l00038">38</a> of file <a class="el" href="_gr_model_node_8h-source.html">GrModelNode.h</a>.</p>

</div>
</div><p>
<hr><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" name="30cd7578448ddbb5b07276de2d96cfed"></a><!-- doxytag: member="GrModelNode::GrModelNode" ref="30cd7578448ddbb5b07276de2d96cfed" args="(GrModel *owner, GrModelNode *parent, const MMat4x4 &amp;local, GrMeshInst *meshInst=0)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">GrModelNode::GrModelNode           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_gr_model.html">GrModel</a> *&nbsp;</td>
          <td class="paramname"> <em>owner</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_gr_model_node.html">GrModelNode</a> *&nbsp;</td>
          <td class="paramname"> <em>parent</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="class_m_mat4x4.html">MMat4x4</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>local</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_gr_mesh_inst.html">GrMeshInst</a> *&nbsp;</td>
          <td class="paramname"> <em>meshInst</em> = <code>0</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
class header. 
<p>
note that if a mesh instance is passed in, the model node will take ownership of it.<p>
File: <a class="el" href="_gr_model_node_8cpp.html">GrModelNode.cpp</a> Author: Kevin Bray Created: 04-02-06 Copyright © 2004 Bootstrap Studios. All rights reserved. project includes. class <a class="el" href="class_gr_model_node.html" title="class GrModelNode">GrModelNode</a> ctor &amp; dtor 
<p>Definition at line <a class="el" href="_gr_model_node_8cpp-source.html#l00036">36</a> of file <a class="el" href="_gr_model_node_8cpp-source.html">GrModelNode.cpp</a>.</p>

</div>
</div><p>
<a class="anchor" name="b63d4ab8c48384da1c14bc5032fde28d"></a><!-- doxytag: member="GrModelNode::GrModelNode" ref="b63d4ab8c48384da1c14bc5032fde28d" args="(GrModel *owner, GrPolygonNode *fromTree)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">GrModelNode::GrModelNode           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_gr_model.html">GrModel</a> *&nbsp;</td>
          <td class="paramname"> <em>owner</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_gr_polygon_node.html">GrPolygonNode</a> *&nbsp;</td>
          <td class="paramname"> <em>fromTree</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>
generate a list of meshes.<p>
build database mapping poly meshes to renderable meshes.<p>
get the poly mesh we need to generate renderable meshes from.<p>
skip if the mesh was already added to our database.<p>
add an entry to our database.<p>
now build the node tree.<p>
free up our meshes. 
<p>Definition at line <a class="el" href="_gr_model_node_8cpp-source.html#l00045">45</a> of file <a class="el" href="_gr_model_node_8cpp-source.html">GrModelNode.cpp</a>.</p>

</div>
</div><p>
<a class="anchor" name="391064a9dadfae2e8e0022a1f7009602"></a><!-- doxytag: member="GrModelNode::GrModelNode" ref="391064a9dadfae2e8e0022a1f7009602" args="(GrModel *owner, UReader &amp;reader, const UFastArray&lt; URef&lt; GrMesh &gt; &gt; &amp;meshes, unsigned short majorVer, unsigned short minorVer)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">GrModelNode::GrModelNode           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_gr_model.html">GrModel</a> *&nbsp;</td>
          <td class="paramname"> <em>owner</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_u_reader.html">UReader</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>reader</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="class_u_fast_array.html">UFastArray</a>&lt; <a class="el" href="class_u_ref.html">URef</a>&lt; <a class="el" href="class_gr_mesh.html">GrMesh</a> &gt; &gt; &amp;&nbsp;</td>
          <td class="paramname"> <em>meshes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned short&nbsp;</td>
          <td class="paramname"> <em>majorVer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned short&nbsp;</td>
          <td class="paramname"> <em>minorVer</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="_gr_model_node_8cpp-source.html#l00092">92</a> of file <a class="el" href="_gr_model_node_8cpp-source.html">GrModelNode.cpp</a>.</p>

</div>
</div><p>
<a class="anchor" name="2dfd62bcdf39b2c3004c762d865ffb0d"></a><!-- doxytag: member="GrModelNode::~GrModelNode" ref="2dfd62bcdf39b2c3004c762d865ffb0d" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">GrModelNode::~GrModelNode           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="_gr_model_node_8cpp-source.html#l00101">101</a> of file <a class="el" href="_gr_model_node_8cpp-source.html">GrModelNode.cpp</a>.</p>

</div>
</div><p>
<hr><h2>Member Function Documentation</h2>
<a class="anchor" name="2c131ad23d4aa9b499340a803690e3d0"></a><!-- doxytag: member="GrModelNode::BuildMeshList" ref="2c131ad23d4aa9b499340a803690e3d0" args="(UFastArray&lt; URef&lt; GrMesh &gt; &gt; &amp;meshes)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void GrModelNode::BuildMeshList           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_u_fast_array.html">UFastArray</a>&lt; <a class="el" href="class_u_ref.html">URef</a>&lt; <a class="el" href="class_gr_mesh.html">GrMesh</a> &gt; &gt; &amp;&nbsp;</td>
          <td class="paramname"> <em>meshes</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
builds a list of all unique meshes in the hierarchy. 
<p>

<p>
add any meshes to the mesh list that have not already been added.<p>
recurse. 
<p>Definition at line <a class="el" href="_gr_model_node_8cpp-source.html#l00295">295</a> of file <a class="el" href="_gr_model_node_8cpp-source.html">GrModelNode.cpp</a>.</p>

</div>
</div><p>
<a class="anchor" name="8dfebc45736fa221d3988d7bc05f71bf"></a><!-- doxytag: member="GrModelNode::Cache" ref="8dfebc45736fa221d3988d7bc05f71bf" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void GrModelNode::Cache           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
caches or evicts child nodes. 
<p>

<p>Definition at line <a class="el" href="_gr_model_node_8cpp-source.html#l00327">327</a> of file <a class="el" href="_gr_model_node_8cpp-source.html">GrModelNode.cpp</a>.</p>

</div>
</div><p>
<a class="anchor" name="91040763448f20348673c730e8e6fbf8"></a><!-- doxytag: member="GrModelNode::CalcBounds" ref="91040763448f20348673c730e8e6fbf8" args="(MAABox &amp;bounds)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void GrModelNode::CalcBounds           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_m_a_a_box.html">MAABox</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>bounds</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
calculates an AABB from geometry that includes the origin. 
<p>

<p>
recurse to children.<p>
evaluate mesh bounds. 
<p>Definition at line <a class="el" href="_gr_model_node_8cpp-source.html#l00208">208</a> of file <a class="el" href="_gr_model_node_8cpp-source.html">GrModelNode.cpp</a>.</p>

</div>
</div><p>
<a class="anchor" name="3bc9a825d5c12c5f8484a869e992ac0f"></a><!-- doxytag: member="GrModelNode::CalcBoundsExact" ref="3bc9a825d5c12c5f8484a869e992ac0f" args="(MAABox &amp;bounds, bool boundsInit=false)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool GrModelNode::CalcBoundsExact           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_m_a_a_box.html">MAABox</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>bounds</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&nbsp;</td>
          <td class="paramname"> <em>boundsInit</em> = <code>false</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
calculates the optimal AABB from geometry. 
<p>

<p>
recurse to children.<p>
evaluate mesh bounds. 
<p>Definition at line <a class="el" href="_gr_model_node_8cpp-source.html#l00223">223</a> of file <a class="el" href="_gr_model_node_8cpp-source.html">GrModelNode.cpp</a>.</p>

</div>
</div><p>
<a class="anchor" name="6bcd4b9a2763671b7bd20a5556aa1a22"></a><!-- doxytag: member="GrModelNode::Clone" ref="6bcd4b9a2763671b7bd20a5556aa1a22" args="(GrModel *newOwner, bool deep=false, GrModelNode *parent=0)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_gr_model_node.html">GrModelNode</a> * GrModelNode::Clone           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_gr_model.html">GrModel</a> *&nbsp;</td>
          <td class="paramname"> <em>newOwner</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&nbsp;</td>
          <td class="paramname"> <em>deep</em> = <code>false</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_gr_model_node.html">GrModelNode</a> *&nbsp;</td>
          <td class="paramname"> <em>parent</em> = <code>0</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
clones a node hierarchy. 
<p>
public methods 
<p>
create a new model node.<p>
clone mesh instances.<p>
recurse for children.<p>
return the newly created node. 
<p>Definition at line <a class="el" href="_gr_model_node_8cpp-source.html#l00119">119</a> of file <a class="el" href="_gr_model_node_8cpp-source.html">GrModelNode.cpp</a>.</p>

</div>
</div><p>
<a class="anchor" name="598ada3ae0f7b3028d0b9f3cff6c1edd"></a><!-- doxytag: member="GrModelNode::Evict" ref="598ada3ae0f7b3028d0b9f3cff6c1edd" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void GrModelNode::Evict           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="_gr_model_node_8cpp-source.html#l00338">338</a> of file <a class="el" href="_gr_model_node_8cpp-source.html">GrModelNode.cpp</a>.</p>

</div>
</div><p>
<a class="anchor" name="ea35f9469b11a8a8033f8ad1c7a54c24"></a><!-- doxytag: member="GrModelNode::FindNode" ref="ea35f9469b11a8a8033f8ad1c7a54c24" args="(const char *name, bool ignoreCase)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_gr_model_node.html">GrModelNode</a> * GrModelNode::FindNode           </td>
          <td>(</td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&nbsp;</td>
          <td class="paramname"> <em>ignoreCase</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>
recurse.<p>
not found! 
<p>Definition at line <a class="el" href="_gr_model_node_8cpp-source.html#l00156">156</a> of file <a class="el" href="_gr_model_node_8cpp-source.html">GrModelNode.cpp</a>.</p>

</div>
</div><p>
<a class="anchor" name="5b6cf7fff3778f0c4411823132cb5c28"></a><!-- doxytag: member="GrModelNode::GetChild" ref="5b6cf7fff3778f0c4411823132cb5c28" args="(unsigned int idx)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_gr_model_node.html">GrModelNode</a> * GrModelNode::GetChild           </td>
          <td>(</td>
          <td class="paramtype">unsigned int&nbsp;</td>
          <td class="paramname"> <em>idx</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="_gr_model_node_8cpp-source.html#l00148">148</a> of file <a class="el" href="_gr_model_node_8cpp-source.html">GrModelNode.cpp</a>.</p>

</div>
</div><p>
<a class="anchor" name="a21248145ac1e276678ee4e8e1b02b0c"></a><!-- doxytag: member="GrModelNode::GetChildCount" ref="a21248145ac1e276678ee4e8e1b02b0c" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned int GrModelNode::GetChildCount           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
child management. 
<p>

<p>Definition at line <a class="el" href="_gr_model_node_8h-source.html#l00060">60</a> of file <a class="el" href="_gr_model_node_8h-source.html">GrModelNode.h</a>.</p>

</div>
</div><p>
<a class="anchor" name="830a21b1037e3b0d6859626bc5bfcf74"></a><!-- doxytag: member="GrModelNode::GetLocal" ref="830a21b1037e3b0d6859626bc5bfcf74" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="class_m_mat4x4.html">MMat4x4</a>&amp; GrModelNode::GetLocal           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td> const<code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="_gr_model_node_8h-source.html#l00057">57</a> of file <a class="el" href="_gr_model_node_8h-source.html">GrModelNode.h</a>.</p>

</div>
</div><p>
<a class="anchor" name="f5340d3bc303ba7f9211f89e791b013d"></a><!-- doxytag: member="GrModelNode::GetMeshInst" ref="f5340d3bc303ba7f9211f89e791b013d" args="(unsigned int idx) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_gr_mesh_inst.html">GrMeshInst</a> * GrModelNode::GetMeshInst           </td>
          <td>(</td>
          <td class="paramtype">unsigned int&nbsp;</td>
          <td class="paramname"> <em>idx</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="_gr_model_node_8cpp-source.html#l00183">183</a> of file <a class="el" href="_gr_model_node_8cpp-source.html">GrModelNode.cpp</a>.</p>

</div>
</div><p>
<a class="anchor" name="34fb55f7a4af15a5d6f241117f62012f"></a><!-- doxytag: member="GrModelNode::GetMeshInstCount" ref="34fb55f7a4af15a5d6f241117f62012f" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned int GrModelNode::GetMeshInstCount           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td> const<code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
mesh instance management. 
<p>

<p>Definition at line <a class="el" href="_gr_model_node_8h-source.html#l00066">66</a> of file <a class="el" href="_gr_model_node_8h-source.html">GrModelNode.h</a>.</p>

</div>
</div><p>
<a class="anchor" name="7cf09b5e2cf96cf2d1d797c2f569ea01"></a><!-- doxytag: member="GrModelNode::GetName" ref="7cf09b5e2cf96cf2d1d797c2f569ea01" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="common__afx_8h.html#816fa58fd77499b0edb2c69ebe803d5c">tstring</a>&amp; GrModelNode::GetName           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td> const<code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="_gr_model_node_8h-source.html#l00048">48</a> of file <a class="el" href="_gr_model_node_8h-source.html">GrModelNode.h</a>.</p>

</div>
</div><p>
<a class="anchor" name="f03b5dd5229d1c4f8f6232fd6d419335"></a><!-- doxytag: member="GrModelNode::GetOwner" ref="f03b5dd5229d1c4f8f6232fd6d419335" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_gr_model.html">GrModel</a>* GrModelNode::GetOwner           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td> const<code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="_gr_model_node_8h-source.html#l00050">50</a> of file <a class="el" href="_gr_model_node_8h-source.html">GrModelNode.h</a>.</p>

</div>
</div><p>
<a class="anchor" name="e203953dfdbddbb5cf35859187a2e749"></a><!-- doxytag: member="GrModelNode::GetParent" ref="e203953dfdbddbb5cf35859187a2e749" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_gr_model_node.html">GrModelNode</a>* GrModelNode::GetParent           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td> const<code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="_gr_model_node_8h-source.html#l00063">63</a> of file <a class="el" href="_gr_model_node_8h-source.html">GrModelNode.h</a>.</p>

</div>
</div><p>
<a class="anchor" name="ad9c0636157e8cad390826cf91e16780"></a><!-- doxytag: member="GrModelNode::GetRenderableObjects" ref="ad9c0636157e8cad390826cf91e16780" args="(GrRenderList &amp;lightReceivers, GrRenderList *shadowCasters) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void GrModelNode::GetRenderableObjects           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_gr_render_list.html">GrRenderList</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>lightReceivers</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_gr_render_list.html">GrRenderList</a> *&nbsp;</td>
          <td class="paramname"> <em>shadowCasters</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
send to the renderer. 
<p>

<p>
recurse. 
<p>Definition at line <a class="el" href="_gr_model_node_8cpp-source.html#l00377">377</a> of file <a class="el" href="_gr_model_node_8cpp-source.html">GrModelNode.cpp</a>.</p>

</div>
</div><p>
<a class="anchor" name="2799107e185b3fb30a4429b1bb0cf1f9"></a><!-- doxytag: member="GrModelNode::GetWorld" ref="2799107e185b3fb30a4429b1bb0cf1f9" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="class_m_mat4x4.html">MMat4x4</a> &amp; GrModelNode::GetWorld           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
note: try to avoid these if possible. They aren't horribly slow, but they aren't free. 
<p>Definition at line <a class="el" href="_gr_model_node_8cpp-source.html#l00258">258</a> of file <a class="el" href="_gr_model_node_8cpp-source.html">GrModelNode.cpp</a>.</p>

</div>
</div><p>
<a class="anchor" name="6dd727604b84d6463b1ba282d0702b4a"></a><!-- doxytag: member="GrModelNode::Optimize" ref="6dd727604b84d6463b1ba282d0702b4a" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void GrModelNode::Optimize           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
optimize meshes on this node. 
<p>

<p>Definition at line <a class="el" href="_gr_model_node_8cpp-source.html#l00319">319</a> of file <a class="el" href="_gr_model_node_8cpp-source.html">GrModelNode.cpp</a>.</p>

</div>
</div><p>
<a class="anchor" name="5232522d893c1b123115f95a6e1b1a7a"></a><!-- doxytag: member="GrModelNode::Save" ref="5232522d893c1b123115f95a6e1b1a7a" args="(UWriter &amp;writer) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void GrModelNode::Save           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_u_writer.html">UWriter</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>writer</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
load and save the node tree. 
<p>

<p>
save the name.<p>
save the local transform.<p>
save the light link.<p>
save mesh links.<p>
save children. 
<p>Definition at line <a class="el" href="_gr_model_node_8cpp-source.html#l00349">349</a> of file <a class="el" href="_gr_model_node_8cpp-source.html">GrModelNode.cpp</a>.</p>

</div>
</div><p>
<a class="anchor" name="1de0741bd0fbf78cb7ef6802948b6080"></a><!-- doxytag: member="GrModelNode::SetLocal" ref="1de0741bd0fbf78cb7ef6802948b6080" args="(const MMat4x4 &amp;local)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void GrModelNode::SetLocal           </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_m_mat4x4.html">MMat4x4</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>local</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
transform management. 
<p>

<p>
mark the owner as dirty. 
<p>Definition at line <a class="el" href="_gr_model_node_8cpp-source.html#l00139">139</a> of file <a class="el" href="_gr_model_node_8cpp-source.html">GrModelNode.cpp</a>.</p>

</div>
</div><p>
<a class="anchor" name="65acb56567cf1c21de6124a9e3ef0b71"></a><!-- doxytag: member="GrModelNode::SetWorld" ref="65acb56567cf1c21de6124a9e3ef0b71" args="(const MMat4x4 &amp;transform)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void GrModelNode::SetWorld           </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_m_mat4x4.html">MMat4x4</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>transform</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>
ensure that our owner has updated us.<p>
grab our parent's worldspace transform.<p>
invert it.<p>
transform the incoming matrix into localspace and store our new transforms.<p>
mark the owner as dirty. 
<p>Definition at line <a class="el" href="_gr_model_node_8cpp-source.html#l00265">265</a> of file <a class="el" href="_gr_model_node_8cpp-source.html">GrModelNode.cpp</a>.</p>

</div>
</div><p>
<a class="anchor" name="c5c58f7cd659b01c66e0f45054cd6200"></a><!-- doxytag: member="GrModelNode::Update" ref="c5c58f7cd659b01c66e0f45054cd6200" args="(const MMat4x4 &amp;parentMatrix)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void GrModelNode::Update           </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_m_mat4x4.html">MMat4x4</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>parentMatrix</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
updates the transform. 
<p>

<p>
calculate our new world matrix.<p>
propagate the transform to the mesh instances if necessary.<p>
update children. 
<p>Definition at line <a class="el" href="_gr_model_node_8cpp-source.html#l00191">191</a> of file <a class="el" href="_gr_model_node_8cpp-source.html">GrModelNode.cpp</a>.</p>

</div>
</div><p>
<hr>The documentation for this class was generated from the following files:<ul>
<li>C:/Bootstrap/ProjectBX/Documentation/Code/Engine/Graphics/<a class="el" href="_gr_model_node_8h-source.html">GrModelNode.h</a><li>C:/Bootstrap/ProjectBX/Documentation/Code/Engine/Graphics/<a class="el" href="_gr_model_node_8cpp-source.html">GrModelNode.cpp</a></ul>
</div>
<hr size="1"><address style="text-align: right;"><small>Generated on Fri Feb 13 17:20:05 2009 for Bootstrap Engine by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.8 </small></address>
</body>
</html>
