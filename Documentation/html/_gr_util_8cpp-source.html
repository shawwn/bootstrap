<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>Bootstrap Engine: C:/Bootstrap/ProjectBX/Documentation/Code/Engine/Graphics/GrUtil.cpp Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css">
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.8 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
      <li><a href="globals.html"><span>File&nbsp;Members</span></a></li>
    </ul>
  </div>
<h1>C:/Bootstrap/ProjectBX/Documentation/Code/Engine/Graphics/GrUtil.cpp</h1><a href="_gr_util_8cpp.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="comment">//----------------------------------------------------------</span>
<a name="l00006"></a>00006 <span class="comment"></span><span class="comment">//----------------------------------------------------------</span>
<a name="l00007"></a>00007 <span class="preprocessor">#include "<a class="code" href="graphics__afx_8h.html">graphics_afx.h</a>"</span>
<a name="l00008"></a>00008 
<a name="l00010"></a>00010 <span class="preprocessor">#include "<a class="code" href="_gr_util_8h.html">GrUtil.h</a>"</span>
<a name="l00011"></a>00011 
<a name="l00013"></a>00013 <span class="preprocessor">#include "<a class="code" href="_g_l_subsys_8h.html">GLSubsys.h</a>"</span>
<a name="l00014"></a>00014 <span class="preprocessor">#include "<a class="code" href="_gr_config_8h.html">GrConfig.h</a>"</span>
<a name="l00015"></a>00015 <span class="preprocessor">#include "<a class="code" href="_m_mat4x4_8h.html">MMat4x4.h</a>"</span>
<a name="l00016"></a>00016 <span class="preprocessor">#include "<a class="code" href="_m_vec3_8h.html">MVec3.h</a>"</span>
<a name="l00017"></a>00017 <span class="preprocessor">#include "<a class="code" href="_m_o_box_8h.html">MOBox.h</a>"</span>
<a name="l00018"></a>00018 <span class="preprocessor">#include "<a class="code" href="_gr_color_8h.html">GrColor.h</a>"</span>
<a name="l00019"></a>00019 <span class="preprocessor">#include "<a class="code" href="_gr_camera_8h.html">GrCamera.h</a>"</span>
<a name="l00020"></a>00020 
<a name="l00021"></a><a class="code" href="_gr_util_8cpp.html#759c4ef721bf87a80985cfabac8262f6">00021</a> <span class="preprocessor">#define MATRIX_STACK_SIZE               256</span>
<a name="l00022"></a><a class="code" href="_gr_util_8cpp.html#f3367e3838b14afc0dc4318d3820f33c">00022</a> <span class="preprocessor"></span><span class="preprocessor">#define STATE_STACK_SIZE                256</span>
<a name="l00023"></a>00023 <span class="preprocessor"></span>
<a name="l00024"></a>00024 <a class="code" href="common__afx_8h.html#3b7363cf55188b681be1c3df2fefd38f" title="static assertion macro.">B_STATIC_ASSERT</a>( <a class="code" href="_gr_util_8h.html#44688cfc75f55fcd8f79435674faf92a7482b30f21862f76e0ac80fc99bceb26" title="invalid texture format.">ETF_COUNT</a> == 15 );
<a name="l00025"></a>00025 <span class="keyword">static</span> <a class="code" href="_g_l_8h.html#5d5233918a454ad3975c620a69ac5f0b">GLenum</a> _textureFormatLUT[] =
<a name="l00026"></a>00026 {
<a name="l00027"></a>00027         <a class="code" href="glext_8h.html#76871dbc9ac35424b25ebc707ca11390">GL_COMPRESSED_RGB_S3TC_DXT1_EXT</a>,        
<a name="l00028"></a>00028         <a class="code" href="glext_8h.html#5f6e032bc5f877d09491c9a8ed191571">GL_COMPRESSED_RGBA_S3TC_DXT5_EXT</a>,       
<a name="l00029"></a>00029         <a class="code" href="_g_l_8h.html#47e61275e3ceb70db43107ff8074f025">GL_RGB5</a>,                                                        
<a name="l00030"></a>00030         <a class="code" href="_g_l_8h.html#5df9ef909394266c939ee408f172b169">GL_RGB8</a>,                                                        
<a name="l00031"></a>00031         <a class="code" href="_g_l_8h.html#57ec87baf4c081042b8cdac17c26ce93">GL_RGB5_A1</a>,                                                     
<a name="l00032"></a>00032         <a class="code" href="_g_l_8h.html#335877d7ab34f0272e089159fc5833bc">GL_RGBA8</a>,                                                       
<a name="l00033"></a>00033         <a class="code" href="glext_8h.html#b34cb055682a1d0e64279bd6ca903b3b">GL_RGB16F_ARB</a>,                                          
<a name="l00034"></a>00034         <a class="code" href="glext_8h.html#1d69388cec3ce265e2f930a9c7e301ac">GL_RGBA16F_ARB</a>,                                         
<a name="l00035"></a>00035         <a class="code" href="glext_8h.html#3d25eb63c2737538513f7b6d7d6a051e">GL_RGBA32F_ARB</a>,                                         
<a name="l00036"></a>00036         <a class="code" href="glext_8h.html#ddb713536e14f5b3cec8266ce7e76c95">GL_COMPRESSED_RED_RGTC1_EXT</a>,            
<a name="l00037"></a>00037         <a class="code" href="glext_8h.html#0b6c00eb9baed7a751017ce5cfb31d08">GL_COMPRESSED_SIGNED_RED_RGTC1_EXT</a>,     
<a name="l00038"></a>00038         <a class="code" href="glext_8h.html#9eb0fdb9414d9a8cf7f569ece217f8da">GL_COMPRESSED_RED_GREEN_RGTC2_EXT</a>,      
<a name="l00039"></a>00039         <a class="code" href="glext_8h.html#5cd19ece159c5fc81cddc2b2389efbcd">GL_COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT</a>,       
<a name="l00040"></a>00040         <a class="code" href="_gr_util_8h.html#44688cfc75f55fcd8f79435674faf92a716a8d925fbb6e1b7fc5e2cf486dca0b" title="red-green.">ETF_DEPTH</a>,                                                      
<a name="l00041"></a>00041         <a class="code" href="_gr_util_8h.html#44688cfc75f55fcd8f79435674faf92a42d292beb68ed30d3d1a613add107301">ETF_DEPTHSTENCIL</a>,                                       
<a name="l00042"></a>00042 };
<a name="l00043"></a>00043 
<a name="l00044"></a>00044 <a class="code" href="common__afx_8h.html#3b7363cf55188b681be1c3df2fefd38f" title="static assertion macro.">B_STATIC_ASSERT</a>( <a class="code" href="_gr_util_8h.html#02f438f7c3b1769e8bf1359926d0550293ee4953c49400f9f21684b5d4dfac16" title="invalid image format.">EIF_COUNT</a> == 11 );
<a name="l00045"></a>00045 <span class="keyword">static</span> <a class="code" href="_g_l_8h.html#5d5233918a454ad3975c620a69ac5f0b">GLenum</a> _imageFormatLUT[] =
<a name="l00046"></a>00046 {
<a name="l00047"></a>00047         <a class="code" href="_g_l_8h.html#7eb77863e36c241e7fa96f05f933da18">GL_RED</a>,                                                         
<a name="l00048"></a>00048         <a class="code" href="_g_l_8h.html#69f1c49996aca30177171c7b086cfb34">GL_RGB</a>,                                                         
<a name="l00049"></a>00049         <a class="code" href="_g_l_8h.html#9f2854f4a91a0d83d2d54cb8110bfca4">GL_RGBA</a>,                                                        
<a name="l00050"></a>00050         <a class="code" href="glext_8h.html#35d2992fb6ceb223785f916798c69901">GL_BGR</a>,                                                         
<a name="l00051"></a>00051         <a class="code" href="glext_8h.html#56707576fd3e2da55343c25da155294d">GL_BGRA</a>,                                                        
<a name="l00052"></a>00052         <a class="code" href="glext_8h.html#76871dbc9ac35424b25ebc707ca11390">GL_COMPRESSED_RGB_S3TC_DXT1_EXT</a>,        
<a name="l00053"></a>00053         <a class="code" href="glext_8h.html#5f6e032bc5f877d09491c9a8ed191571">GL_COMPRESSED_RGBA_S3TC_DXT5_EXT</a>,       
<a name="l00054"></a>00054         <a class="code" href="glext_8h.html#ddb713536e14f5b3cec8266ce7e76c95">GL_COMPRESSED_RED_RGTC1_EXT</a>,            
<a name="l00055"></a>00055         <a class="code" href="glext_8h.html#0b6c00eb9baed7a751017ce5cfb31d08">GL_COMPRESSED_SIGNED_RED_RGTC1_EXT</a>,     
<a name="l00056"></a>00056         <a class="code" href="glext_8h.html#9eb0fdb9414d9a8cf7f569ece217f8da">GL_COMPRESSED_RED_GREEN_RGTC2_EXT</a>,      
<a name="l00057"></a>00057         <a class="code" href="glext_8h.html#5cd19ece159c5fc81cddc2b2389efbcd">GL_COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT</a>,       
<a name="l00058"></a>00058 };
<a name="l00059"></a>00059 
<a name="l00060"></a>00060 <a class="code" href="common__afx_8h.html#3b7363cf55188b681be1c3df2fefd38f" title="static assertion macro.">B_STATIC_ASSERT</a>( <a class="code" href="_gr_util_8h.html#ac7250b216f548e740b6d2e0d5d972f83130ed515731df93c5ed5e547f45da01" title="invalid format type.">ET_COUNT</a> == 8 );
<a name="l00061"></a>00061 <span class="keyword">static</span> <a class="code" href="_g_l_8h.html#5d5233918a454ad3975c620a69ac5f0b">GLenum</a> _imageFormatTypeLUT[] =
<a name="l00062"></a>00062 {
<a name="l00063"></a>00063         <a class="code" href="_g_l_8h.html#80a33c79f69417372d65d2a65ca36d49">GL_UNSIGNED_BYTE</a>,                                       
<a name="l00064"></a>00064         <a class="code" href="_g_l_8h.html#66f452ef2a3d3a1f92e38d9fd6e3f8ec">GL_BYTE</a>,                                                        
<a name="l00065"></a>00065         <a class="code" href="_g_l_8h.html#36c3f955599ab92217a70cce8a22e11f">GL_UNSIGNED_SHORT</a>,                                      
<a name="l00066"></a>00066         <a class="code" href="_g_l_8h.html#7a2b436e565363c81b22611b8392a341">GL_SHORT</a>,                                                       
<a name="l00067"></a>00067         <a class="code" href="_g_l_8h.html#69b1c02ba0bd93c643c6d82e0c16eb99">GL_UNSIGNED_INT</a>,                                        
<a name="l00068"></a>00068         <a class="code" href="_g_l_8h.html#165997187828b3a8a0db9d49d568406b">GL_INT</a>,                                                         
<a name="l00069"></a>00069         <a class="code" href="_g_l_8h.html#6d19915d4237cb559505bd3e5dcfcf3c">GL_FLOAT</a>,                                                       
<a name="l00070"></a>00070         <a class="code" href="glext_8h.html#a3d4d84d7e1458e03145d5db96bde045">GL_HALF_FLOAT</a>,                                          
<a name="l00071"></a>00071 };
<a name="l00072"></a>00072 
<a name="l00073"></a>00073 <a class="code" href="common__afx_8h.html#3b7363cf55188b681be1c3df2fefd38f" title="static assertion macro.">B_STATIC_ASSERT</a>( <a class="code" href="_gr_util_8h.html#b3e9826637cd9ac6566bdd76e9fce14580977168c4e8e33a541e56156c8383f7" title="invalid primitive type.">EPT_COUNT</a> == 5 );
<a name="l00074"></a>00074 <span class="keyword">static</span> <a class="code" href="_g_l_8h.html#5d5233918a454ad3975c620a69ac5f0b">GLenum</a> _primTypeLUT[] =
<a name="l00075"></a>00075 {
<a name="l00076"></a>00076         <a class="code" href="_g_l_8h.html#6079e7a02a59adad65eb953d9482b1ed">GL_TRIANGLES</a>,
<a name="l00077"></a>00077         <a class="code" href="_g_l_8h.html#d38e94a1120d6688fce6fc805a5b998d">GL_TRIANGLE_STRIP</a>,
<a name="l00078"></a>00078         <a class="code" href="_g_l_8h.html#532ed3612eae8eaed8a7a53ecd7a28f3">GL_LINES</a>,
<a name="l00079"></a>00079         <a class="code" href="_g_l_8h.html#4ecc64682046ef517e86a18d9acbed1e">GL_LINE_STRIP</a>,
<a name="l00080"></a>00080         <a class="code" href="_g_l_8h.html#36b428225d54dd9cf2e564e5ada3ad3d">GL_QUADS</a>,
<a name="l00081"></a>00081 };
<a name="l00082"></a>00082 
<a name="l00083"></a>00083 
<a name="l00084"></a>00084 <span class="comment">//==========================================================</span>
<a name="l00086"></a>00086 <span class="comment"></span><span class="comment">//==========================================================</span>
<a name="l00087"></a><a class="code" href="_gr_util_8cpp.html#4be29368b3474bf203a54576de6bbc55">00087</a> <span class="keywordtype">bool</span> <a class="code" href="_gr_util_8cpp.html#4be29368b3474bf203a54576de6bbc55" title="global vars.">_GrFilterStates</a> = <span class="keyword">true</span>;
<a name="l00088"></a><a class="code" href="_gr_util_8cpp.html#532f936c476d6cadd8c23a53a2969f70">00088</a> <span class="keywordtype">bool</span> <a class="code" href="_gr_util_8cpp.html#532f936c476d6cadd8c23a53a2969f70">_GrFilterStateModes</a> = <span class="keyword">true</span>;
<a name="l00089"></a><a class="code" href="_gr_util_8cpp.html#f9f73bd0c9bce73648026bd1c22c0152">00089</a> <span class="keywordtype">bool</span> <a class="code" href="_gr_util_8cpp.html#f9f73bd0c9bce73648026bd1c22c0152">_GrFilterMasks</a> = <span class="keyword">true</span>;
<a name="l00090"></a>00090 
<a name="l00091"></a>00091 
<a name="l00092"></a>00092 <span class="comment">//==========================================================</span>
<a name="l00094"></a>00094 <span class="comment"></span><span class="comment">//==========================================================</span>
<a name="l00095"></a>00095 
<a name="l00097"></a>00097 <span class="keyword">static</span> <span class="keywordtype">bool</span> _stateInit = <span class="keyword">false</span>;
<a name="l00098"></a>00098 
<a name="l00100"></a>00100 <span class="keyword">static</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> _currentState;
<a name="l00101"></a>00101 <span class="keyword">static</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> _stateStack[ <a class="code" href="_gr_util_8cpp.html#f3367e3838b14afc0dc4318d3820f33c">STATE_STACK_SIZE</a> ];
<a name="l00102"></a>00102 <span class="keyword">static</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> _stateStackTop;
<a name="l00103"></a>00103 
<a name="l00105"></a>00105 <span class="keyword">static</span> <a class="code" href="class_m_mat4x4.html" title="class MMat4x4">MMat4x4</a> _modelView;
<a name="l00106"></a>00106 <span class="keyword">static</span> <a class="code" href="class_m_mat4x4.html" title="class MMat4x4">MMat4x4</a> _matrixStack[ <a class="code" href="_gr_util_8cpp.html#759c4ef721bf87a80985cfabac8262f6" title="file header.">MATRIX_STACK_SIZE</a> ];
<a name="l00107"></a>00107 <span class="keyword">static</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> _matrixStackTop;
<a name="l00108"></a>00108 
<a name="l00110"></a>00110 <span class="keyword">static</span> <a class="code" href="_gr_util_8h.html#48d90fb7bec7d5ebb8c2bf20318961ec" title="render state modes">EGRBLENDMODE</a> _srcFactorRGB;
<a name="l00111"></a>00111 <span class="keyword">static</span> <a class="code" href="_gr_util_8h.html#48d90fb7bec7d5ebb8c2bf20318961ec" title="render state modes">EGRBLENDMODE</a> _srcFactorAlpha;
<a name="l00112"></a>00112 <span class="keyword">static</span> <a class="code" href="_gr_util_8h.html#48d90fb7bec7d5ebb8c2bf20318961ec" title="render state modes">EGRBLENDMODE</a> _dstFactorRGB;
<a name="l00113"></a>00113 <span class="keyword">static</span> <a class="code" href="_gr_util_8h.html#48d90fb7bec7d5ebb8c2bf20318961ec" title="render state modes">EGRBLENDMODE</a> _dstFactorAlpha;
<a name="l00114"></a>00114 <span class="keyword">static</span> <a class="code" href="_gr_util_8h.html#1b0363d090000f9cf8d7b949574fa046">EGRSTENCILMODE</a> _stencilMode;
<a name="l00115"></a>00115 <span class="keyword">static</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> _stencilMask = ~0;
<a name="l00116"></a>00116 <span class="keyword">static</span> <a class="code" href="_gr_util_8h.html#abff98128b1f220d1ceff538f4abdef3">EGRALPHATESTMODE</a> _alphaTestMode;
<a name="l00117"></a>00117 <span class="keyword">static</span> <span class="keywordtype">float</span> _alphaTestRef;
<a name="l00118"></a>00118 <span class="keyword">static</span> <a class="code" href="_gr_util_8h.html#ea790ef067767354691d0d60c51542fe">EGRCULLMODE</a> _cullMode;
<a name="l00119"></a>00119 <span class="keyword">static</span> <a class="code" href="_gr_util_8h.html#987cbe08cd23c0d7a12ae576e9ce0984">EGRDEPTHMODE</a> _depthMode;
<a name="l00120"></a>00120 <span class="keyword">static</span> <span class="keywordtype">float</span> _slopeBias = 0.0f;
<a name="l00121"></a>00121 <span class="keyword">static</span> <span class="keywordtype">float</span> _constBias = 0.0f;
<a name="l00122"></a>00122 
<a name="l00124"></a>00124 <span class="keyword">static</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> _currentArrayState;
<a name="l00125"></a>00125 
<a name="l00127"></a>00127 <span class="keyword">static</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> _writeEnable;
<a name="l00128"></a>00128 
<a name="l00130"></a>00130 <span class="keyword">static</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> _activeTexUnit;
<a name="l00131"></a>00131 <span class="keyword">static</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> _curTextures[ 16 ];
<a name="l00132"></a>00132 <span class="keyword">static</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> _curTexTargets[ 16 ];
<a name="l00133"></a>00133 <span class="keyword">static</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> _curVB;
<a name="l00134"></a>00134 <span class="keyword">static</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> _curIB;
<a name="l00135"></a>00135 <span class="keyword">static</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> _curPackPB;
<a name="l00136"></a>00136 <span class="keyword">static</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> _curUnpackPB;
<a name="l00137"></a>00137 <span class="keyword">static</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> _curShader;
<a name="l00138"></a>00138 
<a name="l00140"></a>00140 <span class="keyword">static</span> <span class="keywordtype">int</span> _viewportX = 0;
<a name="l00141"></a>00141 <span class="keyword">static</span> <span class="keywordtype">int</span> _viewportY = 0;
<a name="l00142"></a>00142 <span class="keyword">static</span> <span class="keywordtype">int</span> _viewportWidth = 0;
<a name="l00143"></a>00143 <span class="keyword">static</span> <span class="keywordtype">int</span> _viewportHeight = 0;
<a name="l00144"></a>00144 
<a name="l00146"></a>00146 <span class="keyword">static</span> <span class="keywordtype">int</span> _scissorX = 0;
<a name="l00147"></a>00147 <span class="keyword">static</span> <span class="keywordtype">int</span> _scissorY = 0;
<a name="l00148"></a>00148 <span class="keyword">static</span> <span class="keywordtype">int</span> _scissorWidth = 0;
<a name="l00149"></a>00149 <span class="keyword">static</span> <span class="keywordtype">int</span> _scissorHeight = 0;
<a name="l00150"></a>00150 
<a name="l00152"></a>00152 <span class="keyword">static</span> <span class="keywordtype">int</span> _maxTextureSize = 0;
<a name="l00153"></a>00153 <span class="keyword">static</span> <span class="keywordtype">int</span> _maxFramebufferSize = 0;
<a name="l00154"></a>00154 <span class="keyword">static</span> <span class="keywordtype">int</span> _maxAttribCount = 0;
<a name="l00155"></a>00155 
<a name="l00157"></a>00157 <span class="keyword">static</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> _simpleShader = 0;
<a name="l00158"></a>00158 
<a name="l00160"></a>00160 <span class="keyword">static</span> <span class="keywordtype">void</span> RestoreSampler( <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> texUnit );
<a name="l00161"></a>00161 
<a name="l00162"></a>00162 <span class="comment">//==========================================================</span>
<a name="l00164"></a>00164 <span class="comment"></span><span class="comment">//==========================================================</span>
<a name="l00165"></a><a class="code" href="_gr_util_8cpp.html#2cfbdfb784d1c5f4e95d4595642f6588">00165</a> <span class="preprocessor">#define CHECK_BIT( b, m )               ( ( ( b ) &amp; ( m ) ) != 0 ? ( GL_TRUE ) : ( GL_ZERO ) )</span>
<a name="l00166"></a>00166 <span class="preprocessor"></span>
<a name="l00167"></a>00167 <span class="comment">//**********************************************************</span>
<a name="l00169"></a>00169 <span class="comment"></span><span class="comment">//**********************************************************</span>
<a name="l00170"></a>00170 
<a name="l00171"></a>00171 <span class="comment">//----------------------------------------------------------</span>
<a name="l00172"></a>00172 <span class="keywordtype">void</span>
<a name="l00173"></a><a class="code" href="_gr_util_8h.html#d1feed1ad65ec4d2473b921369c8365b">00173</a> <a class="code" href="_gr_util_8cpp.html#d1feed1ad65ec4d2473b921369c8365b" title="functions implementations.">GrStateStart</a>( <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> initScreenWidth, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> initScreenHeight )
<a name="l00174"></a>00174 {
<a name="l00176"></a>00176         _currentState = <a class="code" href="_gr_util_8h.html#df38fed29d4a8214bf4a51a0df0a7512" title="render states.">GR_DEPTHTEST</a> | <a class="code" href="_gr_util_8h.html#43f8fbc0073e1858f6bba0a73acfe8a6">GR_CULLFACE</a>;
<a name="l00177"></a>00177         _stateStackTop = 0;
<a name="l00178"></a>00178         _currentArrayState = 0;
<a name="l00179"></a>00179 
<a name="l00181"></a>00181         _srcFactorRGB = <a class="code" href="_gr_util_8h.html#48d90fb7bec7d5ebb8c2bf20318961ec942b36475feda6ffc68e80e67fb1b79d">EBM_ONE</a>;
<a name="l00182"></a>00182         _srcFactorAlpha = <a class="code" href="_gr_util_8h.html#48d90fb7bec7d5ebb8c2bf20318961ec942b36475feda6ffc68e80e67fb1b79d">EBM_ONE</a>;
<a name="l00183"></a>00183         _dstFactorRGB = <a class="code" href="_gr_util_8h.html#48d90fb7bec7d5ebb8c2bf20318961ecc9c0a06efec84a35b4d9586676fa3815">EBM_ZERO</a>;
<a name="l00184"></a>00184         _dstFactorAlpha = <a class="code" href="_gr_util_8h.html#48d90fb7bec7d5ebb8c2bf20318961ecc9c0a06efec84a35b4d9586676fa3815">EBM_ZERO</a>;
<a name="l00185"></a>00185         _stencilMode = <a class="code" href="_gr_util_8h.html#1b0363d090000f9cf8d7b949574fa04669d13bfa6d8fca3dbdbfa272dbba4343" title="increments the stencil if the z-test passes for front faces.">ESM_USESTENCIL</a>;
<a name="l00186"></a>00186         _alphaTestMode = <a class="code" href="_gr_util_8h.html#abff98128b1f220d1ceff538f4abdef3889efe17f48153356052fbf167ce24b7">EAM_GREATER</a>;
<a name="l00187"></a>00187         _alphaTestRef = 0.5f;
<a name="l00188"></a>00188         _cullMode = <a class="code" href="_gr_util_8h.html#ea790ef067767354691d0d60c51542fe5fb45ade8a2def0e22899c5f34497da4">ECM_BACK</a>;
<a name="l00189"></a>00189         _depthMode = <a class="code" href="_gr_util_8h.html#987cbe08cd23c0d7a12ae576e9ce098411cf9194e24cc66a0779bd0d6619ce9d">EDM_LESSEQUAL</a>;
<a name="l00190"></a>00190         _writeEnable = <a class="code" href="_gr_util_8h.html#d091dcc5dafb6944427eb6d9895b25d3">GR_RGBA</a> | <a class="code" href="_gr_util_8h.html#263ecb0b6dc90d2aca7b9291d81a7024">GR_DEPTH</a>;
<a name="l00191"></a>00191 
<a name="l00193"></a>00193         _viewportX = 0;
<a name="l00194"></a>00194         _viewportY = 0;
<a name="l00195"></a>00195         _viewportWidth = initScreenWidth;
<a name="l00196"></a>00196         _viewportHeight = initScreenHeight;
<a name="l00197"></a>00197         <a class="code" href="_g_l_subsys_8cpp.html#a972ce49b8258fdfcd638c6c7bdaea9b">bglViewport</a>( 0, 0, _viewportWidth, _viewportHeight );
<a name="l00198"></a>00198 
<a name="l00200"></a>00200         _scissorX = 0;
<a name="l00201"></a>00201         _scissorY = 0;
<a name="l00202"></a>00202         _scissorWidth = initScreenWidth;
<a name="l00203"></a>00203         _scissorHeight = initScreenHeight;
<a name="l00204"></a>00204         <a class="code" href="_g_l_subsys_8cpp.html#ff3d9318b43ed0b5d61a79480d42133f">bglScissor</a>( 0, 0, _scissorWidth, _scissorHeight );
<a name="l00205"></a>00205 
<a name="l00207"></a>00207         <a class="code" href="common__afx_8h.html#9f04579206286b6dc8c9708063450144" title="memory functions.">MemSet</a>( _curTextures, 0, <span class="keyword">sizeof</span>( _curTextures ) );
<a name="l00208"></a>00208         <a class="code" href="common__afx_8h.html#9f04579206286b6dc8c9708063450144" title="memory functions.">MemSet</a>( _curTexTargets, 0, <span class="keyword">sizeof</span>( _curTexTargets ) );
<a name="l00209"></a>00209         _curVB = 0;
<a name="l00210"></a>00210         _curIB = 0;
<a name="l00211"></a>00211         _curPackPB = 0;
<a name="l00212"></a>00212         _curUnpackPB = 0;
<a name="l00213"></a>00213         _curShader = 0;
<a name="l00214"></a>00214 
<a name="l00216"></a>00216         _matrixStackTop = 0;
<a name="l00217"></a>00217 
<a name="l00219"></a>00219         <a class="code" href="_g_l_subsys_8cpp.html#64adfad7fdc5f08c5abbc61b84b94890">bglEnable</a>( <a class="code" href="_g_l_8h.html#4ccf1dc093190cc3798b9abea3655f98">GL_DEPTH_TEST</a> );
<a name="l00220"></a>00220         <a class="code" href="_g_l_subsys_8cpp.html#64adfad7fdc5f08c5abbc61b84b94890">bglEnable</a>( <a class="code" href="_g_l_8h.html#8c4f153ed20a741aaae952650fec46f0">GL_CULL_FACE</a> );
<a name="l00221"></a>00221         <a class="code" href="_g_l_subsys_8cpp.html#9f1417b786bc5a1df544b2b3e5827fdf">bglDisable</a>( <a class="code" href="_g_l_8h.html#a290e8f9ee6f6862778355aa22bb0b13">GL_BLEND</a> );
<a name="l00222"></a>00222         <a class="code" href="_g_l_subsys_8cpp.html#9f1417b786bc5a1df544b2b3e5827fdf">bglDisable</a>( <a class="code" href="_g_l_8h.html#4fda8987c8cb3d921967cd0a5343f174">GL_ALPHA_TEST</a> );
<a name="l00223"></a>00223         <a class="code" href="_g_l_subsys_8cpp.html#9f1417b786bc5a1df544b2b3e5827fdf">bglDisable</a>( <a class="code" href="_g_l_8h.html#be1c2e1876841bc483127fd45d7ca3b1">GL_SCISSOR_TEST</a> );
<a name="l00224"></a>00224         <a class="code" href="_g_l_subsys_8cpp.html#9f1417b786bc5a1df544b2b3e5827fdf">bglDisable</a>( <a class="code" href="_g_l_8h.html#4f0fd22afde7215e4412dafa5e522097">GL_STENCIL_TEST</a> );
<a name="l00225"></a>00225         <a class="code" href="_g_l_subsys_8cpp.html#7132e94ea4dd07e5cdb62c191622f999">bglPolygonMode</a>( <a class="code" href="_g_l_8h.html#355cd0068666a25037ca163a57eaa214">GL_FRONT_AND_BACK</a>, <a class="code" href="_g_l_8h.html#95af009d03993e7ed7df00306cc53573">GL_FILL</a> );
<a name="l00226"></a>00226         <a class="code" href="_g_l_subsys_8cpp.html#112c00ec848b5cb5c72b06a0283e1cd6">bglUseProgram</a>( 0 );
<a name="l00227"></a>00227 
<a name="l00229"></a>00229         <a class="code" href="_g_l_subsys_8cpp.html#7bf1600c864d0fbfe39d57ccdb502d61">bglMatrixMode</a>( <a class="code" href="_g_l_8h.html#8c0f92b5d50914825a1424b1cd4480cd">GL_MODELVIEW</a> );
<a name="l00230"></a>00230 
<a name="l00232"></a>00232         <a class="code" href="_g_l_subsys_8cpp.html#53d27e6b3a031b5a43d4dd9637a0eec9">bglBlendFunc</a>( <a class="code" href="_g_l_8h.html#a92fae02a274fe856dad3362144f84dd">GL_ONE</a>, <a class="code" href="_g_l_8h.html#72086daeeb80e5eb5788f42a4eea050e">GL_ZERO</a> );
<a name="l00233"></a>00233         <a class="code" href="_g_l_subsys_8cpp.html#da600b1c62c5fb0b152d7677924fa265">bglStencilFunc</a>( <a class="code" href="_g_l_8h.html#19d83affd8f0b06c09940cff7da428d2">GL_LESS</a>, 0, _stencilMask );
<a name="l00234"></a>00234         <a class="code" href="_g_l_subsys_8cpp.html#93aa6faaf3f970e99627aa818e4fc951">bglAlphaFunc</a>( <a class="code" href="_g_l_8h.html#a3bfa1f454ff5072bc1b64e7d30e9584">GL_GREATER</a>, 0.5f );
<a name="l00235"></a>00235         <a class="code" href="_g_l_subsys_8cpp.html#8fed7ce97a7b35118f20c13c1f07d7f1">bglCullFace</a>( <a class="code" href="_g_l_8h.html#688ad6fbf908a39f7197da6d4e4dd083">GL_BACK</a> );
<a name="l00236"></a>00236         <a class="code" href="_g_l_subsys_8cpp.html#6b41c03d6d2701c08bdb9d51eb127e1c">bglDepthFunc</a>( <a class="code" href="_g_l_8h.html#8b778a06f153b4d59ebc6aa1d0996191">GL_LEQUAL</a> );
<a name="l00237"></a>00237 
<a name="l00239"></a>00239         <a class="code" href="_g_l_subsys_8cpp.html#22ba3b0340cdfe597096c3f0020c8f1d">bglColorMask</a>( <a class="code" href="_g_l_8h.html#06316bc3c17db78ce93419fb208945ba">GL_TRUE</a>, <a class="code" href="_g_l_8h.html#06316bc3c17db78ce93419fb208945ba">GL_TRUE</a>, <a class="code" href="_g_l_8h.html#06316bc3c17db78ce93419fb208945ba">GL_TRUE</a>, <a class="code" href="_g_l_8h.html#06316bc3c17db78ce93419fb208945ba">GL_TRUE</a> );
<a name="l00240"></a>00240         <a class="code" href="_g_l_subsys_8cpp.html#5fccb96f913738095b60bd3583cc7db9">bglDepthMask</a>( <a class="code" href="_g_l_8h.html#06316bc3c17db78ce93419fb208945ba">GL_TRUE</a> );
<a name="l00241"></a>00241         <a class="code" href="_g_l_subsys_8cpp.html#46352a9c007df69aa196c930c2516494">bglStencilMask</a>( 0 );
<a name="l00242"></a>00242 
<a name="l00244"></a>00244         <a class="code" href="_g_l_subsys_8cpp.html#6975ee1fc3e7c8414974b8011e9dfce9">bglDrawBuffer</a>( <a class="code" href="_g_l_8h.html#5bdb7358ec350ac69e6161c731a6221d">GL_BACK_LEFT</a> );
<a name="l00245"></a>00245 
<a name="l00247"></a>00247         <span class="keywordflow">for</span> ( <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i = 0; i &lt; 16; ++i )
<a name="l00248"></a>00248         {
<a name="l00249"></a>00249                 <a class="code" href="_g_l_subsys_8cpp.html#511fecb101c9253589ee3ff13edfab5e" title="1.3">bglActiveTexture</a>( <a class="code" href="glext_8h.html#16cc91096144fc7048b45e2add14915b">GL_TEXTURE0</a>+i );
<a name="l00250"></a>00250                 <a class="code" href="_g_l_subsys_8cpp.html#9f8537a51789c0899c5c851192f93593">bglBindTexture</a>( <a class="code" href="_g_l_8h.html#d4de17abefa73fa2ef53379f73b734be">GL_TEXTURE_2D</a>, 0 );
<a name="l00251"></a>00251                 <a class="code" href="_g_l_subsys_8cpp.html#9f8537a51789c0899c5c851192f93593">bglBindTexture</a>( <a class="code" href="glext_8h.html#6c865f303c89ec764158e0016e50d4a8">GL_TEXTURE_3D</a>, 0 );
<a name="l00252"></a>00252                 <a class="code" href="_g_l_subsys_8cpp.html#9f8537a51789c0899c5c851192f93593">bglBindTexture</a>( <a class="code" href="glext_8h.html#26e189fe84285eb8fae26721662dbe8c">GL_TEXTURE_CUBE_MAP</a>, 0 );
<a name="l00253"></a>00253         }
<a name="l00254"></a>00254 
<a name="l00255"></a>00255         _activeTexUnit = 0;
<a name="l00256"></a>00256         <a class="code" href="_g_l_subsys_8cpp.html#511fecb101c9253589ee3ff13edfab5e" title="1.3">bglActiveTexture</a>( <a class="code" href="glext_8h.html#16cc91096144fc7048b45e2add14915b">GL_TEXTURE0</a> );
<a name="l00257"></a>00257 
<a name="l00259"></a>00259         <a class="code" href="_g_l_subsys_8cpp.html#927d8eea97601bab596afd6f7de9bd2a">bglBindBuffer</a>( <a class="code" href="glext_8h.html#7180045dcb52b22af2cd0366026bc3ed">GL_ARRAY_BUFFER</a>, 0 );
<a name="l00260"></a>00260         <a class="code" href="_g_l_subsys_8cpp.html#927d8eea97601bab596afd6f7de9bd2a">bglBindBuffer</a>( <a class="code" href="glext_8h.html#d26c63125c72cbf0347b589d51676e6a">GL_ELEMENT_ARRAY_BUFFER</a>, 0 );
<a name="l00261"></a>00261 
<a name="l00263"></a>00263         <a class="code" href="_g_l_subsys_8cpp.html#a381c933eacf0c257171062dacbc151f">bglGetIntegerv</a>( <a class="code" href="_g_l_8h.html#1055b93cfcdfb97cfc8e00e8e0bb03a1">GL_MAX_TEXTURE_SIZE</a>, &amp;_maxTextureSize );
<a name="l00264"></a>00264         <a class="code" href="_g_l_subsys_8cpp.html#a381c933eacf0c257171062dacbc151f">bglGetIntegerv</a>( <a class="code" href="glext_8h.html#473758b67779f4b4e6f319f3693a5387">GL_MAX_RENDERBUFFER_SIZE_EXT</a>, &amp;_maxFramebufferSize );
<a name="l00265"></a>00265         <a class="code" href="_g_l_subsys_8cpp.html#a381c933eacf0c257171062dacbc151f">bglGetIntegerv</a>( <a class="code" href="glext_8h.html#676ebaa9cbb5d801e916cc8f0c245f44">GL_MAX_VERTEX_ATTRIBS</a>, &amp;_maxAttribCount );
<a name="l00266"></a>00266         _maxAttribCount = <a class="code" href="common__afx_8h.html#0296e17691267defafdfde06589f50d5">Min</a>( _maxAttribCount, 32 );
<a name="l00267"></a>00267 
<a name="l00269"></a>00269         _stateInit = <span class="keyword">true</span>;
<a name="l00270"></a>00270 
<a name="l00272"></a>00272         _currentArrayState = ~0;
<a name="l00273"></a>00273         <a class="code" href="_gr_util_8cpp.html#506af8fd03563f360bdd3cacb4481047">GrStreamDisableArrays</a>( _currentArrayState );
<a name="l00274"></a>00274 
<a name="l00276"></a>00276         <a class="code" href="_g_l_subsys_8h.html#ab12f88c1ad74a5b4876f37fcf105bda">CHECK_GL</a>();
<a name="l00277"></a>00277 }
<a name="l00278"></a>00278 <span class="comment">//----------------------------------------------------------</span>
<a name="l00279"></a>00279 <span class="keywordtype">bool</span> 
<a name="l00280"></a><a class="code" href="_gr_util_8h.html#50fd4ddbaab4ffd72f30a7bb3b55e1dd">00280</a> <a class="code" href="_gr_util_8cpp.html#50fd4ddbaab4ffd72f30a7bb3b55e1dd">GrStateStarted</a>()
<a name="l00281"></a>00281 {
<a name="l00282"></a>00282         <span class="keywordflow">return</span> _stateInit;
<a name="l00283"></a>00283 }
<a name="l00284"></a>00284 
<a name="l00285"></a>00285 <span class="comment">//----------------------------------------------------------</span>
<a name="l00286"></a>00286 <span class="keywordtype">void</span>
<a name="l00287"></a><a class="code" href="_gr_util_8h.html#ee9e0ba47c9981a63cda19342461130c">00287</a> <a class="code" href="_gr_util_8cpp.html#ee9e0ba47c9981a63cda19342461130c">GrStateStop</a>()
<a name="l00288"></a>00288 {
<a name="l00289"></a>00289         _stateInit = <span class="keyword">false</span>;
<a name="l00290"></a>00290 }
<a name="l00291"></a>00291 
<a name="l00292"></a>00292 <span class="comment">//----------------------------------------------------------</span>
<a name="l00293"></a>00293 <span class="keywordtype">void</span>
<a name="l00294"></a><a class="code" href="_gr_util_8h.html#fc9a40b5acc4a1c85af33feff7bcb7ba">00294</a> <a class="code" href="_gr_util_8cpp.html#12179b4fb6d51d7550d5fddf5c712893">GrEnable</a>( <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="_u_t_message_8h.html#0a3c0b351ab09281b662a9ff4f900a53">flags</a> )
<a name="l00295"></a>00295 {
<a name="l00297"></a>00297         <a class="code" href="common__afx_8h.html#2630490ce4292ed6d05359d2957796b8">B_ASSERT</a>( _stateInit );
<a name="l00298"></a>00298 
<a name="l00300"></a>00300         <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> enable = flags &amp; ~_currentState;
<a name="l00301"></a>00301         <span class="keywordflow">if</span> ( enable == 0 )
<a name="l00302"></a>00302                 <span class="keywordflow">return</span>;
<a name="l00303"></a>00303 
<a name="l00305"></a>00305         <span class="keywordflow">if</span> ( enable &amp; <a class="code" href="_gr_util_8h.html#df38fed29d4a8214bf4a51a0df0a7512" title="render states.">GR_DEPTHTEST</a> )
<a name="l00306"></a>00306                 <a class="code" href="_g_l_subsys_8cpp.html#64adfad7fdc5f08c5abbc61b84b94890">bglEnable</a>( <a class="code" href="_g_l_8h.html#4ccf1dc093190cc3798b9abea3655f98">GL_DEPTH_TEST</a> );
<a name="l00307"></a>00307 
<a name="l00308"></a>00308         <span class="keywordflow">if</span> ( enable &amp; <a class="code" href="_gr_util_8h.html#43f8fbc0073e1858f6bba0a73acfe8a6">GR_CULLFACE</a> )
<a name="l00309"></a>00309                 <a class="code" href="_g_l_subsys_8cpp.html#64adfad7fdc5f08c5abbc61b84b94890">bglEnable</a>( <a class="code" href="_g_l_8h.html#8c4f153ed20a741aaae952650fec46f0">GL_CULL_FACE</a> );
<a name="l00310"></a>00310 
<a name="l00311"></a>00311         <span class="keywordflow">if</span> ( enable &amp; <a class="code" href="_gr_util_8h.html#ce93b9dc4bae65a0e96164bc2dcb2688">GR_BLEND</a> )
<a name="l00312"></a>00312                 <a class="code" href="_g_l_subsys_8cpp.html#64adfad7fdc5f08c5abbc61b84b94890">bglEnable</a>( <a class="code" href="_g_l_8h.html#a290e8f9ee6f6862778355aa22bb0b13">GL_BLEND</a> );
<a name="l00313"></a>00313 
<a name="l00314"></a>00314         <span class="keywordflow">if</span> ( enable &amp; <a class="code" href="_gr_util_8h.html#20b24dfbb3798202873d51b43f75082d">GR_ALPHATEST</a> )
<a name="l00315"></a>00315                 <a class="code" href="_g_l_subsys_8cpp.html#64adfad7fdc5f08c5abbc61b84b94890">bglEnable</a>( <a class="code" href="_g_l_8h.html#4fda8987c8cb3d921967cd0a5343f174">GL_ALPHA_TEST</a> );
<a name="l00316"></a>00316 
<a name="l00317"></a>00317         <span class="keywordflow">if</span> ( enable &amp; <a class="code" href="_gr_util_8h.html#47199898343345437f15b87b709a20e6">GR_SCISSORTEST</a> )
<a name="l00318"></a>00318                 <a class="code" href="_g_l_subsys_8cpp.html#64adfad7fdc5f08c5abbc61b84b94890">bglEnable</a>( <a class="code" href="_g_l_8h.html#be1c2e1876841bc483127fd45d7ca3b1">GL_SCISSOR_TEST</a> );
<a name="l00319"></a>00319 
<a name="l00320"></a>00320         <span class="keywordflow">if</span> ( enable &amp; <a class="code" href="_gr_util_8h.html#a8b6a3ea82c6849cbd16ebeba0aca2b2">GR_STENCILTEST</a> )
<a name="l00321"></a>00321                 <a class="code" href="_g_l_subsys_8cpp.html#64adfad7fdc5f08c5abbc61b84b94890">bglEnable</a>( <a class="code" href="_g_l_8h.html#4f0fd22afde7215e4412dafa5e522097">GL_STENCIL_TEST</a> );
<a name="l00322"></a>00322 
<a name="l00323"></a>00323         <span class="keywordflow">if</span> ( enable &amp; <a class="code" href="_gr_util_8h.html#54096622979773e2eb626dbf956e7145">GR_DEPTHBIAS</a> )
<a name="l00324"></a>00324                 <a class="code" href="_g_l_subsys_8cpp.html#64adfad7fdc5f08c5abbc61b84b94890">bglEnable</a>( <a class="code" href="_g_l_8h.html#3ee631814361db6d24e7ebc5988877ab">GL_POLYGON_OFFSET_FILL</a> );
<a name="l00325"></a>00325 
<a name="l00326"></a>00326         <span class="keywordflow">if</span> ( enable &amp; <a class="code" href="_gr_util_8h.html#3d7aa459899278ffdc2f5d3229b6ec65">GR_WIREFRAME</a> )
<a name="l00327"></a>00327                 <a class="code" href="_g_l_subsys_8cpp.html#7132e94ea4dd07e5cdb62c191622f999">bglPolygonMode</a>( <a class="code" href="_g_l_8h.html#355cd0068666a25037ca163a57eaa214">GL_FRONT_AND_BACK</a>, <a class="code" href="_g_l_8h.html#bbfc2afe81343b8bb6e636fd60aa8e39">GL_LINE</a> );
<a name="l00328"></a>00328 
<a name="l00330"></a>00330         _currentState |= flags;
<a name="l00331"></a>00331 }
<a name="l00332"></a>00332 
<a name="l00333"></a>00333 <span class="comment">//----------------------------------------------------------</span>
<a name="l00334"></a>00334 <span class="keywordtype">void</span>
<a name="l00335"></a><a class="code" href="_gr_util_8h.html#e565137ab98d58cf8f3062c3a1fe0584">00335</a> <a class="code" href="_gr_util_8cpp.html#bafd90d401a31030835ccacc7322688e">GrDisable</a>( <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="_u_t_message_8h.html#0a3c0b351ab09281b662a9ff4f900a53">flags</a> )
<a name="l00336"></a>00336 {
<a name="l00338"></a>00338         <a class="code" href="common__afx_8h.html#2630490ce4292ed6d05359d2957796b8">B_ASSERT</a>( _stateInit );
<a name="l00339"></a>00339 
<a name="l00341"></a>00341         <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> disable = flags &amp; _currentState;
<a name="l00342"></a>00342         <span class="keywordflow">if</span> ( disable == 0 )
<a name="l00343"></a>00343                 <span class="keywordflow">return</span>;
<a name="l00344"></a>00344 
<a name="l00346"></a>00346         <span class="keywordflow">if</span> ( disable &amp; <a class="code" href="_gr_util_8h.html#df38fed29d4a8214bf4a51a0df0a7512" title="render states.">GR_DEPTHTEST</a> )
<a name="l00347"></a>00347                 <a class="code" href="_g_l_subsys_8cpp.html#9f1417b786bc5a1df544b2b3e5827fdf">bglDisable</a>( <a class="code" href="_g_l_8h.html#4ccf1dc093190cc3798b9abea3655f98">GL_DEPTH_TEST</a> );
<a name="l00348"></a>00348 
<a name="l00349"></a>00349         <span class="keywordflow">if</span> ( disable &amp; <a class="code" href="_gr_util_8h.html#43f8fbc0073e1858f6bba0a73acfe8a6">GR_CULLFACE</a> )
<a name="l00350"></a>00350                 <a class="code" href="_g_l_subsys_8cpp.html#9f1417b786bc5a1df544b2b3e5827fdf">bglDisable</a>( <a class="code" href="_g_l_8h.html#8c4f153ed20a741aaae952650fec46f0">GL_CULL_FACE</a> );
<a name="l00351"></a>00351 
<a name="l00352"></a>00352         <span class="keywordflow">if</span> ( disable &amp; <a class="code" href="_gr_util_8h.html#ce93b9dc4bae65a0e96164bc2dcb2688">GR_BLEND</a> )
<a name="l00353"></a>00353                 <a class="code" href="_g_l_subsys_8cpp.html#9f1417b786bc5a1df544b2b3e5827fdf">bglDisable</a>( <a class="code" href="_g_l_8h.html#a290e8f9ee6f6862778355aa22bb0b13">GL_BLEND</a> );
<a name="l00354"></a>00354 
<a name="l00355"></a>00355         <span class="keywordflow">if</span> ( disable &amp; <a class="code" href="_gr_util_8h.html#20b24dfbb3798202873d51b43f75082d">GR_ALPHATEST</a> )
<a name="l00356"></a>00356                 <a class="code" href="_g_l_subsys_8cpp.html#9f1417b786bc5a1df544b2b3e5827fdf">bglDisable</a>( <a class="code" href="_g_l_8h.html#4fda8987c8cb3d921967cd0a5343f174">GL_ALPHA_TEST</a> );
<a name="l00357"></a>00357 
<a name="l00358"></a>00358         <span class="keywordflow">if</span> ( disable &amp; <a class="code" href="_gr_util_8h.html#47199898343345437f15b87b709a20e6">GR_SCISSORTEST</a> )
<a name="l00359"></a>00359                 <a class="code" href="_g_l_subsys_8cpp.html#9f1417b786bc5a1df544b2b3e5827fdf">bglDisable</a>( <a class="code" href="_g_l_8h.html#be1c2e1876841bc483127fd45d7ca3b1">GL_SCISSOR_TEST</a> );
<a name="l00360"></a>00360 
<a name="l00361"></a>00361         <span class="keywordflow">if</span> ( disable &amp; <a class="code" href="_gr_util_8h.html#a8b6a3ea82c6849cbd16ebeba0aca2b2">GR_STENCILTEST</a> )
<a name="l00362"></a>00362                 <a class="code" href="_g_l_subsys_8cpp.html#9f1417b786bc5a1df544b2b3e5827fdf">bglDisable</a>( <a class="code" href="_g_l_8h.html#4f0fd22afde7215e4412dafa5e522097">GL_STENCIL_TEST</a> );
<a name="l00363"></a>00363 
<a name="l00364"></a>00364         <span class="keywordflow">if</span> ( disable &amp; <a class="code" href="_gr_util_8h.html#54096622979773e2eb626dbf956e7145">GR_DEPTHBIAS</a> )
<a name="l00365"></a>00365                 <a class="code" href="_g_l_subsys_8cpp.html#9f1417b786bc5a1df544b2b3e5827fdf">bglDisable</a>( <a class="code" href="_g_l_8h.html#3ee631814361db6d24e7ebc5988877ab">GL_POLYGON_OFFSET_FILL</a> );
<a name="l00366"></a>00366 
<a name="l00367"></a>00367         <span class="keywordflow">if</span> ( disable &amp; <a class="code" href="_gr_util_8h.html#3d7aa459899278ffdc2f5d3229b6ec65">GR_WIREFRAME</a> )
<a name="l00368"></a>00368                 <a class="code" href="_g_l_subsys_8cpp.html#7132e94ea4dd07e5cdb62c191622f999">bglPolygonMode</a>( <a class="code" href="_g_l_8h.html#355cd0068666a25037ca163a57eaa214">GL_FRONT_AND_BACK</a>, <a class="code" href="_g_l_8h.html#95af009d03993e7ed7df00306cc53573">GL_FILL</a> );
<a name="l00369"></a>00369 
<a name="l00371"></a>00371         _currentState &amp;= ~flags;
<a name="l00372"></a>00372 }
<a name="l00373"></a>00373 
<a name="l00374"></a>00374 <span class="comment">//----------------------------------------------------------</span>
<a name="l00375"></a>00375 <span class="keywordtype">void</span>
<a name="l00376"></a><a class="code" href="_gr_util_8h.html#73fdce3597a65b39238ee810531f71e6">00376</a> <a class="code" href="_gr_util_8cpp.html#73fdce3597a65b39238ee810531f71e6">GrPushState</a>()
<a name="l00377"></a>00377 {
<a name="l00379"></a>00379         <a class="code" href="common__afx_8h.html#2630490ce4292ed6d05359d2957796b8">B_ASSERT</a>( _stateInit );
<a name="l00380"></a>00380 
<a name="l00382"></a>00382         <a class="code" href="common__afx_8h.html#2630490ce4292ed6d05359d2957796b8">B_ASSERT</a>( _stateStackTop &lt; <a class="code" href="_gr_util_8cpp.html#f3367e3838b14afc0dc4318d3820f33c">STATE_STACK_SIZE</a> );
<a name="l00383"></a>00383         _stateStack[ _stateStackTop++ ] = _currentState;
<a name="l00384"></a>00384 }
<a name="l00385"></a>00385 
<a name="l00386"></a>00386 <span class="comment">//----------------------------------------------------------</span>
<a name="l00387"></a>00387 <span class="keywordtype">void</span>
<a name="l00388"></a><a class="code" href="_gr_util_8h.html#cee9c3df883692d1843a0921829323b3">00388</a> <a class="code" href="_gr_util_8cpp.html#cee9c3df883692d1843a0921829323b3">GrPopState</a>()
<a name="l00389"></a>00389 {
<a name="l00391"></a>00391         <a class="code" href="common__afx_8h.html#2630490ce4292ed6d05359d2957796b8">B_ASSERT</a>( _stateInit );
<a name="l00392"></a>00392         <a class="code" href="common__afx_8h.html#2630490ce4292ed6d05359d2957796b8">B_ASSERT</a>( _stateStackTop &gt; 0 );
<a name="l00393"></a>00393         <a class="code" href="_gr_util_8cpp.html#da7ea629bb413c26919562c8846d6139">GrSetState</a>( _stateStack[ --_stateStackTop ] );
<a name="l00394"></a>00394 }
<a name="l00395"></a>00395 
<a name="l00396"></a>00396 <span class="comment">//----------------------------------------------------------</span>
<a name="l00397"></a>00397 <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>
<a name="l00398"></a><a class="code" href="_gr_util_8h.html#574795c3dac21a7865338c4c1c556168">00398</a> <a class="code" href="_gr_util_8cpp.html#574795c3dac21a7865338c4c1c556168">GrGetState</a>()
<a name="l00399"></a>00399 {
<a name="l00401"></a>00401         <a class="code" href="common__afx_8h.html#2630490ce4292ed6d05359d2957796b8">B_ASSERT</a>( _stateInit );
<a name="l00402"></a>00402         <span class="keywordflow">return</span> _currentState;
<a name="l00403"></a>00403 }
<a name="l00404"></a>00404 
<a name="l00405"></a>00405 <span class="comment">//----------------------------------------------------------</span>
<a name="l00406"></a>00406 <span class="keywordtype">void</span>
<a name="l00407"></a><a class="code" href="_gr_util_8h.html#da7ea629bb413c26919562c8846d6139">00407</a> <a class="code" href="_gr_util_8cpp.html#da7ea629bb413c26919562c8846d6139">GrSetState</a>( <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> state )
<a name="l00408"></a>00408 {
<a name="l00410"></a>00410         <a class="code" href="common__afx_8h.html#2630490ce4292ed6d05359d2957796b8">B_ASSERT</a>( _stateInit );
<a name="l00411"></a>00411         <a class="code" href="_gr_util_8cpp.html#12179b4fb6d51d7550d5fddf5c712893">GrEnable</a>( state );
<a name="l00412"></a>00412         <a class="code" href="_gr_util_8cpp.html#bafd90d401a31030835ccacc7322688e">GrDisable</a>( ~state );
<a name="l00413"></a>00413 }
<a name="l00414"></a>00414 
<a name="l00415"></a>00415 <span class="comment">//----------------------------------------------------------</span>
<a name="l00416"></a>00416 <span class="keywordtype">void</span>
<a name="l00417"></a><a class="code" href="_gr_util_8h.html#03557aad43b9308f0df604e3ee7b73db">00417</a> <a class="code" href="_gr_util_8cpp.html#03557aad43b9308f0df604e3ee7b73db" title="Vertex stream management.">GrStreamEnableArrays</a>( <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> arrayFlags )
<a name="l00418"></a>00418 {
<a name="l00420"></a>00420         <a class="code" href="common__afx_8h.html#2630490ce4292ed6d05359d2957796b8">B_ASSERT</a>( _stateInit );
<a name="l00421"></a>00421 
<a name="l00423"></a>00423         <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> enable = arrayFlags &amp; ~_currentArrayState;
<a name="l00424"></a>00424         <span class="keywordflow">if</span> ( enable == 0 )
<a name="l00425"></a>00425                 <span class="keywordflow">return</span>;
<a name="l00426"></a>00426 
<a name="l00428"></a>00428         <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> flag = 1;
<a name="l00429"></a>00429         <span class="keywordflow">for</span> ( <span class="keywordtype">int</span> i = 0; i &lt; _maxAttribCount; ++i, flag += flag )
<a name="l00430"></a>00430         {
<a name="l00431"></a>00431                 <span class="keywordflow">if</span> ( enable &amp; flag )
<a name="l00432"></a>00432                         <a class="code" href="_g_l_subsys_8cpp.html#109f1c45e59a94face1f8e33c5dbdd65">bglEnableVertexAttribArray</a>( i );
<a name="l00433"></a>00433         }
<a name="l00434"></a>00434 
<a name="l00436"></a>00436         _currentArrayState |= enable;
<a name="l00437"></a>00437         <a class="code" href="_g_l_subsys_8h.html#ab12f88c1ad74a5b4876f37fcf105bda">CHECK_GL</a>();
<a name="l00438"></a>00438 }
<a name="l00439"></a>00439 
<a name="l00440"></a>00440 <span class="comment">//----------------------------------------------------------</span>
<a name="l00441"></a>00441 <span class="keywordtype">void</span>
<a name="l00442"></a><a class="code" href="_gr_util_8h.html#506af8fd03563f360bdd3cacb4481047">00442</a> <a class="code" href="_gr_util_8cpp.html#506af8fd03563f360bdd3cacb4481047">GrStreamDisableArrays</a>( <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> arrayFlags )
<a name="l00443"></a>00443 {
<a name="l00445"></a>00445         <a class="code" href="common__afx_8h.html#2630490ce4292ed6d05359d2957796b8">B_ASSERT</a>( _stateInit );
<a name="l00446"></a>00446 
<a name="l00448"></a>00448         <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> disable = arrayFlags &amp; _currentArrayState;
<a name="l00449"></a>00449         <span class="keywordflow">if</span> ( disable == 0 )
<a name="l00450"></a>00450                 <span class="keywordflow">return</span>;
<a name="l00451"></a>00451 
<a name="l00453"></a>00453         <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> flag = 1;
<a name="l00454"></a>00454         <span class="keywordflow">for</span> ( <span class="keywordtype">int</span> i = 0; i &lt; _maxAttribCount; ++i, flag += flag )
<a name="l00455"></a>00455         {
<a name="l00456"></a>00456                 <span class="keywordflow">if</span> ( disable &amp; flag )
<a name="l00457"></a>00457                         <a class="code" href="_g_l_subsys_8cpp.html#7b3c2b81542ce57273e943ea48e37df3">bglDisableVertexAttribArray</a>( i );
<a name="l00458"></a>00458         }
<a name="l00459"></a>00459 
<a name="l00461"></a>00461         _currentArrayState &amp;= ~disable;
<a name="l00462"></a>00462         <a class="code" href="_g_l_subsys_8h.html#ab12f88c1ad74a5b4876f37fcf105bda">CHECK_GL</a>();
<a name="l00463"></a>00463 }
<a name="l00464"></a>00464 
<a name="l00465"></a>00465 <span class="comment">//----------------------------------------------------------</span>
<a name="l00466"></a>00466 <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>
<a name="l00467"></a><a class="code" href="_gr_util_8h.html#2422e456282e8cd08d5c0db6ef511245">00467</a> <a class="code" href="_gr_util_8cpp.html#2422e456282e8cd08d5c0db6ef511245">GrStreamGetArrayState</a>()
<a name="l00468"></a>00468 {
<a name="l00469"></a>00469         <a class="code" href="common__afx_8h.html#2630490ce4292ed6d05359d2957796b8">B_ASSERT</a>( _stateInit );
<a name="l00470"></a>00470         <span class="keywordflow">return</span> _currentArrayState;
<a name="l00471"></a>00471 }
<a name="l00472"></a>00472 
<a name="l00473"></a>00473 <span class="comment">//----------------------------------------------------------</span>
<a name="l00474"></a>00474 <span class="keywordtype">void</span>
<a name="l00475"></a><a class="code" href="_gr_util_8h.html#3cca7d6ef9177f203bc05fbc0d323027">00475</a> <a class="code" href="_gr_util_8cpp.html#3cca7d6ef9177f203bc05fbc0d323027">GrStreamSetArrayState</a>( <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> arrayFlags )
<a name="l00476"></a>00476 {
<a name="l00477"></a>00477         <a class="code" href="common__afx_8h.html#2630490ce4292ed6d05359d2957796b8">B_ASSERT</a>( _stateInit );
<a name="l00478"></a>00478         <a class="code" href="_gr_util_8cpp.html#03557aad43b9308f0df604e3ee7b73db" title="Vertex stream management.">GrStreamEnableArrays</a>( arrayFlags );
<a name="l00479"></a>00479         <a class="code" href="_gr_util_8cpp.html#506af8fd03563f360bdd3cacb4481047">GrStreamDisableArrays</a>( ~arrayFlags );
<a name="l00480"></a>00480 }
<a name="l00481"></a>00481 
<a name="l00482"></a>00482 <span class="comment">//----------------------------------------------------------</span>
<a name="l00483"></a>00483 <span class="keywordtype">void</span>
<a name="l00484"></a><a class="code" href="_gr_util_8h.html#6c4fa990878132e93007e8afacccc2d5">00484</a> <a class="code" href="_gr_util_8cpp.html#6c4fa990878132e93007e8afacccc2d5">GrStreamArrayPointer</a>( <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> arrayIndex, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> elemCount, <a class="code" href="_gr_util_8h.html#ac7250b216f548e740b6d2e0d5d972f8">EGRTYPE</a> elemType,
<a name="l00485"></a>00485                                           <span class="keywordtype">bool</span> <a class="code" href="glext_8h.html#991495bc19f64c176dd83a350b8b1c88">normalized</a>, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="_g_l_8h.html#dec60f1216ca1b900f8d776c5b6190e0">stride</a>, <span class="keyword">const</span> <span class="keywordtype">void</span>* <a class="code" href="_g_l_8h.html#809f16da56d1ff9e4ef4716f6aacaa91">pointer</a> )
<a name="l00486"></a>00486 {
<a name="l00487"></a>00487         <a class="code" href="_g_l_subsys_8cpp.html#12a1ae204e305421140fba39b2bb63a4">bglVertexAttribPointer</a>( arrayIndex, elemCount, _imageFormatTypeLUT[ elemType ],
<a name="l00488"></a>00488                 normalized ? <a class="code" href="_g_l_8h.html#06316bc3c17db78ce93419fb208945ba">GL_TRUE</a> : <a class="code" href="_g_l_8h.html#bca6d43f43fae31f49dcb883b2f301f6">GL_FALSE</a>, stride, pointer );
<a name="l00489"></a>00489 }
<a name="l00490"></a>00490 
<a name="l00491"></a>00491 
<a name="l00492"></a>00492 <span class="comment">//==========================================================</span>
<a name="l00494"></a>00494 <span class="comment"></span><span class="comment">//==========================================================</span>
<a name="l00495"></a>00495 
<a name="l00496"></a>00496 <span class="comment">//----------------------------------------------------------</span>
<a name="l00497"></a>00497 <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>
<a name="l00498"></a><a class="code" href="_gr_util_8h.html#2617b728d05892c75cd8099a3f4f8ad2">00498</a> <a class="code" href="_gr_util_8cpp.html#2617b728d05892c75cd8099a3f4f8ad2" title="Resource management functions.">GrGenTexture</a>()
<a name="l00499"></a>00499 {
<a name="l00501"></a>00501         <a class="code" href="common__afx_8h.html#2630490ce4292ed6d05359d2957796b8">B_ASSERT</a>( _stateInit );
<a name="l00502"></a>00502         <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> handle;
<a name="l00503"></a>00503         <a class="code" href="_g_l_subsys_8cpp.html#066fa124684fdf07bbd57050e536ea80">bglGenTextures</a>( 1, &amp;handle );
<a name="l00504"></a>00504         <span class="keywordflow">return</span> handle;
<a name="l00505"></a>00505 }
<a name="l00506"></a>00506 
<a name="l00507"></a>00507 <span class="comment">//----------------------------------------------------------</span>
<a name="l00508"></a>00508 <span class="keywordtype">void</span>
<a name="l00509"></a><a class="code" href="_gr_util_8h.html#3a27b94e557d396f120d7f68a463948f">00509</a> <a class="code" href="_gr_util_8cpp.html#3a27b94e557d396f120d7f68a463948f">GrDeleteTexture</a>( <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> handle )
<a name="l00510"></a>00510 {
<a name="l00512"></a>00512         <a class="code" href="common__afx_8h.html#2630490ce4292ed6d05359d2957796b8">B_ASSERT</a>( _stateInit );
<a name="l00513"></a>00513         <a class="code" href="_g_l_subsys_8cpp.html#a52b14bfab9f662aedd786791d5dff00">bglDeleteTextures</a>( 1, &amp;handle );
<a name="l00514"></a>00514 }
<a name="l00515"></a>00515 
<a name="l00516"></a>00516 <span class="comment">//----------------------------------------------------------</span>
<a name="l00517"></a>00517 <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>
<a name="l00518"></a><a class="code" href="_gr_util_8h.html#00da5f5a32fc33b453eabf005a4890cc">00518</a> <a class="code" href="_gr_util_8cpp.html#00da5f5a32fc33b453eabf005a4890cc">GrGenVB</a>()
<a name="l00519"></a>00519 {
<a name="l00521"></a>00521         <a class="code" href="common__afx_8h.html#2630490ce4292ed6d05359d2957796b8">B_ASSERT</a>( _stateInit );
<a name="l00522"></a>00522         <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> handle;
<a name="l00523"></a>00523         <a class="code" href="_g_l_subsys_8cpp.html#4575fef6f472d876dd369b75d49f6e7b">bglGenBuffers</a>( 1, &amp;handle );
<a name="l00524"></a>00524         <span class="keywordflow">return</span> handle;
<a name="l00525"></a>00525 }
<a name="l00526"></a>00526 
<a name="l00527"></a>00527 <span class="comment">//----------------------------------------------------------</span>
<a name="l00528"></a>00528 <span class="keywordtype">void</span>
<a name="l00529"></a><a class="code" href="_gr_util_8h.html#d04bcc81af6bce0f1f39edf465cf3eff">00529</a> <a class="code" href="_gr_util_8cpp.html#d04bcc81af6bce0f1f39edf465cf3eff">GrDeleteVB</a>( <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> handle )
<a name="l00530"></a>00530 {
<a name="l00532"></a>00532         <a class="code" href="common__afx_8h.html#2630490ce4292ed6d05359d2957796b8">B_ASSERT</a>( _stateInit );
<a name="l00533"></a>00533         <a class="code" href="_g_l_subsys_8cpp.html#5638b81d6831d1a97a0f126334de4bf4">bglDeleteBuffers</a>( 1, &amp;handle );
<a name="l00534"></a>00534 }
<a name="l00535"></a>00535 
<a name="l00536"></a>00536 <span class="comment">//----------------------------------------------------------</span>
<a name="l00537"></a>00537 <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>
<a name="l00538"></a><a class="code" href="_gr_util_8h.html#9ef3f8b46b61cfdc3881a5d99985d6a3">00538</a> <a class="code" href="_gr_util_8cpp.html#9ef3f8b46b61cfdc3881a5d99985d6a3">GrGenIB</a>()
<a name="l00539"></a>00539 {
<a name="l00541"></a>00541         <span class="keywordflow">return</span> <a class="code" href="_gr_util_8cpp.html#00da5f5a32fc33b453eabf005a4890cc">GrGenVB</a>();
<a name="l00542"></a>00542 }
<a name="l00543"></a>00543 
<a name="l00544"></a>00544 <span class="comment">//----------------------------------------------------------</span>
<a name="l00545"></a>00545 <span class="keywordtype">void</span>
<a name="l00546"></a><a class="code" href="_gr_util_8h.html#6ca83b60e3149265e907a05f903c7168">00546</a> <a class="code" href="_gr_util_8cpp.html#6ca83b60e3149265e907a05f903c7168">GrDeleteIB</a>( <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> handle )
<a name="l00547"></a>00547 {
<a name="l00549"></a>00549         <a class="code" href="_gr_util_8cpp.html#d04bcc81af6bce0f1f39edf465cf3eff">GrDeleteVB</a>( handle );
<a name="l00550"></a>00550 }
<a name="l00551"></a>00551 
<a name="l00552"></a>00552 <span class="comment">//----------------------------------------------------------</span>
<a name="l00553"></a>00553 <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>
<a name="l00554"></a><a class="code" href="_gr_util_8h.html#1ab5639fb6cdd4295513ca9e7604f69d">00554</a> <a class="code" href="_gr_util_8cpp.html#1ab5639fb6cdd4295513ca9e7604f69d">GrGenPB</a>()
<a name="l00555"></a>00555 {
<a name="l00557"></a>00557         <span class="keywordflow">return</span> <a class="code" href="_gr_util_8cpp.html#00da5f5a32fc33b453eabf005a4890cc">GrGenVB</a>();
<a name="l00558"></a>00558 }
<a name="l00559"></a>00559 
<a name="l00560"></a>00560 <span class="comment">//----------------------------------------------------------</span>
<a name="l00561"></a>00561 <span class="keywordtype">void</span>
<a name="l00562"></a><a class="code" href="_gr_util_8h.html#5b8b0e421e702153a0109911b5c3e0a8">00562</a> <a class="code" href="_gr_util_8cpp.html#5b8b0e421e702153a0109911b5c3e0a8">GrDeletePB</a>( <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> handle )
<a name="l00563"></a>00563 {
<a name="l00565"></a>00565         <a class="code" href="_gr_util_8cpp.html#d04bcc81af6bce0f1f39edf465cf3eff">GrDeleteVB</a>( handle );
<a name="l00566"></a>00566 }
<a name="l00567"></a>00567 
<a name="l00568"></a>00568 
<a name="l00569"></a>00569 <span class="comment">//==========================================================</span>
<a name="l00571"></a>00571 <span class="comment"></span><span class="comment">//==========================================================</span>
<a name="l00572"></a>00572 
<a name="l00573"></a>00573 <span class="comment">//----------------------------------------------------------</span>
<a name="l00574"></a>00574 <span class="keywordtype">void</span>
<a name="l00575"></a><a class="code" href="_gr_util_8h.html#20a5c03b0b2a8baab3813655f7925bde">00575</a> <a class="code" href="_gr_util_8cpp.html#20a5c03b0b2a8baab3813655f7925bde" title="Data upload functions.">GrTexImage2D</a>( <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> handle, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> miplevel, <a class="code" href="_gr_util_8h.html#44688cfc75f55fcd8f79435674faf92a">EGRTEXTUREFORMAT</a> <a class="code" href="_g_l_8h.html#dfa3e9c3e9fe1bf0a67a9e77a0bac5d8">internalFormat</a>,
<a name="l00576"></a>00576                           <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="_g_l_8h.html#e6531b1788ca42a9ae8155b0c52e7630">width</a>, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="_g_l_8h.html#b2e63df950c3789599e1e43f477bc9e3">height</a>, <a class="code" href="_gr_util_8h.html#02f438f7c3b1769e8bf1359926d05502">EGRIMAGEFORMAT</a> <a class="code" href="_g_l_8h.html#e2d3db041c6004a67047659b42f73a44">format</a>, <a class="code" href="_gr_util_8h.html#ac7250b216f548e740b6d2e0d5d972f8">EGRTYPE</a> <a class="code" href="_g_l_8h.html#7d05960f4f1c1b11f3177dc963a45d86">type</a>,
<a name="l00577"></a>00577                           <span class="keyword">const</span> <span class="keywordtype">void</span>* <a class="code" href="_g_l_8h.html#89ce72163394e6aef63b551a8806e93f">data</a> )
<a name="l00578"></a>00578 {
<a name="l00580"></a>00580         <a class="code" href="_g_l_subsys_8cpp.html#9f8537a51789c0899c5c851192f93593">bglBindTexture</a>( <a class="code" href="_g_l_8h.html#d4de17abefa73fa2ef53379f73b734be">GL_TEXTURE_2D</a>, handle );
<a name="l00581"></a>00581         <a class="code" href="_g_l_subsys_8cpp.html#777608e2b96c1c9f052a0a167b335054">bglTexImage2D</a>( <a class="code" href="_g_l_8h.html#d4de17abefa73fa2ef53379f73b734be">GL_TEXTURE_2D</a>, miplevel, _textureFormatLUT[ internalFormat ], width,
<a name="l00582"></a>00582                 height, 0, _imageFormatLUT[ format ], _imageFormatTypeLUT[ type ], data );
<a name="l00583"></a>00583         RestoreSampler( _activeTexUnit );
<a name="l00584"></a>00584 }
<a name="l00585"></a>00585 
<a name="l00586"></a>00586 <span class="comment">//----------------------------------------------------------</span>
<a name="l00587"></a>00587 <span class="keywordtype">void</span>
<a name="l00588"></a><a class="code" href="_gr_util_8h.html#e17cf4475c6ed5bdcee691ad010418bc">00588</a> <a class="code" href="_gr_util_8cpp.html#e17cf4475c6ed5bdcee691ad010418bc">GrTexImage3D</a>( <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> handle, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> miplevel, <a class="code" href="_gr_util_8h.html#44688cfc75f55fcd8f79435674faf92a">EGRTEXTUREFORMAT</a> <a class="code" href="_g_l_8h.html#dfa3e9c3e9fe1bf0a67a9e77a0bac5d8">internalFormat</a>,
<a name="l00589"></a>00589                           <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="_g_l_8h.html#e6531b1788ca42a9ae8155b0c52e7630">width</a>, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="_g_l_8h.html#b2e63df950c3789599e1e43f477bc9e3">height</a>, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="glext_8h.html#1c814629538debe12a7bfe2509a3671e">depth</a>, <a class="code" href="_gr_util_8h.html#02f438f7c3b1769e8bf1359926d05502">EGRIMAGEFORMAT</a> <a class="code" href="_g_l_8h.html#e2d3db041c6004a67047659b42f73a44">format</a>,
<a name="l00590"></a>00590                           <a class="code" href="_gr_util_8h.html#ac7250b216f548e740b6d2e0d5d972f8">EGRTYPE</a> <a class="code" href="_g_l_8h.html#7d05960f4f1c1b11f3177dc963a45d86">type</a>, <span class="keyword">const</span> <span class="keywordtype">void</span>* <a class="code" href="_g_l_8h.html#89ce72163394e6aef63b551a8806e93f">data</a> )
<a name="l00591"></a>00591 {
<a name="l00593"></a>00593         <a class="code" href="_g_l_subsys_8cpp.html#9f8537a51789c0899c5c851192f93593">bglBindTexture</a>( <a class="code" href="glext_8h.html#6c865f303c89ec764158e0016e50d4a8">GL_TEXTURE_3D</a>, handle );
<a name="l00594"></a>00594         <a class="code" href="_g_l_subsys_8cpp.html#30368c98778fa8e381a85a2861471d64">bglTexImage3D</a>( <a class="code" href="glext_8h.html#6c865f303c89ec764158e0016e50d4a8">GL_TEXTURE_3D</a>, miplevel, _textureFormatLUT[ internalFormat ], width,
<a name="l00595"></a>00595                 height, depth, 0, _imageFormatLUT[ format ], _imageFormatTypeLUT[ type ], data );
<a name="l00596"></a>00596         RestoreSampler( _activeTexUnit );
<a name="l00597"></a>00597 }
<a name="l00598"></a>00598 
<a name="l00599"></a>00599 <span class="comment">//----------------------------------------------------------</span>
<a name="l00600"></a>00600 <span class="keywordtype">void</span>
<a name="l00601"></a><a class="code" href="_gr_util_8h.html#78aa2573e237c1ac3e315784d8261adc">00601</a> <a class="code" href="_gr_util_8cpp.html#78aa2573e237c1ac3e315784d8261adc">GrTexImageCube</a>( <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> handle, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> miplevel, <a class="code" href="_gr_util_8h.html#44688cfc75f55fcd8f79435674faf92a">EGRTEXTUREFORMAT</a> <a class="code" href="_g_l_8h.html#dfa3e9c3e9fe1bf0a67a9e77a0bac5d8">internalFormat</a>,
<a name="l00602"></a>00602                             <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> dim, <a class="code" href="_gr_util_8h.html#02f438f7c3b1769e8bf1359926d05502">EGRIMAGEFORMAT</a> <a class="code" href="_g_l_8h.html#e2d3db041c6004a67047659b42f73a44">format</a>, <a class="code" href="_gr_util_8h.html#ac7250b216f548e740b6d2e0d5d972f8">EGRTYPE</a> <a class="code" href="_g_l_8h.html#7d05960f4f1c1b11f3177dc963a45d86">type</a>, <span class="keyword">const</span> <span class="keywordtype">void</span>* dataPX,
<a name="l00603"></a>00603                                 <span class="keyword">const</span> <span class="keywordtype">void</span>* dataNX, <span class="keyword">const</span> <span class="keywordtype">void</span>* dataPY, <span class="keyword">const</span> <span class="keywordtype">void</span>* dataNY, <span class="keyword">const</span> <span class="keywordtype">void</span>* dataPZ,
<a name="l00604"></a>00604                                 <span class="keyword">const</span> <span class="keywordtype">void</span>* dataNZ )
<a name="l00605"></a>00605 {
<a name="l00607"></a>00607         <a class="code" href="_g_l_subsys_8cpp.html#9f8537a51789c0899c5c851192f93593">bglBindTexture</a>( <a class="code" href="glext_8h.html#26e189fe84285eb8fae26721662dbe8c">GL_TEXTURE_CUBE_MAP</a>, handle );
<a name="l00608"></a>00608         <a class="code" href="_g_l_subsys_8cpp.html#777608e2b96c1c9f052a0a167b335054">bglTexImage2D</a>( <a class="code" href="glext_8h.html#b83eb56dce8e1f7900585d35016abf39">GL_TEXTURE_CUBE_MAP_POSITIVE_X</a>, miplevel, _textureFormatLUT[ internalFormat ], dim,
<a name="l00609"></a>00609                 dim, 0, _imageFormatLUT[ format ], _imageFormatTypeLUT[ type ], dataPX );
<a name="l00610"></a>00610         <a class="code" href="_g_l_subsys_8cpp.html#777608e2b96c1c9f052a0a167b335054">bglTexImage2D</a>( <a class="code" href="glext_8h.html#e642ad8e3baa2512e2e27be2cf17373d">GL_TEXTURE_CUBE_MAP_NEGATIVE_X</a>, miplevel, _textureFormatLUT[ internalFormat ], dim,
<a name="l00611"></a>00611                 dim, 0, _imageFormatLUT[ format ], _imageFormatTypeLUT[ type ], dataNX );
<a name="l00612"></a>00612         <a class="code" href="_g_l_subsys_8cpp.html#777608e2b96c1c9f052a0a167b335054">bglTexImage2D</a>( <a class="code" href="glext_8h.html#0605d5ef41613665b34391f9ba398997">GL_TEXTURE_CUBE_MAP_POSITIVE_Y</a>, miplevel, _textureFormatLUT[ internalFormat ], dim,
<a name="l00613"></a>00613                 dim, 0, _imageFormatLUT[ format ], _imageFormatTypeLUT[ type ], dataPY );
<a name="l00614"></a>00614         <a class="code" href="_g_l_subsys_8cpp.html#777608e2b96c1c9f052a0a167b335054">bglTexImage2D</a>( <a class="code" href="glext_8h.html#8d31f977b3490eb05832ecc261313462">GL_TEXTURE_CUBE_MAP_NEGATIVE_Y</a>, miplevel, _textureFormatLUT[ internalFormat ], dim,
<a name="l00615"></a>00615                 dim, 0, _imageFormatLUT[ format ], _imageFormatTypeLUT[ type ], dataNY );
<a name="l00616"></a>00616         <a class="code" href="_g_l_subsys_8cpp.html#777608e2b96c1c9f052a0a167b335054">bglTexImage2D</a>( <a class="code" href="glext_8h.html#9c63e51b23baa3e2abc01cc0c892a111">GL_TEXTURE_CUBE_MAP_POSITIVE_Z</a>, miplevel, _textureFormatLUT[ internalFormat ], dim,
<a name="l00617"></a>00617                 dim, 0, _imageFormatLUT[ format ], _imageFormatTypeLUT[ type ], dataPZ );
<a name="l00618"></a>00618         <a class="code" href="_g_l_subsys_8cpp.html#777608e2b96c1c9f052a0a167b335054">bglTexImage2D</a>( <a class="code" href="glext_8h.html#2d568ba9541df33fb21dc5bacbe7b4a3">GL_TEXTURE_CUBE_MAP_NEGATIVE_Z</a>, miplevel, _textureFormatLUT[ internalFormat ], dim,
<a name="l00619"></a>00619                 dim, 0, _imageFormatLUT[ format ], _imageFormatTypeLUT[ type ], dataNZ );
<a name="l00620"></a>00620         RestoreSampler( _activeTexUnit );
<a name="l00621"></a>00621 }
<a name="l00622"></a>00622 
<a name="l00623"></a>00623 
<a name="l00624"></a>00624 <span class="comment">//==========================================================</span>
<a name="l00626"></a>00626 <span class="comment"></span><span class="comment">//==========================================================</span>
<a name="l00627"></a>00627 
<a name="l00628"></a>00628 <span class="comment">//----------------------------------------------------------</span>
<a name="l00629"></a>00629 <span class="keywordtype">void</span>
<a name="l00630"></a><a class="code" href="_gr_util_8h.html#0d997236daa4e0e2f0dc98dd96e17386">00630</a> <a class="code" href="_gr_util_8cpp.html#0d997236daa4e0e2f0dc98dd96e17386" title="Bind state functions.">GrBindTexture</a>( <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> texUnit, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="glext_8h.html#f9d0cbbbeb7414e786c41899e5a856d7">target</a>, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> handle )
<a name="l00631"></a>00631 {
<a name="l00633"></a>00633         <a class="code" href="common__afx_8h.html#2630490ce4292ed6d05359d2957796b8">B_ASSERT</a>( _stateInit );
<a name="l00634"></a>00634         <a class="code" href="common__afx_8h.html#2630490ce4292ed6d05359d2957796b8">B_ASSERT</a>( texUnit &lt; 16 );
<a name="l00635"></a>00635 
<a name="l00637"></a>00637         <span class="keywordflow">if</span> ( _activeTexUnit != texUnit )
<a name="l00638"></a>00638         {
<a name="l00639"></a>00639                 <a class="code" href="_g_l_subsys_8cpp.html#511fecb101c9253589ee3ff13edfab5e" title="1.3">bglActiveTexture</a>( <a class="code" href="glext_8h.html#16cc91096144fc7048b45e2add14915b">GL_TEXTURE0</a> + texUnit );
<a name="l00640"></a>00640                 _activeTexUnit = texUnit;
<a name="l00641"></a>00641         }
<a name="l00642"></a>00642 
<a name="l00644"></a>00644 <span class="comment">//      if ( _curTextures[ texUnit ] == handle )</span>
<a name="l00645"></a>00645 <span class="comment">//              return;</span>
<a name="l00646"></a>00646 
<a name="l00648"></a>00648         _curTextures[ texUnit ] = handle;
<a name="l00649"></a>00649         _curTexTargets[ texUnit ] = target;
<a name="l00650"></a>00650 
<a name="l00651"></a>00651         <a class="code" href="_g_l_subsys_8cpp.html#9f8537a51789c0899c5c851192f93593">bglBindTexture</a>( target, handle );
<a name="l00652"></a>00652         <a class="code" href="_g_l_subsys_8h.html#ab12f88c1ad74a5b4876f37fcf105bda">CHECK_GL</a>();
<a name="l00653"></a>00653 }
<a name="l00654"></a>00654 
<a name="l00655"></a>00655 <span class="comment">//----------------------------------------------------------</span>
<a name="l00656"></a>00656 <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>
<a name="l00657"></a><a class="code" href="_gr_util_8h.html#81061ecb30353228dfeddad8b328135e">00657</a> <a class="code" href="_gr_util_8cpp.html#81061ecb30353228dfeddad8b328135e">GrGetTexture</a>( <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> texUnit )
<a name="l00658"></a>00658 {
<a name="l00660"></a>00660         <a class="code" href="common__afx_8h.html#2630490ce4292ed6d05359d2957796b8">B_ASSERT</a>( _stateInit );
<a name="l00661"></a>00661         <a class="code" href="common__afx_8h.html#2630490ce4292ed6d05359d2957796b8">B_ASSERT</a>( texUnit &lt; 16 );
<a name="l00662"></a>00662         <span class="keywordflow">return</span> _curTextures[ texUnit ];
<a name="l00663"></a>00663 }
<a name="l00664"></a>00664 
<a name="l00665"></a>00665 <span class="comment">//----------------------------------------------------------</span>
<a name="l00666"></a>00666 <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>
<a name="l00667"></a><a class="code" href="_gr_util_8h.html#ed5706cf53afcefddc50f00549200440">00667</a> <a class="code" href="_gr_util_8cpp.html#ed5706cf53afcefddc50f00549200440">GrGetTextureTarget</a>( <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> texUnit )
<a name="l00668"></a>00668 {
<a name="l00670"></a>00670         <a class="code" href="common__afx_8h.html#2630490ce4292ed6d05359d2957796b8">B_ASSERT</a>( _stateInit );
<a name="l00671"></a>00671         <a class="code" href="common__afx_8h.html#2630490ce4292ed6d05359d2957796b8">B_ASSERT</a>( texUnit &lt; 16 );
<a name="l00672"></a>00672         <span class="keywordflow">return</span> _curTexTargets[ texUnit ];       
<a name="l00673"></a>00673 }
<a name="l00674"></a>00674 
<a name="l00675"></a>00675 <span class="comment">//----------------------------------------------------------</span>
<a name="l00676"></a>00676 <span class="keywordtype">void</span>
<a name="l00677"></a><a class="code" href="_gr_util_8h.html#b380583a085e70e5db988eb1573be067">00677</a> <a class="code" href="_gr_util_8cpp.html#b380583a085e70e5db988eb1573be067">GrBindVB</a>( <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> handle )
<a name="l00678"></a>00678 {
<a name="l00680"></a>00680         <a class="code" href="common__afx_8h.html#2630490ce4292ed6d05359d2957796b8">B_ASSERT</a>( _stateInit );
<a name="l00681"></a>00681 <span class="comment">//      if ( _curVB == handle )</span>
<a name="l00682"></a>00682 <span class="comment">//              return;</span>
<a name="l00683"></a>00683         <a class="code" href="_g_l_subsys_8cpp.html#927d8eea97601bab596afd6f7de9bd2a">bglBindBuffer</a>( <a class="code" href="glext_8h.html#7180045dcb52b22af2cd0366026bc3ed">GL_ARRAY_BUFFER</a>, handle );
<a name="l00684"></a>00684         _curVB = handle;
<a name="l00685"></a>00685 }
<a name="l00686"></a>00686 
<a name="l00687"></a>00687 <span class="comment">//----------------------------------------------------------</span>
<a name="l00688"></a>00688 <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>
<a name="l00689"></a><a class="code" href="_gr_util_8h.html#81f8a976041fe3910639d2ee7054c90a">00689</a> <a class="code" href="_gr_util_8cpp.html#81f8a976041fe3910639d2ee7054c90a">GrGetVB</a>()
<a name="l00690"></a>00690 {
<a name="l00692"></a>00692         <a class="code" href="common__afx_8h.html#2630490ce4292ed6d05359d2957796b8">B_ASSERT</a>( _stateInit );
<a name="l00693"></a>00693         <span class="keywordflow">return</span> _curVB;
<a name="l00694"></a>00694 }
<a name="l00695"></a>00695 
<a name="l00696"></a>00696 <span class="comment">//----------------------------------------------------------</span>
<a name="l00697"></a>00697 <span class="keywordtype">void</span>
<a name="l00698"></a><a class="code" href="_gr_util_8h.html#0f573923ce54d669ceb19234cc2f8d36">00698</a> <a class="code" href="_gr_util_8cpp.html#0f573923ce54d669ceb19234cc2f8d36">GrBindIB</a>( <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> handle )
<a name="l00699"></a>00699 {
<a name="l00701"></a>00701         <a class="code" href="common__afx_8h.html#2630490ce4292ed6d05359d2957796b8">B_ASSERT</a>( _stateInit );
<a name="l00702"></a>00702 <span class="comment">//      if ( _curIB == handle )</span>
<a name="l00703"></a>00703 <span class="comment">//              return;</span>
<a name="l00704"></a>00704         <a class="code" href="_g_l_subsys_8cpp.html#927d8eea97601bab596afd6f7de9bd2a">bglBindBuffer</a>( <a class="code" href="glext_8h.html#d26c63125c72cbf0347b589d51676e6a">GL_ELEMENT_ARRAY_BUFFER</a>, handle );
<a name="l00705"></a>00705         _curIB = handle;
<a name="l00706"></a>00706 }
<a name="l00707"></a>00707 
<a name="l00708"></a>00708 <span class="comment">//----------------------------------------------------------</span>
<a name="l00709"></a>00709 <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>
<a name="l00710"></a><a class="code" href="_gr_util_8h.html#cd8d7c5efdbc9e097f1285e32bae23ee">00710</a> <a class="code" href="_gr_util_8cpp.html#cd8d7c5efdbc9e097f1285e32bae23ee">GrGetIB</a>()
<a name="l00711"></a>00711 {
<a name="l00713"></a>00713         <a class="code" href="common__afx_8h.html#2630490ce4292ed6d05359d2957796b8">B_ASSERT</a>( _stateInit );
<a name="l00714"></a>00714         <span class="keywordflow">return</span> _curIB;
<a name="l00715"></a>00715 }
<a name="l00716"></a>00716 
<a name="l00717"></a>00717 <span class="comment">//----------------------------------------------------------</span>
<a name="l00718"></a><a class="code" href="_gr_util_8h.html#1f0d5c47a0f03caa1ebf26e600844a93">00718</a> <span class="keywordtype">void</span> <a class="code" href="_gr_util_8cpp.html#1f0d5c47a0f03caa1ebf26e600844a93">GrBindPackPB</a>( <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> handle )
<a name="l00719"></a>00719 {
<a name="l00720"></a>00720         <a class="code" href="common__afx_8h.html#2630490ce4292ed6d05359d2957796b8">B_ASSERT</a>( _stateInit );
<a name="l00721"></a>00721         <a class="code" href="_g_l_subsys_8cpp.html#927d8eea97601bab596afd6f7de9bd2a">bglBindBuffer</a>( <a class="code" href="glext_8h.html#836578dbccb4de7ca40be25acb258c12">GL_PIXEL_PACK_BUFFER</a>, handle );
<a name="l00722"></a>00722         _curPackPB = handle;
<a name="l00723"></a>00723 }
<a name="l00724"></a>00724 
<a name="l00725"></a>00725 <span class="comment">//----------------------------------------------------------</span>
<a name="l00726"></a><a class="code" href="_gr_util_8h.html#368ba0f00324e71c46a376ce4a0c9c4f">00726</a> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="_gr_util_8cpp.html#368ba0f00324e71c46a376ce4a0c9c4f">GrGetPackPB</a>()
<a name="l00727"></a>00727 {
<a name="l00728"></a>00728         <a class="code" href="common__afx_8h.html#2630490ce4292ed6d05359d2957796b8">B_ASSERT</a>( _stateInit );
<a name="l00729"></a>00729         <span class="keywordflow">return</span> _curPackPB;
<a name="l00730"></a>00730 }
<a name="l00731"></a>00731 
<a name="l00732"></a>00732 <span class="comment">//----------------------------------------------------------</span>
<a name="l00733"></a><a class="code" href="_gr_util_8h.html#681f56fdfb1ea8225c03f9a14b41be2c">00733</a> <span class="keywordtype">void</span> <a class="code" href="_gr_util_8cpp.html#681f56fdfb1ea8225c03f9a14b41be2c">GrBindUnpackPB</a>( <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> handle )
<a name="l00734"></a>00734 {
<a name="l00735"></a>00735         <a class="code" href="common__afx_8h.html#2630490ce4292ed6d05359d2957796b8">B_ASSERT</a>( _stateInit );
<a name="l00736"></a>00736         <a class="code" href="_g_l_subsys_8cpp.html#927d8eea97601bab596afd6f7de9bd2a">bglBindBuffer</a>( <a class="code" href="glext_8h.html#fdf430582faee074c2b8436b6ea98089">GL_PIXEL_UNPACK_BUFFER</a>, handle );
<a name="l00737"></a>00737         _curUnpackPB = handle;
<a name="l00738"></a>00738 }
<a name="l00739"></a>00739 
<a name="l00740"></a>00740 <span class="comment">//----------------------------------------------------------</span>
<a name="l00741"></a><a class="code" href="_gr_util_8h.html#25a5b32dfc45cb4385ac12eceed64981">00741</a> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="_gr_util_8cpp.html#25a5b32dfc45cb4385ac12eceed64981">GrGetUnpackPB</a>()
<a name="l00742"></a>00742 {
<a name="l00743"></a>00743         <a class="code" href="common__afx_8h.html#2630490ce4292ed6d05359d2957796b8">B_ASSERT</a>( _stateInit );
<a name="l00744"></a>00744         <span class="keywordflow">return</span> _curUnpackPB;
<a name="l00745"></a>00745 }
<a name="l00746"></a>00746 
<a name="l00747"></a>00747 <span class="comment">//----------------------------------------------------------</span>
<a name="l00748"></a><a class="code" href="_gr_util_8h.html#a40f94ecd4645027260b3217ce172cbe">00748</a> <span class="keywordtype">void</span> <a class="code" href="_gr_util_8cpp.html#a40f94ecd4645027260b3217ce172cbe">GrBindShader</a>( <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> handle )
<a name="l00749"></a>00749 {
<a name="l00750"></a>00750         <span class="keywordflow">if</span> ( _curShader != handle )
<a name="l00751"></a>00751         {
<a name="l00752"></a>00752                 <a class="code" href="_g_l_subsys_8cpp.html#112c00ec848b5cb5c72b06a0283e1cd6">bglUseProgram</a>( handle );
<a name="l00753"></a>00753                 _curShader = handle;
<a name="l00754"></a>00754         }
<a name="l00755"></a>00755 }
<a name="l00756"></a>00756 
<a name="l00757"></a>00757 <span class="comment">//----------------------------------------------------------</span>
<a name="l00758"></a><a class="code" href="_gr_util_8h.html#cf8fae2ee0807b48ac9c5bdb8ae47583">00758</a> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="_gr_util_8cpp.html#cf8fae2ee0807b48ac9c5bdb8ae47583">GrGetShader</a>()
<a name="l00759"></a>00759 {
<a name="l00760"></a>00760         <span class="keywordflow">return</span> _curShader;
<a name="l00761"></a>00761 }
<a name="l00762"></a>00762 
<a name="l00763"></a>00763 
<a name="l00764"></a>00764 <span class="comment">//==========================================================</span>
<a name="l00766"></a>00766 <span class="comment"></span><span class="comment">//==========================================================</span>
<a name="l00767"></a>00767 
<a name="l00768"></a>00768 <span class="comment">//----------------------------------------------------------</span>
<a name="l00769"></a>00769 <span class="keywordtype">void</span>
<a name="l00770"></a><a class="code" href="_gr_util_8h.html#9a291034b97656318368e8e94d7ee766">00770</a> <a class="code" href="_gr_util_8cpp.html#9a291034b97656318368e8e94d7ee766" title="Render state modes.">GrGetBlendMode</a>( <a class="code" href="_gr_util_8h.html#48d90fb7bec7d5ebb8c2bf20318961ec" title="render state modes">EGRBLENDMODE</a>&amp; srcFactorRGB, <a class="code" href="_gr_util_8h.html#48d90fb7bec7d5ebb8c2bf20318961ec" title="render state modes">EGRBLENDMODE</a>&amp; dstFactorRGB, <a class="code" href="_gr_util_8h.html#48d90fb7bec7d5ebb8c2bf20318961ec" title="render state modes">EGRBLENDMODE</a>&amp; srcFactorAlpha, <a class="code" href="_gr_util_8h.html#48d90fb7bec7d5ebb8c2bf20318961ec" title="render state modes">EGRBLENDMODE</a>&amp; dstFactorAlpha )
<a name="l00771"></a>00771 {
<a name="l00773"></a>00773         <a class="code" href="common__afx_8h.html#2630490ce4292ed6d05359d2957796b8">B_ASSERT</a>( _stateInit );
<a name="l00774"></a>00774         srcFactorRGB = _srcFactorRGB;
<a name="l00775"></a>00775         srcFactorAlpha = _srcFactorAlpha;
<a name="l00776"></a>00776         dstFactorRGB = _dstFactorRGB;
<a name="l00777"></a>00777         dstFactorAlpha = _dstFactorAlpha;
<a name="l00778"></a>00778 }
<a name="l00779"></a>00779 
<a name="l00780"></a>00780 <span class="comment">//----------------------------------------------------------</span>
<a name="l00781"></a>00781 <span class="keywordtype">void</span>
<a name="l00782"></a><a class="code" href="_gr_util_8h.html#c1e533fa9d8433287f1bbe7d2a31080d">00782</a> <a class="code" href="_gr_util_8cpp.html#c1e533fa9d8433287f1bbe7d2a31080d">GrSetBlendMode</a>( <a class="code" href="_gr_util_8h.html#48d90fb7bec7d5ebb8c2bf20318961ec" title="render state modes">EGRBLENDMODE</a> srcFactorRGB, <a class="code" href="_gr_util_8h.html#48d90fb7bec7d5ebb8c2bf20318961ec" title="render state modes">EGRBLENDMODE</a> dstFactorRGB )
<a name="l00783"></a>00783 {
<a name="l00784"></a>00784         <a class="code" href="_gr_util_8cpp.html#c1e533fa9d8433287f1bbe7d2a31080d">GrSetBlendMode</a>( srcFactorRGB, dstFactorRGB, srcFactorRGB, dstFactorRGB );
<a name="l00785"></a>00785 }
<a name="l00786"></a>00786 
<a name="l00787"></a>00787 <span class="comment">//----------------------------------------------------------</span>
<a name="l00788"></a>00788 <span class="keywordtype">void</span>
<a name="l00789"></a><a class="code" href="_gr_util_8h.html#8113d47ba246af0755119898841eee57">00789</a> <a class="code" href="_gr_util_8cpp.html#c1e533fa9d8433287f1bbe7d2a31080d">GrSetBlendMode</a>( <a class="code" href="_gr_util_8h.html#48d90fb7bec7d5ebb8c2bf20318961ec" title="render state modes">EGRBLENDMODE</a> srcFactorRGB, <a class="code" href="_gr_util_8h.html#48d90fb7bec7d5ebb8c2bf20318961ec" title="render state modes">EGRBLENDMODE</a> dstFactorRGB, <a class="code" href="_gr_util_8h.html#48d90fb7bec7d5ebb8c2bf20318961ec" title="render state modes">EGRBLENDMODE</a> srcFactorAlpha, <a class="code" href="_gr_util_8h.html#48d90fb7bec7d5ebb8c2bf20318961ec" title="render state modes">EGRBLENDMODE</a> dstFactorAlpha )
<a name="l00790"></a>00790 {
<a name="l00792"></a>00792         <a class="code" href="common__afx_8h.html#2630490ce4292ed6d05359d2957796b8">B_ASSERT</a>( _stateInit );
<a name="l00793"></a>00793         <a class="code" href="common__afx_8h.html#2630490ce4292ed6d05359d2957796b8">B_ASSERT</a>( srcFactorRGB &lt;= <a class="code" href="_gr_util_8h.html#48d90fb7bec7d5ebb8c2bf20318961ec8fb37df4552f4c66e4eb1d1d75e6d1a8">EBM_SRC_ALPHA_SAT</a> );
<a name="l00794"></a>00794         <a class="code" href="common__afx_8h.html#2630490ce4292ed6d05359d2957796b8">B_ASSERT</a>( srcFactorAlpha &lt;= <a class="code" href="_gr_util_8h.html#48d90fb7bec7d5ebb8c2bf20318961ec8fb37df4552f4c66e4eb1d1d75e6d1a8">EBM_SRC_ALPHA_SAT</a> );
<a name="l00795"></a>00795         <a class="code" href="common__afx_8h.html#2630490ce4292ed6d05359d2957796b8">B_ASSERT</a>( dstFactorRGB &lt;= <a class="code" href="_gr_util_8h.html#48d90fb7bec7d5ebb8c2bf20318961ec8fb37df4552f4c66e4eb1d1d75e6d1a8">EBM_SRC_ALPHA_SAT</a> );
<a name="l00796"></a>00796         <a class="code" href="common__afx_8h.html#2630490ce4292ed6d05359d2957796b8">B_ASSERT</a>( dstFactorAlpha &lt;= <a class="code" href="_gr_util_8h.html#48d90fb7bec7d5ebb8c2bf20318961ec8fb37df4552f4c66e4eb1d1d75e6d1a8">EBM_SRC_ALPHA_SAT</a> );
<a name="l00797"></a>00797         <span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="_g_l_8h.html#5d5233918a454ad3975c620a69ac5f0b">GLenum</a> modes[ <a class="code" href="_gr_util_8h.html#48d90fb7bec7d5ebb8c2bf20318961ec8fb37df4552f4c66e4eb1d1d75e6d1a8">EBM_SRC_ALPHA_SAT</a>+1 ] = {
<a name="l00798"></a>00798                 <a class="code" href="_g_l_8h.html#72086daeeb80e5eb5788f42a4eea050e">GL_ZERO</a>,
<a name="l00799"></a>00799                 <a class="code" href="_g_l_8h.html#a92fae02a274fe856dad3362144f84dd">GL_ONE</a>,
<a name="l00800"></a>00800                 <a class="code" href="_g_l_8h.html#6adf6cffd6e7fc49298982128155b8dd">GL_SRC_COLOR</a>,
<a name="l00801"></a>00801                 <a class="code" href="_g_l_8h.html#cd2abef6afceea16ef19a117ae7fc3eb">GL_DST_COLOR</a>,
<a name="l00802"></a>00802                 <a class="code" href="_g_l_8h.html#fae62364eab2dc69c95b17363ba687f4">GL_ONE_MINUS_SRC_COLOR</a>,
<a name="l00803"></a>00803                 <a class="code" href="_g_l_8h.html#4af4fbff7e4f93998f5bf914b19bd1dc">GL_ONE_MINUS_DST_COLOR</a>,
<a name="l00804"></a>00804                 <a class="code" href="_g_l_8h.html#51e6c75d54b3a9fb93fbc880463c212c">GL_SRC_ALPHA</a>,
<a name="l00805"></a>00805                 <a class="code" href="_g_l_8h.html#b4dcc8a1804d164d5f4dbba427b5672c">GL_DST_ALPHA</a>,
<a name="l00806"></a>00806                 <a class="code" href="_g_l_8h.html#a3926eb5e008f14829baa8d72435215f">GL_ONE_MINUS_SRC_ALPHA</a>,
<a name="l00807"></a>00807                 <a class="code" href="_g_l_8h.html#41dd3137d362319dcf68b387b2eb9866">GL_ONE_MINUS_DST_ALPHA</a>,
<a name="l00808"></a>00808                 <a class="code" href="_g_l_8h.html#3ed9d2a2bb8daffceaecad60241cbd93">GL_SRC_ALPHA_SATURATE</a>,
<a name="l00809"></a>00809         };
<a name="l00810"></a>00810 
<a name="l00811"></a>00811         <span class="keywordflow">if</span> ( srcFactorRGB != _srcFactorRGB || srcFactorAlpha != _srcFactorAlpha ||
<a name="l00812"></a>00812                  dstFactorRGB != _dstFactorRGB || dstFactorAlpha != _dstFactorAlpha )
<a name="l00813"></a>00813         {
<a name="l00814"></a>00814                 <a class="code" href="_g_l_subsys_8cpp.html#9310729555ad7640f1193ced93bea016" title="1.4">bglBlendFuncSeparate</a>( modes[ srcFactorRGB ], modes[ dstFactorRGB ], modes[ srcFactorAlpha ], modes[ dstFactorAlpha ] );
<a name="l00815"></a>00815                 _srcFactorRGB = srcFactorRGB;
<a name="l00816"></a>00816                 _srcFactorAlpha = srcFactorAlpha;
<a name="l00817"></a>00817                 _dstFactorRGB = dstFactorRGB;
<a name="l00818"></a>00818                 _dstFactorAlpha = dstFactorAlpha;
<a name="l00819"></a>00819         }
<a name="l00820"></a>00820 }
<a name="l00821"></a>00821 
<a name="l00822"></a>00822 <span class="comment">//----------------------------------------------------------</span>
<a name="l00823"></a>00823 <a class="code" href="_gr_util_8h.html#1b0363d090000f9cf8d7b949574fa046">EGRSTENCILMODE</a>
<a name="l00824"></a><a class="code" href="_gr_util_8h.html#00adee6c248946476cf782365a2cd0c5">00824</a> <a class="code" href="_gr_util_8cpp.html#00adee6c248946476cf782365a2cd0c5">GrGetStencilMode</a>()
<a name="l00825"></a>00825 {
<a name="l00827"></a>00827         <a class="code" href="common__afx_8h.html#2630490ce4292ed6d05359d2957796b8">B_ASSERT</a>( _stateInit );
<a name="l00828"></a>00828         <span class="keywordflow">return</span> _stencilMode;
<a name="l00829"></a>00829 }
<a name="l00830"></a>00830 
<a name="l00831"></a>00831 <span class="comment">//----------------------------------------------------------</span>
<a name="l00832"></a>00832 <span class="keywordtype">void</span>
<a name="l00833"></a><a class="code" href="_gr_util_8h.html#53d65df4590c2b3a3eaf54ca65784f6e">00833</a> <a class="code" href="_gr_util_8cpp.html#53d65df4590c2b3a3eaf54ca65784f6e">GrSetStencilMode</a>( <a class="code" href="_gr_util_8h.html#1b0363d090000f9cf8d7b949574fa046">EGRSTENCILMODE</a> <a class="code" href="glext_8h.html#1e71d9c196e4683cc06c4b54d53f7ef5">mode</a>, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="glext_8h.html#bb269dedb7ad104274cc9f5c0c7285bc">mask</a> )
<a name="l00834"></a>00834 {
<a name="l00836"></a>00836         <a class="code" href="common__afx_8h.html#2630490ce4292ed6d05359d2957796b8">B_ASSERT</a>( _stateInit );
<a name="l00837"></a>00837         <a class="code" href="common__afx_8h.html#2630490ce4292ed6d05359d2957796b8">B_ASSERT</a>( mode &lt; 4 &amp;&amp; mode &gt;= 0 );
<a name="l00838"></a>00838         <span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="_g_l_8h.html#5d5233918a454ad3975c620a69ac5f0b">GLenum</a> zfail[ 4 ] =
<a name="l00839"></a>00839         {
<a name="l00840"></a>00840                 <a class="code" href="glext_8h.html#5704af45db2b9c64a8ca3e9c983f6471">GL_INCR_WRAP_EXT</a>,
<a name="l00841"></a>00841                 <a class="code" href="glext_8h.html#8ff9ae02e45839045dafc77056d0ee93">GL_DECR_WRAP_EXT</a>,
<a name="l00842"></a>00842                 <a class="code" href="_g_l_8h.html#f5f2970e5b32df02694116f821264893">GL_KEEP</a>,
<a name="l00843"></a>00843                 GL_KEEP,
<a name="l00844"></a>00844         };
<a name="l00845"></a>00845         <span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="_g_l_8h.html#5d5233918a454ad3975c620a69ac5f0b">GLenum</a> zpass[ 4 ] =
<a name="l00846"></a>00846         {
<a name="l00847"></a>00847                 <a class="code" href="_g_l_8h.html#f5f2970e5b32df02694116f821264893">GL_KEEP</a>,
<a name="l00848"></a>00848                 <a class="code" href="_g_l_8h.html#f5f2970e5b32df02694116f821264893">GL_KEEP</a>,
<a name="l00849"></a>00849                 <a class="code" href="glext_8h.html#5704af45db2b9c64a8ca3e9c983f6471">GL_INCR_WRAP_EXT</a>,
<a name="l00850"></a>00850                 GL_KEEP,
<a name="l00851"></a>00851         };
<a name="l00852"></a>00852         <span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="_g_l_8h.html#5d5233918a454ad3975c620a69ac5f0b">GLenum</a> func[ 4 ] =
<a name="l00853"></a>00853         {
<a name="l00854"></a>00854                 <a class="code" href="_g_l_8h.html#065314e6648fa794d9cf5872ebb9d776">GL_ALWAYS</a>,
<a name="l00855"></a>00855                 <a class="code" href="_g_l_8h.html#065314e6648fa794d9cf5872ebb9d776">GL_ALWAYS</a>,
<a name="l00856"></a>00856                 GL_ALWAYS,
<a name="l00857"></a>00857                 <a class="code" href="_g_l_8h.html#19d83affd8f0b06c09940cff7da428d2">GL_LESS</a>,
<a name="l00858"></a>00858         };
<a name="l00859"></a>00859 
<a name="l00860"></a>00860         <span class="keywordflow">if</span> ( _stencilMode != mode || _stencilMask != mask )
<a name="l00861"></a>00861         {
<a name="l00862"></a>00862                 <a class="code" href="_g_l_subsys_8cpp.html#da600b1c62c5fb0b152d7677924fa265">bglStencilFunc</a>( func[ mode ], 0, mask );
<a name="l00863"></a>00863                 <a class="code" href="_g_l_subsys_8cpp.html#2c233e58b215835d94d07c4f618c8fde">bglStencilOp</a>( <a class="code" href="_g_l_8h.html#f5f2970e5b32df02694116f821264893">GL_KEEP</a>, zfail[ mode ], zpass[ mode ]);
<a name="l00864"></a>00864                 _stencilMode = mode;
<a name="l00865"></a>00865         }
<a name="l00866"></a>00866 }
<a name="l00867"></a>00867 
<a name="l00868"></a>00868 <span class="comment">//----------------------------------------------------------</span>
<a name="l00869"></a>00869 <a class="code" href="_gr_util_8h.html#abff98128b1f220d1ceff538f4abdef3">EGRALPHATESTMODE</a>
<a name="l00870"></a><a class="code" href="_gr_util_8h.html#0f52c4c5e92f45dfd50b6cdf00cd6400">00870</a> <a class="code" href="_gr_util_8cpp.html#0f52c4c5e92f45dfd50b6cdf00cd6400">GrGetAlphaTestMode</a>()
<a name="l00871"></a>00871 {
<a name="l00873"></a>00873         <a class="code" href="common__afx_8h.html#2630490ce4292ed6d05359d2957796b8">B_ASSERT</a>( _stateInit );
<a name="l00874"></a>00874         <span class="keywordflow">return</span> _alphaTestMode;
<a name="l00875"></a>00875 }
<a name="l00876"></a>00876 
<a name="l00877"></a>00877 <span class="comment">//----------------------------------------------------------</span>
<a name="l00878"></a>00878 <span class="keywordtype">void</span>
<a name="l00879"></a><a class="code" href="_gr_util_8h.html#d50055638c7736c9e411fa2f6b86c93c">00879</a> <a class="code" href="_gr_util_8cpp.html#d50055638c7736c9e411fa2f6b86c93c">GrSetAlphaTestMode</a>( <a class="code" href="_gr_util_8h.html#abff98128b1f220d1ceff538f4abdef3">EGRALPHATESTMODE</a> <a class="code" href="glext_8h.html#1e71d9c196e4683cc06c4b54d53f7ef5">mode</a>, <span class="keywordtype">float</span> <a class="code" href="glext_8h.html#083de4c8e32ad3d9059245f26be721de">ref</a> )
<a name="l00880"></a>00880 {
<a name="l00882"></a>00882         <a class="code" href="common__afx_8h.html#2630490ce4292ed6d05359d2957796b8">B_ASSERT</a>( _stateInit );
<a name="l00883"></a>00883         <a class="code" href="common__afx_8h.html#2630490ce4292ed6d05359d2957796b8">B_ASSERT</a>( mode &lt; 6 &amp;&amp; mode &gt;= 0 );
<a name="l00884"></a>00884         <span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="_g_l_8h.html#5d5233918a454ad3975c620a69ac5f0b">GLenum</a> modes[ 6 ] =
<a name="l00885"></a>00885         {
<a name="l00886"></a>00886                 <a class="code" href="_g_l_8h.html#19d83affd8f0b06c09940cff7da428d2">GL_LESS</a>,
<a name="l00887"></a>00887                 <a class="code" href="_g_l_8h.html#8b778a06f153b4d59ebc6aa1d0996191">GL_LEQUAL</a>,
<a name="l00888"></a>00888                 <a class="code" href="_g_l_8h.html#a3bfa1f454ff5072bc1b64e7d30e9584">GL_GREATER</a>,
<a name="l00889"></a>00889                 <a class="code" href="_g_l_8h.html#8d2e8004bbf5d91de9c0e3184a665d1c">GL_GEQUAL</a>,
<a name="l00890"></a>00890                 <a class="code" href="_g_l_8h.html#c71bf5145721bbb6c3286c70834f4394">GL_EQUAL</a>,
<a name="l00891"></a>00891                 <a class="code" href="_g_l_8h.html#3f1e1951ac224b0f42929facb17e983f">GL_NOTEQUAL</a>,
<a name="l00892"></a>00892         };
<a name="l00893"></a>00893 
<a name="l00894"></a>00894         <span class="keywordflow">if</span> ( mode != _alphaTestMode || ref != _alphaTestRef )
<a name="l00895"></a>00895         {
<a name="l00896"></a>00896                 <a class="code" href="_g_l_subsys_8cpp.html#93aa6faaf3f970e99627aa818e4fc951">bglAlphaFunc</a>( modes[ mode ], ref );
<a name="l00897"></a>00897                 _alphaTestMode = mode;
<a name="l00898"></a>00898                 _alphaTestRef = ref;
<a name="l00899"></a>00899         }
<a name="l00900"></a>00900 }
<a name="l00901"></a>00901 
<a name="l00902"></a>00902 <span class="comment">//----------------------------------------------------------</span>
<a name="l00903"></a>00903 <a class="code" href="_gr_util_8h.html#ea790ef067767354691d0d60c51542fe">EGRCULLMODE</a>
<a name="l00904"></a><a class="code" href="_gr_util_8h.html#dc3723ac695dbc9bc00736470631030a">00904</a> <a class="code" href="_gr_util_8cpp.html#dc3723ac695dbc9bc00736470631030a">GrGetCullMode</a>()
<a name="l00905"></a>00905 {
<a name="l00906"></a>00906         <span class="keywordflow">return</span> _cullMode;
<a name="l00907"></a>00907 }
<a name="l00908"></a>00908 
<a name="l00909"></a>00909 <span class="comment">//----------------------------------------------------------</span>
<a name="l00910"></a>00910 <span class="keywordtype">void</span>
<a name="l00911"></a><a class="code" href="_gr_util_8h.html#ecb580f9d96395afa050b6d81c31421c">00911</a> <a class="code" href="_gr_util_8cpp.html#ecb580f9d96395afa050b6d81c31421c">GrSetCullMode</a>( <a class="code" href="_gr_util_8h.html#ea790ef067767354691d0d60c51542fe">EGRCULLMODE</a> <a class="code" href="glext_8h.html#1e71d9c196e4683cc06c4b54d53f7ef5">mode</a> )
<a name="l00912"></a>00912 {
<a name="l00914"></a>00914         <a class="code" href="common__afx_8h.html#2630490ce4292ed6d05359d2957796b8">B_ASSERT</a>( _stateInit );
<a name="l00915"></a>00915         <a class="code" href="common__afx_8h.html#2630490ce4292ed6d05359d2957796b8">B_ASSERT</a>( mode &lt; 2 &amp;&amp; mode &gt;= 0 );
<a name="l00916"></a>00916         <span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="_g_l_8h.html#5d5233918a454ad3975c620a69ac5f0b">GLenum</a> modes[ 2 ] =
<a name="l00917"></a>00917         {
<a name="l00918"></a>00918                 <a class="code" href="_g_l_8h.html#d66599a87de5c80f8c174da72080a811">GL_FRONT</a>,
<a name="l00919"></a>00919                 <a class="code" href="_g_l_8h.html#688ad6fbf908a39f7197da6d4e4dd083">GL_BACK</a>,
<a name="l00920"></a>00920         };
<a name="l00921"></a>00921         <span class="keywordflow">if</span> ( mode != _cullMode )
<a name="l00922"></a>00922         {
<a name="l00923"></a>00923                 <a class="code" href="_g_l_subsys_8cpp.html#8fed7ce97a7b35118f20c13c1f07d7f1">bglCullFace</a>( modes[ mode ] );
<a name="l00924"></a>00924                 _cullMode = mode;
<a name="l00925"></a>00925         }
<a name="l00926"></a>00926 }
<a name="l00927"></a>00927 
<a name="l00928"></a>00928 <span class="comment">//----------------------------------------------------------</span>
<a name="l00929"></a>00929 <a class="code" href="_gr_util_8h.html#987cbe08cd23c0d7a12ae576e9ce0984">EGRDEPTHMODE</a>
<a name="l00930"></a><a class="code" href="_gr_util_8h.html#b0b6dbcd54d4e8d99cba297c5fb4d186">00930</a> <a class="code" href="_gr_util_8cpp.html#b0b6dbcd54d4e8d99cba297c5fb4d186">GrGetDepthMode</a>()
<a name="l00931"></a>00931 {
<a name="l00933"></a>00933         <a class="code" href="common__afx_8h.html#2630490ce4292ed6d05359d2957796b8">B_ASSERT</a>( _stateInit );
<a name="l00934"></a>00934         <span class="keywordflow">return</span> _depthMode;
<a name="l00935"></a>00935 }
<a name="l00936"></a>00936 
<a name="l00937"></a>00937 <span class="comment">//----------------------------------------------------------</span>
<a name="l00938"></a>00938 <span class="keywordtype">void</span>
<a name="l00939"></a><a class="code" href="_gr_util_8h.html#60d9ac55af862efb36a5e95f19c14407">00939</a> <a class="code" href="_gr_util_8cpp.html#60d9ac55af862efb36a5e95f19c14407">GrSetDepthMode</a>( <a class="code" href="_gr_util_8h.html#987cbe08cd23c0d7a12ae576e9ce0984">EGRDEPTHMODE</a> <a class="code" href="glext_8h.html#1e71d9c196e4683cc06c4b54d53f7ef5">mode</a> )
<a name="l00940"></a>00940 {
<a name="l00942"></a>00942         <a class="code" href="common__afx_8h.html#2630490ce4292ed6d05359d2957796b8">B_ASSERT</a>( _stateInit );
<a name="l00943"></a>00943         <span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="_g_l_8h.html#5d5233918a454ad3975c620a69ac5f0b">GLenum</a> modes[ 3 ] =
<a name="l00944"></a>00944         {
<a name="l00945"></a>00945                 <a class="code" href="_g_l_8h.html#8b778a06f153b4d59ebc6aa1d0996191">GL_LEQUAL</a>,
<a name="l00946"></a>00946                 <a class="code" href="_g_l_8h.html#c71bf5145721bbb6c3286c70834f4394">GL_EQUAL</a>,
<a name="l00947"></a>00947                 <a class="code" href="_g_l_8h.html#065314e6648fa794d9cf5872ebb9d776">GL_ALWAYS</a>,
<a name="l00948"></a>00948         };
<a name="l00949"></a>00949         <span class="keywordflow">if</span> ( mode != _depthMode )
<a name="l00950"></a>00950         {
<a name="l00951"></a>00951                 <a class="code" href="_g_l_subsys_8cpp.html#6b41c03d6d2701c08bdb9d51eb127e1c">bglDepthFunc</a>( modes[ mode ] );
<a name="l00952"></a>00952                 _depthMode = mode;
<a name="l00953"></a>00953         }
<a name="l00954"></a>00954 }
<a name="l00955"></a>00955 
<a name="l00956"></a>00956 <span class="comment">//----------------------------------------------------------</span>
<a name="l00957"></a>00957 <span class="keywordtype">void</span>
<a name="l00958"></a><a class="code" href="_gr_util_8h.html#d6c899820503336631afde3d9b8c481c">00958</a> <a class="code" href="_gr_util_8cpp.html#d6c899820503336631afde3d9b8c481c">GrGetDepthBias</a>( <span class="keywordtype">float</span>&amp; slopeBias, <span class="keywordtype">float</span>&amp; constBias )
<a name="l00959"></a>00959 {
<a name="l00961"></a>00961         <a class="code" href="common__afx_8h.html#2630490ce4292ed6d05359d2957796b8">B_ASSERT</a>( _stateInit );
<a name="l00962"></a>00962         slopeBias = _slopeBias;
<a name="l00963"></a>00963         constBias = _constBias;
<a name="l00964"></a>00964 }
<a name="l00965"></a>00965 
<a name="l00966"></a>00966 <span class="comment">//----------------------------------------------------------</span>
<a name="l00967"></a>00967 <span class="keywordtype">void</span>
<a name="l00968"></a><a class="code" href="_gr_util_8h.html#8c05179e9971c39d5398742cffd8592b">00968</a> <a class="code" href="_gr_util_8cpp.html#8c05179e9971c39d5398742cffd8592b">GrSetDepthBias</a>( <span class="keywordtype">float</span> slopeBias, <span class="keywordtype">float</span> constBias )
<a name="l00969"></a>00969 {
<a name="l00971"></a>00971         <a class="code" href="common__afx_8h.html#2630490ce4292ed6d05359d2957796b8">B_ASSERT</a>( _stateInit );
<a name="l00972"></a>00972         _slopeBias = slopeBias;
<a name="l00973"></a>00973         _constBias = constBias;
<a name="l00974"></a>00974         <a class="code" href="_g_l_subsys_8cpp.html#a5b994e8295a8b5868133e70f309a4d4">bglPolygonOffset</a>( slopeBias, constBias );
<a name="l00975"></a>00975 }
<a name="l00976"></a>00976 
<a name="l00977"></a>00977 
<a name="l00978"></a>00978 <span class="comment">//==========================================================</span>
<a name="l00980"></a>00980 <span class="comment"></span><span class="comment">//==========================================================</span>
<a name="l00981"></a>00981 
<a name="l00982"></a>00982 <span class="comment">//----------------------------------------------------------</span>
<a name="l00983"></a>00983 <span class="keywordtype">void</span>
<a name="l00984"></a><a class="code" href="_gr_util_8h.html#547285e99c507990bed34ef0ec1c7b7d">00984</a> <a class="code" href="_gr_util_8cpp.html#547285e99c507990bed34ef0ec1c7b7d" title="Viewport management.">GrViewport</a>( <span class="keywordtype">int</span> <a class="code" href="glext_8h.html#d77deca22f617d3f0e0eb786445689fc">x</a>, <span class="keywordtype">int</span> <a class="code" href="_g_l_8h.html#9298c7ad619074f5285b32c6b72bfdea">y</a>, <span class="keywordtype">int</span> <a class="code" href="_g_l_8h.html#e6531b1788ca42a9ae8155b0c52e7630">width</a>, <span class="keywordtype">int</span> <a class="code" href="_g_l_8h.html#b2e63df950c3789599e1e43f477bc9e3">height</a> )
<a name="l00985"></a>00985 {
<a name="l00987"></a>00987         <a class="code" href="common__afx_8h.html#2630490ce4292ed6d05359d2957796b8">B_ASSERT</a>( _stateInit );
<a name="l00988"></a>00988         _viewportX = x;
<a name="l00989"></a>00989         _viewportY = y;
<a name="l00990"></a>00990         _viewportWidth = width;
<a name="l00991"></a>00991         _viewportHeight = height;
<a name="l00992"></a>00992         <a class="code" href="_g_l_subsys_8cpp.html#a972ce49b8258fdfcd638c6c7bdaea9b">bglViewport</a>( x, y, width, height );
<a name="l00993"></a>00993 }
<a name="l00994"></a>00994 
<a name="l00995"></a>00995 <span class="comment">//----------------------------------------------------------</span>
<a name="l00996"></a>00996 <span class="keywordtype">void</span>
<a name="l00997"></a><a class="code" href="_gr_util_8h.html#790778867fdcac797860c02a4bd6b1fa">00997</a> <a class="code" href="_gr_util_8cpp.html#790778867fdcac797860c02a4bd6b1fa">GrGetViewport</a>( <span class="keywordtype">int</span>&amp; <a class="code" href="glext_8h.html#d77deca22f617d3f0e0eb786445689fc">x</a>, <span class="keywordtype">int</span>&amp; <a class="code" href="_g_l_8h.html#9298c7ad619074f5285b32c6b72bfdea">y</a>, <span class="keywordtype">int</span>&amp; <a class="code" href="_g_l_8h.html#e6531b1788ca42a9ae8155b0c52e7630">width</a>, <span class="keywordtype">int</span>&amp; <a class="code" href="_g_l_8h.html#b2e63df950c3789599e1e43f477bc9e3">height</a> )
<a name="l00998"></a>00998 {
<a name="l01000"></a>01000         <a class="code" href="common__afx_8h.html#2630490ce4292ed6d05359d2957796b8">B_ASSERT</a>( _stateInit );
<a name="l01001"></a>01001         x = _viewportX;
<a name="l01002"></a>01002         y = _viewportY;
<a name="l01003"></a>01003         width = _viewportWidth;
<a name="l01004"></a>01004         height = _viewportHeight;
<a name="l01005"></a>01005 }
<a name="l01006"></a>01006 
<a name="l01007"></a>01007 
<a name="l01008"></a>01008 <span class="comment">//==========================================================</span>
<a name="l01010"></a>01010 <span class="comment"></span><span class="comment">//==========================================================</span>
<a name="l01011"></a>01011 
<a name="l01012"></a>01012 <span class="comment">//----------------------------------------------------------</span>
<a name="l01013"></a>01013 <span class="keywordtype">void</span>
<a name="l01014"></a><a class="code" href="_gr_util_8h.html#9091fe53a16798ff5eea3dab70dd81ff">01014</a> <a class="code" href="_gr_util_8cpp.html#9091fe53a16798ff5eea3dab70dd81ff" title="Scissor management.">GrScissor</a>( <span class="keywordtype">int</span> <a class="code" href="glext_8h.html#d77deca22f617d3f0e0eb786445689fc">x</a>, <span class="keywordtype">int</span> <a class="code" href="_g_l_8h.html#9298c7ad619074f5285b32c6b72bfdea">y</a>, <span class="keywordtype">int</span> <a class="code" href="_g_l_8h.html#e6531b1788ca42a9ae8155b0c52e7630">width</a>, <span class="keywordtype">int</span> <a class="code" href="_g_l_8h.html#b2e63df950c3789599e1e43f477bc9e3">height</a> )
<a name="l01015"></a>01015 {
<a name="l01017"></a>01017         <a class="code" href="common__afx_8h.html#2630490ce4292ed6d05359d2957796b8">B_ASSERT</a>( _stateInit );
<a name="l01018"></a>01018         _scissorX = x;
<a name="l01019"></a>01019         _scissorY = y;
<a name="l01020"></a>01020         _scissorWidth = width;
<a name="l01021"></a>01021         _scissorHeight = height;
<a name="l01022"></a>01022         <a class="code" href="_g_l_subsys_8cpp.html#ff3d9318b43ed0b5d61a79480d42133f">bglScissor</a>( x, y, width, height );
<a name="l01023"></a>01023 }
<a name="l01024"></a>01024 
<a name="l01025"></a>01025 <span class="comment">//----------------------------------------------------------</span>
<a name="l01026"></a>01026 <span class="keywordtype">void</span>
<a name="l01027"></a><a class="code" href="_gr_util_8h.html#09e5c6ded78f38ea5cdcd157df777c20">01027</a> <a class="code" href="_gr_util_8cpp.html#09e5c6ded78f38ea5cdcd157df777c20">GrGetScissor</a>( <span class="keywordtype">int</span>&amp; <a class="code" href="glext_8h.html#d77deca22f617d3f0e0eb786445689fc">x</a>, <span class="keywordtype">int</span>&amp; <a class="code" href="_g_l_8h.html#9298c7ad619074f5285b32c6b72bfdea">y</a>, <span class="keywordtype">int</span>&amp; <a class="code" href="_g_l_8h.html#e6531b1788ca42a9ae8155b0c52e7630">width</a>, <span class="keywordtype">int</span>&amp; <a class="code" href="_g_l_8h.html#b2e63df950c3789599e1e43f477bc9e3">height</a> )
<a name="l01028"></a>01028 {
<a name="l01030"></a>01030         <a class="code" href="common__afx_8h.html#2630490ce4292ed6d05359d2957796b8">B_ASSERT</a>( _stateInit );
<a name="l01031"></a>01031         x = _scissorX;
<a name="l01032"></a>01032         y = _scissorY;
<a name="l01033"></a>01033         width = _scissorWidth;
<a name="l01034"></a>01034         height = _scissorHeight;
<a name="l01035"></a>01035 }
<a name="l01036"></a>01036 
<a name="l01037"></a>01037 
<a name="l01038"></a>01038 <span class="comment">//==========================================================</span>
<a name="l01040"></a>01040 <span class="comment"></span><span class="comment">//==========================================================</span>
<a name="l01041"></a>01041 
<a name="l01042"></a>01042 <span class="comment">//----------------------------------------------------------</span>
<a name="l01043"></a><a class="code" href="_gr_util_8cpp.html#3ce89d253d78fe6dae9824278e029c18">01043</a> <span class="keywordtype">void</span> <a class="code" href="_gr_util_8cpp.html#3ce89d253d78fe6dae9824278e029c18" title="Transform management.">GrSetProjectionMatrix</a>( <span class="keyword">const</span> <a class="code" href="class_m_mat4x4.html" title="class MMat4x4">MMat4x4</a>&amp; proj )
<a name="l01044"></a>01044 {
<a name="l01046"></a>01046         <a class="code" href="_g_l_subsys_8cpp.html#7bf1600c864d0fbfe39d57ccdb502d61">bglMatrixMode</a>( <a class="code" href="_g_l_8h.html#85e93b355494186ced027f1a1142fefb">GL_PROJECTION</a> );
<a name="l01047"></a>01047         <a class="code" href="_g_l_subsys_8cpp.html#33603a45346a6a3c68e9ae03dce888f8">bglLoadTransposeMatrixf</a>( proj );
<a name="l01048"></a>01048         <a class="code" href="_g_l_subsys_8cpp.html#7bf1600c864d0fbfe39d57ccdb502d61">bglMatrixMode</a>( <a class="code" href="_g_l_8h.html#8c0f92b5d50914825a1424b1cd4480cd">GL_MODELVIEW</a> );
<a name="l01049"></a>01049 }
<a name="l01050"></a>01050 
<a name="l01051"></a>01051 <span class="comment">//----------------------------------------------------------</span>
<a name="l01052"></a><a class="code" href="_gr_util_8cpp.html#3cbd050170b35f7e62ae7af31af1ba00">01052</a> <span class="keywordtype">void</span> <a class="code" href="_gr_util_8cpp.html#3cbd050170b35f7e62ae7af31af1ba00">GrSetModelViewMatrix</a>( <span class="keyword">const</span> <a class="code" href="class_m_mat4x4.html" title="class MMat4x4">MMat4x4</a>&amp; modelView )
<a name="l01053"></a>01053 {
<a name="l01054"></a>01054         _modelView = modelView;
<a name="l01055"></a>01055         <a class="code" href="_g_l_subsys_8cpp.html#33603a45346a6a3c68e9ae03dce888f8">bglLoadTransposeMatrixf</a>( _modelView );
<a name="l01056"></a>01056 }
<a name="l01057"></a>01057 
<a name="l01058"></a>01058 <span class="comment">//----------------------------------------------------------</span>
<a name="l01059"></a><a class="code" href="_gr_util_8cpp.html#4377e86e49bceb3c6fd43852e0d210a5">01059</a> <span class="keywordtype">void</span> <a class="code" href="_gr_util_8cpp.html#4377e86e49bceb3c6fd43852e0d210a5">GrMultiplyModelViewMatrix</a>( <span class="keyword">const</span> <a class="code" href="class_m_mat4x4.html" title="class MMat4x4">MMat4x4</a>&amp; <a class="code" href="glext_8h.html#7b24a3f2f56eb1244ae69dacb4fecb6f">matrix</a> )
<a name="l01060"></a>01060 {
<a name="l01061"></a>01061         _modelView = _modelView * matrix;
<a name="l01062"></a>01062         <a class="code" href="_g_l_subsys_8cpp.html#33603a45346a6a3c68e9ae03dce888f8">bglLoadTransposeMatrixf</a>( _modelView );
<a name="l01063"></a>01063 }
<a name="l01064"></a>01064 
<a name="l01065"></a>01065 <span class="comment">//----------------------------------------------------------</span>
<a name="l01066"></a><a class="code" href="_gr_util_8cpp.html#4ccf11ebf1bdb0b454b77213a35ac073">01066</a> <span class="keywordtype">void</span> <a class="code" href="_gr_util_8cpp.html#4ccf11ebf1bdb0b454b77213a35ac073">GrPushModelViewMatrix</a>()
<a name="l01067"></a>01067 {
<a name="l01068"></a>01068         <a class="code" href="common__afx_8h.html#2630490ce4292ed6d05359d2957796b8">B_ASSERT</a>( _matrixStackTop &lt; <a class="code" href="_gr_util_8cpp.html#759c4ef721bf87a80985cfabac8262f6" title="file header.">MATRIX_STACK_SIZE</a> );
<a name="l01069"></a>01069         _matrixStack[ _matrixStackTop++ ] = _modelView;
<a name="l01070"></a>01070 }
<a name="l01071"></a>01071 
<a name="l01072"></a>01072 <span class="comment">//----------------------------------------------------------</span>
<a name="l01073"></a><a class="code" href="_gr_util_8cpp.html#013a5f0324569410d41786201deef347">01073</a> <span class="keywordtype">void</span> <a class="code" href="_gr_util_8cpp.html#013a5f0324569410d41786201deef347">GrPopModelViewMatrix</a>()
<a name="l01074"></a>01074 {
<a name="l01075"></a>01075         <a class="code" href="common__afx_8h.html#2630490ce4292ed6d05359d2957796b8">B_ASSERT</a>( _matrixStackTop &gt; 0 );
<a name="l01076"></a>01076         _modelView = _matrixStack[ --_matrixStackTop ];
<a name="l01077"></a>01077         <a class="code" href="_g_l_subsys_8cpp.html#33603a45346a6a3c68e9ae03dce888f8">bglLoadTransposeMatrixf</a>( _modelView );  
<a name="l01078"></a>01078 }
<a name="l01079"></a>01079 
<a name="l01080"></a>01080 
<a name="l01081"></a>01081 <span class="comment">//==========================================================</span>
<a name="l01083"></a>01083 <span class="comment"></span><span class="comment">//==========================================================</span>
<a name="l01084"></a>01084 
<a name="l01085"></a>01085 <span class="comment">//----------------------------------------------------------</span>
<a name="l01086"></a>01086 <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>
<a name="l01087"></a><a class="code" href="_gr_util_8h.html#1175157b98b63f050c8ba2a09b8bf38b">01087</a> <a class="code" href="_gr_util_8cpp.html#1175157b98b63f050c8ba2a09b8bf38b" title="Buffer write enables.">GrGetWriteEnable</a>()
<a name="l01088"></a>01088 {
<a name="l01090"></a>01090         <a class="code" href="common__afx_8h.html#2630490ce4292ed6d05359d2957796b8">B_ASSERT</a>( _stateInit );
<a name="l01091"></a>01091         <span class="keywordflow">return</span> _writeEnable;
<a name="l01092"></a>01092 }
<a name="l01093"></a>01093 
<a name="l01094"></a>01094 <span class="comment">//----------------------------------------------------------</span>
<a name="l01095"></a>01095 <span class="keywordtype">void</span>
<a name="l01096"></a><a class="code" href="_gr_util_8h.html#7b33558bb79e3c6936f26553c282d081">01096</a> <a class="code" href="_gr_util_8cpp.html#7b33558bb79e3c6936f26553c282d081">GrSetWriteEnable</a>( <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="glext_8h.html#bb269dedb7ad104274cc9f5c0c7285bc">mask</a> )
<a name="l01097"></a>01097 {
<a name="l01099"></a>01099         <a class="code" href="common__afx_8h.html#2630490ce4292ed6d05359d2957796b8">B_ASSERT</a>( _stateInit );
<a name="l01100"></a>01100         <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> change = mask ^ _writeEnable;
<a name="l01101"></a>01101         <span class="keywordflow">if</span> ( change &amp; <a class="code" href="_gr_util_8h.html#d091dcc5dafb6944427eb6d9895b25d3">GR_RGBA</a> )
<a name="l01102"></a>01102                 <a class="code" href="_g_l_subsys_8cpp.html#22ba3b0340cdfe597096c3f0020c8f1d">bglColorMask</a>( <a class="code" href="_gr_util_8cpp.html#2cfbdfb784d1c5f4e95d4595642f6588" title="macros.">CHECK_BIT</a>( mask, <a class="code" href="_gr_util_8h.html#5d9b61a9f967ef9cd64bffd282b79e1e" title="write masks.">GR_RED</a> ), <a class="code" href="_gr_util_8cpp.html#2cfbdfb784d1c5f4e95d4595642f6588" title="macros.">CHECK_BIT</a>( mask, <a class="code" href="_gr_util_8h.html#1e29dbb3cb7c9fc44f446e6fc49ddfee">GR_GREEN</a> ), <a class="code" href="_gr_util_8cpp.html#2cfbdfb784d1c5f4e95d4595642f6588" title="macros.">CHECK_BIT</a>( mask, <a class="code" href="_gr_util_8h.html#b13df2d8cbeeea607083962641ab21e8">GR_BLUE</a> ), <a class="code" href="_gr_util_8cpp.html#2cfbdfb784d1c5f4e95d4595642f6588" title="macros.">CHECK_BIT</a>( mask, <a class="code" href="_gr_util_8h.html#c47dcda0ac9622dee9ee5013742195a8">GR_ALPHA</a> ) );
<a name="l01103"></a>01103 
<a name="l01104"></a>01104         <span class="keywordflow">if</span> ( change &amp; <a class="code" href="_gr_util_8h.html#263ecb0b6dc90d2aca7b9291d81a7024">GR_DEPTH</a> )
<a name="l01105"></a>01105                 <a class="code" href="_g_l_subsys_8cpp.html#5fccb96f913738095b60bd3583cc7db9">bglDepthMask</a>( <a class="code" href="_gr_util_8cpp.html#2cfbdfb784d1c5f4e95d4595642f6588" title="macros.">CHECK_BIT</a>( mask, GR_DEPTH ) );
<a name="l01106"></a>01106 
<a name="l01107"></a>01107         <span class="keywordflow">if</span> ( change &amp; <a class="code" href="_gr_util_8h.html#c424076583734a6d018ce63bf44e054d">GR_STENCIL</a> )
<a name="l01108"></a>01108                 <a class="code" href="_g_l_subsys_8cpp.html#46352a9c007df69aa196c930c2516494">bglStencilMask</a>( ( mask &amp; GR_STENCIL ) != 0 ? ~0 : 0 );
<a name="l01109"></a>01109 
<a name="l01110"></a>01110         _writeEnable = mask;
<a name="l01111"></a>01111 }
<a name="l01112"></a>01112 
<a name="l01113"></a>01113 
<a name="l01114"></a>01114 <span class="comment">//==========================================================</span>
<a name="l01116"></a>01116 <span class="comment"></span><span class="comment">//==========================================================</span>
<a name="l01117"></a>01117 
<a name="l01118"></a>01118 <span class="comment">//----------------------------------------------------------</span>
<a name="l01119"></a>01119 <span class="keywordtype">void</span>
<a name="l01120"></a><a class="code" href="_gr_util_8h.html#7846b6c52cbb48bb05538b9d53ce3ede">01120</a> <a class="code" href="_gr_util_8cpp.html#7846b6c52cbb48bb05538b9d53ce3ede" title="Draw buffer management.">GrDrawBuffers</a>( <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="glext_8h.html#caf3212fc88caa23745613e709a3e869">buffers</a> )
<a name="l01121"></a>01121 {
<a name="l01123"></a>01123         <a class="code" href="common__afx_8h.html#2630490ce4292ed6d05359d2957796b8">B_ASSERT</a>( _stateInit );
<a name="l01124"></a>01124 
<a name="l01125"></a>01125         <a class="code" href="_g_l_subsys_8h.html#ab12f88c1ad74a5b4876f37fcf105bda">CHECK_GL</a>();
<a name="l01127"></a>01127         <a class="code" href="_g_l_8h.html#cebcc1c5663f14ebde1d16831e5fed94">GLint</a> <a class="code" href="glext_8h.html#0788d3762d0c3c76e4c094d8078b4c27">n</a> = 0;
<a name="l01128"></a>01128         <a class="code" href="_g_l_8h.html#5d5233918a454ad3975c620a69ac5f0b">GLenum</a> <a class="code" href="glext_8h.html#9250a0c49b6ffdfaa7eb9fc4f50cc8e4">bufs</a>[4];
<a name="l01129"></a>01129         <span class="keywordflow">if</span> ( buffers &amp; <a class="code" href="_gr_util_8h.html#a073c31ad6a86b58868a1bb0b104847a" title="draw buffers.">GR_FRONT</a> )
<a name="l01130"></a>01130                 bufs[n++] = <a class="code" href="_g_l_8h.html#53d5d77867ea4eec7f6babaa527e46ff">GL_FRONT_LEFT</a>;
<a name="l01131"></a>01131         <span class="keywordflow">if</span> ( buffers &amp; <a class="code" href="_gr_util_8h.html#91064edabbd1894828fcc812fd47eb98">GR_BACK</a> )
<a name="l01132"></a>01132                 bufs[n++] = <a class="code" href="_g_l_8h.html#5bdb7358ec350ac69e6161c731a6221d">GL_BACK_LEFT</a>;
<a name="l01133"></a>01133         <span class="keywordflow">if</span> ( buffers &amp; <a class="code" href="_gr_util_8h.html#78d49af22f87f93b2a04b5c3976cc443">GR_AUX0</a> )
<a name="l01134"></a>01134                 bufs[n++] = <a class="code" href="_g_l_8h.html#77f1836504014624e18f11e52ec2d625">GL_AUX0</a>;
<a name="l01135"></a>01135         <span class="keywordflow">if</span> ( buffers &amp; <a class="code" href="_gr_util_8h.html#841f66f5b23a43c9be78854f9de92e7c">GR_AUX1</a> )
<a name="l01136"></a>01136                 bufs[n++] = <a class="code" href="_g_l_8h.html#2a8b50c784a8a3fd0fcc5fc5cb8cd382">GL_AUX1</a>;
<a name="l01137"></a>01137         <span class="keywordflow">if</span> ( buffers &amp; <a class="code" href="_gr_util_8h.html#a22689f3c43811e890187a140e503fc8">GR_AUX2</a> )
<a name="l01138"></a>01138                 bufs[n++] = <a class="code" href="_g_l_8h.html#a9b2c417e0b969ebdccb1c3e83f65e78">GL_AUX2</a>;
<a name="l01139"></a>01139         <span class="keywordflow">if</span> ( buffers &amp; <a class="code" href="_gr_util_8h.html#762f1fd63793de54c0051d97523f7318">GR_COLOR_ATTACH0</a> )
<a name="l01140"></a>01140                 bufs[n++] = <a class="code" href="glext_8h.html#4ff278d72e0f56e9a713ef0dc40b744c">GL_COLOR_ATTACHMENT0_EXT</a>;
<a name="l01141"></a>01141         <span class="keywordflow">if</span> ( buffers &amp; <a class="code" href="_gr_util_8h.html#929342d89e4983bbdebb872f81c29421">GR_COLOR_ATTACH1</a> )
<a name="l01142"></a>01142                 bufs[n++] = <a class="code" href="glext_8h.html#bb41a580a48b0db9ab09bd666b197c38">GL_COLOR_ATTACHMENT1_EXT</a>;
<a name="l01143"></a>01143         <span class="keywordflow">if</span> ( buffers &amp; <a class="code" href="_gr_util_8h.html#1ae66cda5f1748c7834c188fc5286a1c">GR_COLOR_ATTACH2</a> )
<a name="l01144"></a>01144                 bufs[n++] = <a class="code" href="glext_8h.html#e095e9224b140740da4120b4df6ee383">GL_COLOR_ATTACHMENT2_EXT</a>;
<a name="l01145"></a>01145         <span class="keywordflow">if</span> ( buffers &amp; <a class="code" href="_gr_util_8h.html#8b41f70d347e6bc53882c3aa63a34f5c">GR_COLOR_ATTACH3</a> )
<a name="l01146"></a>01146                 bufs[n++] = <a class="code" href="glext_8h.html#5e1b0f6369ed1fec16d1a6a30f27b3e8">GL_COLOR_ATTACHMENT3_EXT</a>;
<a name="l01147"></a>01147         <span class="keywordflow">if</span> ( n == 0 )
<a name="l01148"></a>01148                 bufs[n++] = <a class="code" href="_g_l_8h.html#089a3736e5280b9c7cc50129e2659974">GL_NONE</a>;
<a name="l01149"></a>01149 
<a name="l01151"></a>01151         <span class="keywordflow">if</span> ( n == 1 )
<a name="l01152"></a>01152                 <a class="code" href="_g_l_subsys_8cpp.html#6975ee1fc3e7c8414974b8011e9dfce9">bglDrawBuffer</a>( bufs[ 0 ] );
<a name="l01153"></a>01153         <span class="keywordflow">else</span>
<a name="l01154"></a>01154                 <a class="code" href="_g_l_subsys_8cpp.html#552a8c57bbe610734b462b532c930d69">bglDrawBuffers</a>( n, bufs );
<a name="l01155"></a>01155         <a class="code" href="_g_l_subsys_8h.html#ab12f88c1ad74a5b4876f37fcf105bda">CHECK_GL</a>();
<a name="l01156"></a>01156 }
<a name="l01157"></a>01157 
<a name="l01158"></a>01158 <span class="comment">//----------------------------------------------------------</span>
<a name="l01159"></a>01159 <span class="keywordtype">void</span>
<a name="l01160"></a><a class="code" href="_gr_util_8h.html#31be90e1387c34e7e279e74e661f654e">01160</a> <a class="code" href="_gr_util_8cpp.html#31be90e1387c34e7e279e74e661f654e">GrReadBuffer</a>( <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="glext_8h.html#c4fdb15bdbcd63430bab668b5419ed9f">buffer</a> )
<a name="l01161"></a>01161 {
<a name="l01163"></a>01163         <a class="code" href="common__afx_8h.html#2630490ce4292ed6d05359d2957796b8">B_ASSERT</a>( _stateInit );
<a name="l01164"></a>01164 
<a name="l01166"></a>01166         <a class="code" href="common__afx_8h.html#2630490ce4292ed6d05359d2957796b8">B_ASSERT</a>( <a class="code" href="common__afx_8h.html#57be1bf0723f638d0d40c91339bd6f05">IsPow2</a>( buffer ) || buffer == 0 );
<a name="l01167"></a>01167         <span class="keywordflow">if</span> ( buffer == <a class="code" href="_gr_util_8h.html#a073c31ad6a86b58868a1bb0b104847a" title="draw buffers.">GR_FRONT</a> )
<a name="l01168"></a>01168                 <a class="code" href="_g_l_subsys_8cpp.html#ce758f9ca83210e092c51d779787fc7c">bglReadBuffer</a>( <a class="code" href="_g_l_8h.html#53d5d77867ea4eec7f6babaa527e46ff">GL_FRONT_LEFT</a> );
<a name="l01169"></a>01169         <span class="keywordflow">else</span> <span class="keywordflow">if</span> ( buffer == <a class="code" href="_gr_util_8h.html#91064edabbd1894828fcc812fd47eb98">GR_BACK</a> )
<a name="l01170"></a>01170                 <a class="code" href="_g_l_subsys_8cpp.html#ce758f9ca83210e092c51d779787fc7c">bglReadBuffer</a>( <a class="code" href="_g_l_8h.html#5bdb7358ec350ac69e6161c731a6221d">GL_BACK_LEFT</a> );
<a name="l01171"></a>01171         <span class="keywordflow">else</span> <span class="keywordflow">if</span> ( buffer == <a class="code" href="_gr_util_8h.html#78d49af22f87f93b2a04b5c3976cc443">GR_AUX0</a> )
<a name="l01172"></a>01172                 <a class="code" href="_g_l_subsys_8cpp.html#ce758f9ca83210e092c51d779787fc7c">bglReadBuffer</a>( <a class="code" href="_g_l_8h.html#77f1836504014624e18f11e52ec2d625">GL_AUX0</a> );
<a name="l01173"></a>01173         <span class="keywordflow">else</span> <span class="keywordflow">if</span> ( buffer == <a class="code" href="_gr_util_8h.html#841f66f5b23a43c9be78854f9de92e7c">GR_AUX1</a> )
<a name="l01174"></a>01174                 <a class="code" href="_g_l_subsys_8cpp.html#ce758f9ca83210e092c51d779787fc7c">bglReadBuffer</a>( <a class="code" href="_g_l_8h.html#2a8b50c784a8a3fd0fcc5fc5cb8cd382">GL_AUX1</a> );
<a name="l01175"></a>01175         <span class="keywordflow">else</span> <span class="keywordflow">if</span> ( buffer == <a class="code" href="_gr_util_8h.html#841f66f5b23a43c9be78854f9de92e7c">GR_AUX1</a> )
<a name="l01176"></a>01176                 <a class="code" href="_g_l_subsys_8cpp.html#ce758f9ca83210e092c51d779787fc7c">bglReadBuffer</a>( <a class="code" href="_g_l_8h.html#2a8b50c784a8a3fd0fcc5fc5cb8cd382">GL_AUX1</a> );
<a name="l01177"></a>01177         <span class="keywordflow">else</span> <span class="keywordflow">if</span> ( buffer == <a class="code" href="_gr_util_8h.html#762f1fd63793de54c0051d97523f7318">GR_COLOR_ATTACH0</a> )
<a name="l01178"></a>01178                 <a class="code" href="_g_l_subsys_8cpp.html#ce758f9ca83210e092c51d779787fc7c">bglReadBuffer</a>( <a class="code" href="glext_8h.html#4ff278d72e0f56e9a713ef0dc40b744c">GL_COLOR_ATTACHMENT0_EXT</a> );
<a name="l01179"></a>01179         <span class="keywordflow">else</span> <span class="keywordflow">if</span> ( buffer == <a class="code" href="_gr_util_8h.html#929342d89e4983bbdebb872f81c29421">GR_COLOR_ATTACH1</a> )
<a name="l01180"></a>01180                 <a class="code" href="_g_l_subsys_8cpp.html#ce758f9ca83210e092c51d779787fc7c">bglReadBuffer</a>( <a class="code" href="glext_8h.html#bb41a580a48b0db9ab09bd666b197c38">GL_COLOR_ATTACHMENT1_EXT</a> );
<a name="l01181"></a>01181         <span class="keywordflow">else</span> <span class="keywordflow">if</span> ( buffer == <a class="code" href="_gr_util_8h.html#1ae66cda5f1748c7834c188fc5286a1c">GR_COLOR_ATTACH2</a> )
<a name="l01182"></a>01182                 <a class="code" href="_g_l_subsys_8cpp.html#ce758f9ca83210e092c51d779787fc7c">bglReadBuffer</a>( <a class="code" href="glext_8h.html#e095e9224b140740da4120b4df6ee383">GL_COLOR_ATTACHMENT2_EXT</a> );
<a name="l01183"></a>01183         <span class="keywordflow">else</span> <span class="keywordflow">if</span> ( buffer == <a class="code" href="_gr_util_8h.html#8b41f70d347e6bc53882c3aa63a34f5c">GR_COLOR_ATTACH3</a> )
<a name="l01184"></a>01184                 <a class="code" href="_g_l_subsys_8cpp.html#ce758f9ca83210e092c51d779787fc7c">bglReadBuffer</a>( <a class="code" href="glext_8h.html#5e1b0f6369ed1fec16d1a6a30f27b3e8">GL_COLOR_ATTACHMENT3_EXT</a> );
<a name="l01185"></a>01185         <span class="keywordflow">else</span> <span class="keywordflow">if</span> ( buffer == 0 )
<a name="l01186"></a>01186                 <a class="code" href="_g_l_subsys_8cpp.html#ce758f9ca83210e092c51d779787fc7c">bglReadBuffer</a>( <a class="code" href="_g_l_8h.html#089a3736e5280b9c7cc50129e2659974">GL_NONE</a> );
<a name="l01187"></a>01187 }
<a name="l01188"></a>01188 
<a name="l01189"></a>01189 
<a name="l01190"></a>01190 <span class="comment">//==========================================================</span>
<a name="l01192"></a>01192 <span class="comment"></span><span class="comment">//==========================================================</span>
<a name="l01193"></a>01193 
<a name="l01194"></a>01194 <span class="comment">//----------------------------------------------------------</span>
<a name="l01195"></a>01195 <span class="keywordtype">void</span>
<a name="l01196"></a><a class="code" href="_gr_util_8h.html#032fc1db381d700a752a7cd27dd5be72">01196</a> <a class="code" href="_gr_util_8cpp.html#60654372f8080fc80b5e1ef0aea7dd99" title="Rendering functions.">GrClear</a>( <span class="keywordtype">float</span> red, <span class="keywordtype">float</span> <a class="code" href="glext_8h.html#c57fb4e15aa855fa227d97909b37ed5b">green</a>, <span class="keywordtype">float</span> <a class="code" href="glext_8h.html#f7c76492ef0f7ddda2f5f079041e5a8e">blue</a>, <span class="keywordtype">float</span> <a class="code" href="glext_8h.html#1e566ae365860db53d0c241c526b52c3">alpha</a>, <span class="keywordtype">float</span> <a class="code" href="glext_8h.html#1c814629538debe12a7bfe2509a3671e">depth</a>, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="glext_8h.html#ecd18db993a66d833647945966799ca5">stencil</a> )
<a name="l01197"></a>01197 {
<a name="l01199"></a>01199         <a class="code" href="common__afx_8h.html#2630490ce4292ed6d05359d2957796b8">B_ASSERT</a>( _stateInit );
<a name="l01200"></a>01200 
<a name="l01201"></a>01201         <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> clearFlags = 0;
<a name="l01202"></a>01202         <span class="keywordflow">if</span> ( _writeEnable &amp; <a class="code" href="_gr_util_8h.html#d091dcc5dafb6944427eb6d9895b25d3">GR_RGBA</a> )
<a name="l01203"></a>01203         {
<a name="l01204"></a>01204                 <a class="code" href="_g_l_subsys_8cpp.html#eb3cf34f69db5376a25f70ec81a9bfa1">bglClearColor</a>( red, green, blue, alpha );
<a name="l01205"></a>01205                 clearFlags |= <a class="code" href="_g_l_8h.html#947db9ff944c4b78e652144c3dd1060c">GL_COLOR_BUFFER_BIT</a>;
<a name="l01206"></a>01206         }
<a name="l01207"></a>01207         <span class="keywordflow">if</span> ( _writeEnable &amp; <a class="code" href="_gr_util_8h.html#263ecb0b6dc90d2aca7b9291d81a7024">GR_DEPTH</a> )
<a name="l01208"></a>01208         {
<a name="l01209"></a>01209                 <a class="code" href="_g_l_subsys_8cpp.html#f0f39f199af25145d7e8c11a589a4c16">bglClearDepth</a>( depth );
<a name="l01210"></a>01210                 clearFlags |= <a class="code" href="_g_l_8h.html#ef2a9e9a4b130bc4de57514327847b4f">GL_DEPTH_BUFFER_BIT</a>;
<a name="l01211"></a>01211         }
<a name="l01212"></a>01212         <span class="keywordflow">if</span> ( _writeEnable &amp; <a class="code" href="_gr_util_8h.html#c424076583734a6d018ce63bf44e054d">GR_STENCIL</a> )
<a name="l01213"></a>01213         {
<a name="l01214"></a>01214                 <a class="code" href="_g_l_subsys_8cpp.html#0195ff8c512056df3f1b9843859666af">bglClearStencil</a>( stencil );
<a name="l01215"></a>01215                 clearFlags |= <a class="code" href="_g_l_8h.html#be3e281237b175db178879e0988f5a78">GL_STENCIL_BUFFER_BIT</a>;
<a name="l01216"></a>01216         }
<a name="l01217"></a>01217         <span class="keywordflow">if</span> ( clearFlags )
<a name="l01218"></a>01218                 <a class="code" href="_g_l_subsys_8cpp.html#28b6839df33ef6783fc9cc0cf87b235f">bglClear</a>( clearFlags );
<a name="l01219"></a>01219 
<a name="l01220"></a>01220         <a class="code" href="_g_l_subsys_8h.html#ab12f88c1ad74a5b4876f37fcf105bda">CHECK_GL</a>();
<a name="l01221"></a>01221 }
<a name="l01222"></a>01222 
<a name="l01223"></a>01223 <span class="comment">//----------------------------------------------------------</span>
<a name="l01224"></a>01224 <span class="keywordtype">void</span>
<a name="l01225"></a><a class="code" href="_gr_util_8h.html#0bd2ddc1103b94e3ba713e4b5a994cc9">01225</a> <a class="code" href="_gr_util_8cpp.html#b5f8140bc16ae7aad41126040955971b">GrDrawArrays</a>( <a class="code" href="_gr_util_8h.html#b3e9826637cd9ac6566bdd76e9fce145">EGRPRIMTYPE</a> primType, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="_g_l_8h.html#c55adc720a3098c1b454d2a4647f4361">start</a>, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="_g_l_8h.html#10b284d589000663becfbc6867a3a9f7">count</a> )
<a name="l01226"></a>01226 {
<a name="l01227"></a>01227         <a class="code" href="_g_l_subsys_8cpp.html#2ba9bfe7eec2c0fb8e598623238be561">bglDrawArrays</a>( _primTypeLUT[ primType ], start, count );
<a name="l01228"></a>01228 }
<a name="l01229"></a>01229 
<a name="l01230"></a>01230 <span class="comment">//----------------------------------------------------------</span>
<a name="l01231"></a>01231 <span class="keywordtype">void</span>
<a name="l01232"></a><a class="code" href="_gr_util_8h.html#2d253d8206d0dd3465b2a051791c674b">01232</a> <a class="code" href="_gr_util_8cpp.html#893d86875d97390d70b2d642b142bc9f">GrDrawRangeArrays</a>( <a class="code" href="_gr_util_8h.html#b3e9826637cd9ac6566bdd76e9fce145">EGRPRIMTYPE</a> primType, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> minIndex, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> maxIndex,
<a name="l01233"></a>01233                                    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="_g_l_8h.html#10b284d589000663becfbc6867a3a9f7">count</a>, <a class="code" href="_gr_util_8h.html#ac7250b216f548e740b6d2e0d5d972f8">EGRTYPE</a> indexType, <span class="keywordtype">void</span>* <a class="code" href="_g_l_8h.html#0c1a6a349ce1520ca0284e13dcad1f86">indices</a> )
<a name="l01234"></a>01234 {
<a name="l01235"></a>01235         <a class="code" href="_g_l_subsys_8cpp.html#423585e9e2816753618fa813f15475bf">bglDrawRangeElements</a>( _primTypeLUT[ primType ], minIndex, maxIndex, count,
<a name="l01236"></a>01236                 _imageFormatTypeLUT[ indexType ], indices );
<a name="l01237"></a>01237 }
<a name="l01238"></a>01238 
<a name="l01239"></a>01239 
<a name="l01240"></a>01240 <span class="comment">//==========================================================</span>
<a name="l01242"></a>01242 <span class="comment"></span><span class="comment">//==========================================================</span>
<a name="l01243"></a>01243 
<a name="l01244"></a>01244 <span class="comment">//----------------------------------------------------------</span>
<a name="l01245"></a>01245 <span class="keywordtype">int</span>
<a name="l01246"></a><a class="code" href="_gr_util_8h.html#57ce65addf88b13e2ef46292a30fb539">01246</a> <a class="code" href="_gr_util_8cpp.html#57ce65addf88b13e2ef46292a30fb539" title="Miscellaneous.">GrGetMaxTextureSize</a>()
<a name="l01247"></a>01247 {
<a name="l01249"></a>01249         <a class="code" href="common__afx_8h.html#2630490ce4292ed6d05359d2957796b8">B_ASSERT</a>( _stateInit );
<a name="l01250"></a>01250         <span class="keywordflow">return</span> _maxTextureSize;
<a name="l01251"></a>01251 }
<a name="l01252"></a>01252 
<a name="l01253"></a>01253 <span class="comment">//----------------------------------------------------------</span>
<a name="l01254"></a>01254 <span class="keywordtype">int</span>
<a name="l01255"></a><a class="code" href="_gr_util_8h.html#314fa8e5a4bc247c611bdffaa7c357be">01255</a> <a class="code" href="_gr_util_8cpp.html#314fa8e5a4bc247c611bdffaa7c357be">GrGetMaxFramebufferSize</a>()
<a name="l01256"></a>01256 {
<a name="l01258"></a>01258         <a class="code" href="common__afx_8h.html#2630490ce4292ed6d05359d2957796b8">B_ASSERT</a>( _stateInit );
<a name="l01259"></a>01259         <span class="keywordflow">return</span> _maxFramebufferSize;
<a name="l01260"></a>01260 }
<a name="l01261"></a>01261 
<a name="l01262"></a>01262 <span class="comment">//----------------------------------------------------------</span>
<a name="l01263"></a>01263 <span class="keywordtype">int</span>
<a name="l01264"></a><a class="code" href="_gr_util_8h.html#69298fe2442ba2ee240106ec63d5b6b3">01264</a> <a class="code" href="_gr_util_8cpp.html#69298fe2442ba2ee240106ec63d5b6b3">GrGetMaxAttribCount</a>()
<a name="l01265"></a>01265 {
<a name="l01267"></a>01267         <a class="code" href="common__afx_8h.html#2630490ce4292ed6d05359d2957796b8">B_ASSERT</a>( _stateInit );
<a name="l01268"></a>01268         <span class="keywordflow">return</span> _maxAttribCount;
<a name="l01269"></a>01269 }
<a name="l01270"></a>01270 
<a name="l01271"></a>01271 <span class="comment">//**********************************************************</span>
<a name="l01273"></a>01273 <span class="comment"></span><span class="comment">//**********************************************************</span>
<a name="l01274"></a>01274 
<a name="l01275"></a>01275 <span class="comment">//----------------------------------------------------------</span>
<a name="l01276"></a>01276 <span class="keywordtype">void</span>
<a name="l01277"></a>01277 RestoreSampler( <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> texUnit )
<a name="l01278"></a>01278 {
<a name="l01279"></a>01279         <a class="code" href="_g_l_subsys_8cpp.html#9f8537a51789c0899c5c851192f93593">bglBindTexture</a>( _curTexTargets[ texUnit ], _curTextures[ texUnit ] );
<a name="l01280"></a>01280         <a class="code" href="_g_l_subsys_8h.html#ab12f88c1ad74a5b4876f37fcf105bda">CHECK_GL</a>();
<a name="l01281"></a>01281 }
</pre></div></div>
<hr size="1"><address style="text-align: right;"><small>Generated on Fri Feb 13 17:20:00 2009 for Bootstrap Engine by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.8 </small></address>
</body>
</html>
